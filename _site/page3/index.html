<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>3è¡Œä»£ç </title>
    <meta name="description" content="">

    <link rel="shortcut icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="stylesheet" href="/css/fontawesome/css/font-awesome.min.css ">
    <link rel="stylesheet" href="/css/main.css ">
    <link rel="canonical" href="http://localhost:4000/page3/">
    <link rel="alternate" type="application/rss+xml" title="3è¡Œä»£ç " href="http://localhost:4000/feed.xml ">


<script>
    // ç™¾åº¦ç»Ÿè®¡ä»£ç 
    var _hmt = _hmt || [];
    (function() {
     var hm = document.createElement("script");
     hm.src = "//hm.baidu.com/hm.js?d9432112fb859bf7276f8399641fb0c5";
     var s = document.getElementsByTagName("script")[0];
     s.parentNode.insertBefore(hm, s);
     })();
    </script>




    <script>
    // google analytics
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-85978943-1', 'auto');
      ga('send', 'pageview');

    </script>

</head>


  <body>

    <header id="top">
    <div class="wrapper">
        <a href="/" class="brand">3è¡Œä»£ç </a>
        <small>æŠ€æœ¯åšå®¢</small>
        <button id="headerMenu" class="menu"><i class="fa fa-bars"></i></button>
        <nav id="headerNav">
            <ul>
                
                <li>
                    
                    <a href="/">
                    
                        <i class="fa fa-home"></i>Home
                    </a>
                </li>


                
                    
                    <li>
                        
                        <a href="/archive/">
                        
                            <i class="fa fa-archive"></i>Archives
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/category/">
                        
                            <i class="fa fa-th-list"></i>Categories
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/tag/">
                        
                            <i class="fa fa-tags"></i>Tags
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/collection/">
                        
                            <i class="fa fa-bookmark"></i>Collections
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/about/">
                        
                            <i class="fa fa-heart"></i>About
                        </a>
                    </li>
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </ul>
        </nav>
    </div>
</header>


        <div class="page clearfix" index>
    <div class="left">
        <h1>Welcome to 3code.info!</h1>
        <small>è®°å½•ç”Ÿæ´»</small>
        <hr>
        <ul>
            
              <li>
                <h2>
                  <a class="post-link" href="/2016/11/20/swift_I_guide/">Swift_I_å…¥é—¨ä½“éªŒ</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2016-11-20
                    </div>
                    <div class="label-card">
                        <i class="fa fa-user"></i>3è¡Œä»£ç 
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">â€¢</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#Swift3.0" title="Category: Swift3.0" rel="category">Swift3.0</a>
    
  

  <!-- <span class="point">â€¢</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">â€¢</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#Swift3.0" title="Tag: Swift3.0" rel="tag">Swift3.0</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#section" id="markdown-toc-section">å‰è¨€</a>    <ul>
      <li><a href="#iconstants-and-variables" id="markdown-toc-iconstants-and-variables">I.Constants and Variables:å˜å¸¸é‡</a>        <ul>
          <li><a href="#declaring-constants-and-variables" id="markdown-toc-declaring-constants-and-variables">1.Declaring Constants and Variables:å£°æ˜</a></li>
          <li><a href="#naming-constants-and-variables" id="markdown-toc-naming-constants-and-variables">2.Naming Constants and Variablesï¼šå‘½å</a></li>
          <li><a href="#printing-constants-and-variables" id="markdown-toc-printing-constants-and-variables">3.Printing Constants and Variablesï¼šæ‰“å°</a></li>
        </ul>
      </li>
      <li><a href="#comments" id="markdown-toc-comments">Commentsï¼šæ³¨é‡Š</a></li>
      <li><a href="#semicolons" id="markdown-toc-semicolons">Semicolonsï¼šåˆ†å·</a></li>
      <li><a href="#integers" id="markdown-toc-integers">Integers</a>        <ul>
          <li><a href="#integer-bounds" id="markdown-toc-integer-bounds">1.Integer Boundsï¼šè¾¹ç•Œ</a></li>
          <li><a href="#int" id="markdown-toc-int">2.Int</a></li>
          <li><a href="#uint" id="markdown-toc-uint">3.UInt</a></li>
        </ul>
      </li>
      <li><a href="#floating-point-numbers" id="markdown-toc-floating-point-numbers">Floating-Point Numbers</a></li>
      <li><a href="#type-safety-and-type-inference" id="markdown-toc-type-safety-and-type-inference">Type Safety and Type Inferenceï¼šç±»å‹å®‰å…¨</a></li>
      <li><a href="#numeric-literals" id="markdown-toc-numeric-literals">Numeric Literals</a></li>
      <li><a href="#numeric-type-conversion-" id="markdown-toc-numeric-type-conversion-">Numeric Type Conversion æ•°å­—ç±»å‹è½¬æ¢</a>        <ul>
          <li><a href="#integer-conversion" id="markdown-toc-integer-conversion">Integer Conversion:æ•´å‹è½¬æ¢</a></li>
          <li><a href="#integer-and-floating-point-conversion" id="markdown-toc-integer-and-floating-point-conversion">Integer and Floating-Point Conversionï¼šæ•´å‹æµ®ç‚¹å‹è½¬æ¢</a></li>
        </ul>
      </li>
      <li><a href="#type-aliases" id="markdown-toc-type-aliases">Type Aliasesï¼šç±»å‹åˆ«å</a></li>
      <li><a href="#booleans" id="markdown-toc-booleans">Booleans</a></li>
      <li><a href="#tuples" id="markdown-toc-tuples">Tuplesï¼šå…ƒç»„</a></li>
      <li><a href="#optionals" id="markdown-toc-optionals">Optionalsï¼šå¯é€‰ç±»å‹</a>        <ul>
          <li><a href="#nil" id="markdown-toc-nil">nil</a></li>
          <li><a href="#if-statements-and-forced-unwrappingif" id="markdown-toc-if-statements-and-forced-unwrappingif">If Statements and Forced Unwrapping:ifå’Œå¼ºåˆ¶è§£æ</a></li>
          <li><a href="#optional-binding" id="markdown-toc-optional-binding">Optional Bindingï¼šå¯é€‰ç»‘å®š</a></li>
          <li><a href="#implicitly-unwrapped-optionals" id="markdown-toc-implicitly-unwrapped-optionals">Implicitly Unwrapped Optionalsï¼šéšå¼å¯é€‰ç±»å‹</a></li>
        </ul>
      </li>
      <li><a href="#error-handling" id="markdown-toc-error-handling">Error Handlingï¼šé”™è¯¯å¤„ç†</a></li>
      <li><a href="#assertions" id="markdown-toc-assertions">Assertionsï¼šæ–­è¨€</a>        <ul>
          <li><a href="#debugging-with-assertions" id="markdown-toc-debugging-with-assertions">Debugging with Assertionsï¼šä½¿ç”¨æ–­è¨€è°ƒè¯•</a></li>
          <li><a href="#when-to-use-assertions" id="markdown-toc-when-to-use-assertions">When to Use Assertionsï¼šä½•æ—¶ä½¿ç”¨æ–­è¨€</a></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h2 id="section">å‰è¨€</h2>

<ul>
  <li>å¿…å¤‡æ­¦å™¨ï¼šplayground+å®˜æ–¹æ–‡æ¡£ï¼›</li>
  <li>ç³»åˆ—ç« èŠ‚æˆ‘ä¼šä»¥ä¸­è‹±ç»“åˆçš„å½¢å¼å±•ç°ï¼Œä¸è¦é—®ä¸ºä»€ä¹ˆï¼›</li>
  <li>æœ¬ç¬”è®°é’ˆå¯¹æœ‰ä¸€å®šswiftæˆ–OCåŸºç¡€çš„ï¼›</li>
  <li>åç»­ç›¸å…³çš„æ–‡ç« éƒ½åŸºäº<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/TheBasics.html">The Swift Programming Language (Swift 3.0.1)</a> ï¼ŒåŸºæœ¬ä¸Šæ˜¯å›´ç»•æ–‡æ¡£ç¿»è¯‘ä¸€éã€‚</li>
</ul>

<p>å…ˆçƒ­çƒ­èº«ï¼š</p>
<ul>
  <li>SwiftåŒ…å«Cå’ŒOCçš„æ‰€æœ‰åŸºç¡€æ•°æ®ç±»å‹ï¼Œå†æ¬¡åŸºç¡€ä¸Šè¿˜å¼•å…¥äº†OCæ²¡æœ‰çš„é«˜çº§æ•°æ®ç±»å‹ï¼›</li>
  <li>constants ï¼šSwiftä¸­çš„å¸¸é‡æ¯”Cä¸­çš„æ›´åŠ å¼ºå¤§ï¼Œä½¿ç”¨æ›´å®‰å…¨ï¼›</li>
  <li>tuples ï¼šSwiftäº¦å¼•å…¥äº†OCæ²¡æœ‰çš„é«˜çº§æ•°æ®ç±»å‹ï¼Œå…ƒç»„ï¼›</li>
  <li>optional typesï¼šå¤„ç†æœªçŸ¥ç±»å‹ï¼Œæ¯”nilæ›´åŠ å®‰å…¨ï¼›</li>
  <li>type safetyï¼šSwiftæ˜¯ç±»å‹å®‰å…¨çš„ï¼Œä»£ç é‡Œå€¼çš„ç±»å‹éå¸¸æ˜ç¡®ï¼šéœ€è¦Stringç±»å‹ï¼Œä½ å°±ä¸èƒ½é”™è¯¯åœ°ä¼ é€’Intï¼›</li>
</ul>

<h3 id="iconstants-and-variables">I.Constants and Variables:å˜å¸¸é‡</h3>

<h5 id="declaring-constants-and-variables">1.Declaring Constants and Variables:å£°æ˜</h5>
<p>letå¸¸é‡ä¸ç”¨å¤šè¯´ï¼Œvarå˜é‡çš„éœ€è¦æ³¨æ„ï¼š typeæ˜¯å¦‚ä½•å®šä¹‰çš„ã€‚</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="c1">// typeå£°æ˜çš„æ–¹å¼1ï¼šåˆå§‹å€¼æ¨æ–­ã€‚</span>
<span class="k">let</span> <span class="nv">maximumNumberOfLoginAttempts</span> <span class="o">=</span> <span class="mi">10</span>
<span class="k">var</span> <span class="nv">currentLoginAttempt</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">var</span> <span class="nv">x</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.0</span>

<span class="c1">// æ–¹å¼2ï¼šType Annotations ç±»å‹æ ‡æ³¨</span>
<span class="k">var</span> <span class="nv">welcomeMessage</span><span class="p">:</span> <span class="kt">String</span> <span class="c1">// å®šä¹‰ä¸€ä¸ªStringç±»å‹çš„å˜é‡:welcomeMessage</span>
<span class="n">welcomeMessage</span> <span class="o">=</span> <span class="s">"Hello"</span> 
<span class="k">var</span> <span class="nv">red</span><span class="p">,</span> <span class="n">green</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="kt">Double</span> <span class="c1">// å®šä¹‰å¤šä¸ªåŒç±»å‹å˜é‡</span>
</code></pre>
</div>

<h5 id="naming-constants-and-variables">2.Naming Constants and Variablesï¼šå‘½å</h5>

<p>å¸¸é‡å’Œå˜é‡åå‡ ä¹å¯ä»¥åŒ…å«ä»»ä½•å­—ç¬¦ï¼ŒåŒ…æ‹¬Unicodeå­—ç¬¦ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="c1">// 1ã€</span>
<span class="k">let</span> <span class="nv">Ï€</span> <span class="o">=</span> <span class="mf">3.14159</span>
<span class="k">let</span> <span class="nv">ä½ å¥½</span> <span class="o">=</span> <span class="s">"ä½ å¥½ä¸–ç•Œ"</span>
<span class="k">let</span> <span class="nv">ğŸ¶ğŸ®</span> <span class="o">=</span> <span class="s">"dogcow"</span>

<span class="c1">// 2ã€</span>
<span class="cm">/* 
æ³¨æ„ï¼šå¸¸é‡å’Œå˜é‡çš„åå­—ä¸èƒ½åŒ…å«ç©ºæ ¼ã€æ•°å­¦ç¬¦å·ã€ç®­å¤´ã€ç§ç”¨çš„ï¼ˆéæ³•çš„ï¼‰Unicodeä»£ç ç‚¹ã€è¿çº¿ä¸åˆ¶è¡¨ç¬¦ã€‚ä¹Ÿä¸èƒ½ä»¥æ•°å­—å¼€å¤´ã€‚
*/</span>

<span class="c1">// 3ã€</span>
<span class="cm">/*
å¦‚æœä½¿ç”¨ä¸Swiftä¿ç•™å…³é”®å­—ç›¸åŒçš„åç§°ä½œä¸ºå¸¸é‡æˆ–è€…å˜é‡åï¼Œå¯ä»¥ä½¿ç”¨åå¼•å·ï¼ˆ`ï¼‰å°†å…³é”®å­—åŒ…å›´çš„æ–¹å¼å°†å…¶ä½œä¸ºåå­—ä½¿ç”¨ã€‚ä¾‹å­å¦‚ä¸‹ï¼š  å°½é‡è¿˜æ˜¯é¿å…ä½¿ç”¨å…³é”®å­—
*/</span>
<span class="kd">let</span> <span class="err">`</span><span class="kd">let</span><span class="err">`</span> <span class="o">=</span> <span class="mi">10</span>
<span class="nf">print</span><span class="p">(</span><span class="err">`</span><span class="kd">let</span><span class="err">`</span><span class="p">)</span>

<span class="c1">// 4ã€å¸¸é‡çš„å€¼ä¸€æ—¦è®¾å®šåå°±ä¸èƒ½æ›´æ”¹.å¦‚æœå°è¯•å»æ›´æ”¹ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™</span>
</code></pre>
</div>

<h5 id="printing-constants-and-variables">3.Printing Constants and Variablesï¼šæ‰“å°</h5>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="c1">// é»˜è®¤æƒ…å†µä¸‹ï¼Œprintä¼šåŠ ä¸€ä¸ªæ¢è¡Œç¬¦æ¥ç»“æŸå½“å‰è¡Œ</span>
<span class="nf">print</span><span class="p">(</span><span class="n">friendlyWelcome</span><span class="p">)</span>                 <span class="c1">// Prints "Bonjour!\n" </span>
<span class="c1">// å¯ä»¥ç»™terminatorèµ‹ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼Œé˜²æ­¢æ¢è¡Œ</span>
<span class="nf">print</span><span class="p">(</span><span class="n">friendlyWelcome</span><span class="p">,</span> <span class="nv">terminator</span><span class="p">:</span> <span class="s">""</span><span class="p">)</span> <span class="c1">// Prints "Bonjour!"</span>

<span class="cm">/*
print(_:separator:terminator)å‡½æ•°æ˜¯ä¸€ä¸ªæ‰“å°ä¸€ä¸ªæˆ–å¤šä¸ªå€¼åˆ°ç›¸åº”è¾“å‡ºåŒºåŸŸçš„å…¨å±€çš„å‡½æ•°ã€‚separator å’Œ terminator å‚æ•°æœ‰é»˜è®¤å€¼ï¼Œä¸€èˆ¬å¯ä»¥å¿½ç•¥ä¹‹
*/</span>

<span class="c1">// Swift ç”¨å­—ç¬¦ä¸²æ’å€¼ï¼ˆstring interpolationï¼‰çš„æ–¹å¼æŠŠå¸¸é‡åæˆ–è€…å˜é‡åå½“åšå ä½ç¬¦åŠ å…¥åˆ°é•¿å­—ç¬¦ä¸²ä¸­ï¼Œå¹¶ä¸”å»æç¤ºSwift ç”¨å½“å‰å¸¸é‡æˆ–å˜é‡çš„å€¼æ›¿æ¢è¿™äº›å ä½ç¬¦ã€‚å°†å¸¸é‡æˆ–å˜é‡åæ”¾å…¥åœ†æ‹¬å·ä¸­ï¼Œå¹¶åœ¨å¼€æ‹¬å·å‰ä½¿ç”¨åæ–œæ å°†å…¶è½¬ä¹‰ï¼š </span>
<span class="nf">print</span><span class="p">(</span><span class="s">"The current value of friendlyWelcome is </span><span class="se">\(</span><span class="n">friendlyWelcome</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="c1">// Prints "The current value of friendlyWelcome is Bonjour!"</span>

</code></pre>
</div>

<h3 id="comments">Commentsï¼šæ³¨é‡Š</h3>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code>
<span class="c1">// This is a comment.</span>

<span class="cm">/* This is also a comment
 but is written over multiple lines. */</span>

<span class="cm">/* åµŒå¥—æ³¨é‡Š: This is the start of the first multiline comment.
 /* This is the second, nested multiline comment. */
 This is the end of the first multiline comment. */</span>

</code></pre>
</div>

<h3 id="semicolons">Semicolonsï¼šåˆ†å·</h3>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="c1">// å•è¡Œä»£ç å¯ä»¥ä¸ç”¨æ³¨é‡Šï¼Œ</span>
<span class="k">let</span> <span class="nv">cat</span> <span class="o">=</span> <span class="s">"ğŸ±"</span>
<span class="k">let</span> <span class="nv">dog</span> <span class="o">=</span> <span class="s">"ğŸ¶"</span>
<span class="c1">// å¤šè¡Œä»£ç åˆå¹¶åˆ°ä¸€è¡Œï¼Œéœ€è¦åˆ†å·</span>
<span class="k">let</span> <span class="nv">cat</span> <span class="o">=</span> <span class="s">"ğŸ±"</span><span class="p">;</span> <span class="nf">print</span><span class="p">(</span><span class="n">cat</span><span class="p">)</span>
<span class="c1">// Prints "ğŸ±"</span>


</code></pre>
</div>

<h3 id="integers">Integers</h3>
<p>Swiftæä¾›çš„æœ‰ç¬¦å·å’Œæ— ç¬¦å·æ•´æ•°ç”±8,16,32å’Œ64ä½ç»„æˆã€‚8ä½æ— ç¬¦å·æ•´æ•°ç±»å‹æ˜¯UInt8,32ä½æœ‰ç¬¦å·æ•´æ•°çš„ç±»å‹æ˜¯Int32ã€‚</p>

<h5 id="integer-bounds">1.Integer Boundsï¼šè¾¹ç•Œ</h5>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">minValue</span> <span class="o">=</span> <span class="kt">UInt8</span><span class="o">.</span><span class="n">min</span>  <span class="c1">// minValue is equal to 0, and is of type UInt8</span>
<span class="k">let</span> <span class="nv">maxValue</span> <span class="o">=</span> <span class="kt">UInt8</span><span class="o">.</span><span class="n">max</span>  <span class="c1">// maxValue is equal to 255, and is of type UInt8</span>
</code></pre>
</div>

<h5 id="int">2.Int</h5>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œä½ ä¸éœ€è¦ç»™æ•´æ•°æŒ‡å®šä¸€ä¸ªç‰¹å®šçš„é•¿åº¦,Swiftä¼šè‡ªåŠ¨å¤„ç†ï¼š</p>
<ul>
  <li>åœ¨32ä½å¹³å°ä¸Šï¼ŒIntå’ŒInt32é•¿åº¦ç›¸åŒã€‚</li>
  <li>åœ¨64ä½å¹³å°ä¸Šï¼ŒIntå’ŒInt64é•¿åº¦ç›¸åŒã€‚</li>
  <li>32ä½å¹³å°ä¸Šï¼Œ Intå¯ä»¥å­˜å‚¨çš„æ•´æ•°èŒƒå›´ä¹Ÿå¯ä»¥è¾¾åˆ°-2,147,483,648~2,147,483,647ã€‚æ‰€ä»¥ä¸€èˆ¬æƒ…å†µä¸ç”¨æ‹…å¿ƒå¤§å°çš„é—®é¢˜ã€‚</li>
</ul>

<h5 id="uint">3.UInt</h5>
<p>UInté•¿åº¦ä¸å½“å‰å¹³å°çš„åŸç”Ÿå­—é•¿ç›¸åŒï¼š</p>
<ul>
  <li>åœ¨32ä½å¹³å°ä¸Šï¼ŒUIntå’ŒUInt32é•¿åº¦ç›¸åŒã€‚</li>
  <li>åœ¨64ä½å¹³å°ä¸Šï¼ŒUIntå’ŒUInt64é•¿åº¦ç›¸åŒã€‚</li>
</ul>

<p>æ³¨æ„ï¼šå°½é‡ä¸è¦ä½¿ç”¨UIntï¼Œé™¤éä½ çœŸçš„éœ€è¦å­˜å‚¨ä¸€ä¸ªå’Œå½“å‰å¹³å°åŸç”Ÿå­—é•¿ç›¸åŒçš„æ— ç¬¦å·æ•´æ•°ã€‚ç»Ÿä¸€ä½¿ç”¨Intå¯ä»¥æé«˜ä»£ç çš„å¯å¤ç”¨æ€§ï¼Œé¿å…ä¸åŒç±»å‹æ•°å­—ä¹‹é—´çš„è½¬æ¢ã€‚</p>

<h3 id="floating-point-numbers">Floating-Point Numbers</h3>

<p>æµ®ç‚¹ç±»å‹æ¯”æ•´æ•°ç±»å‹è¡¨ç¤ºçš„èŒƒå›´æ›´å¤§ï¼Œå¯ä»¥å­˜å‚¨æ¯”Intç±»å‹æ›´å¤§æˆ–è€…æ›´å°çš„æ•°å­—ã€‚Swift æä¾›äº†ä¸¤ç§æœ‰ç¬¦å·æµ®ç‚¹æ•°ç±»å‹ï¼š</p>
<ul>
  <li>Doubleè¡¨ç¤º64ä½æµ®ç‚¹æ•°ã€‚å­˜å‚¨å¾ˆå¤§æˆ–è€…å¾ˆé«˜ç²¾åº¦çš„æµ®ç‚¹æ•°;</li>
  <li>Floatè¡¨ç¤º32ä½æµ®ç‚¹æ•°ã€‚ç²¾åº¦è¦æ±‚ä¸é«˜å¯ä½¿ç”¨æ­¤ç±»å‹;</li>
</ul>

<p>æ³¨æ„ï¼š Doubleç²¾ç¡®åº¦å¾ˆé«˜ï¼Œå¯ä»¥ç²¾ç¡®åˆ°15ä½å°æ•°ä½æ•°ï¼Œè€ŒFloatåªèƒ½ç²¾ç¡®åˆ°6ä½å°æ•°ä½æ•°ã€‚Swiftåœ¨æ¨æ–­æµ®ç‚¹å‹æ•°å­—æ—¶ï¼Œä¼˜å…ˆä½¿ç”¨Doubleç±»å‹ã€‚</p>

<h3 id="type-safety-and-type-inference">Type Safety and Type Inferenceï¼šç±»å‹å®‰å…¨</h3>

<p>Swiftæ˜¯ä¸€ä¸ªç±»å‹å®‰å…¨çš„è¯­è¨€ã€‚å¹¶ä¸”å¯ä»¥è¿›è¡Œç±»å‹æ¨æ–­ã€‚</p>

<ul>
  <li>1ã€ç¼–è¯‘ä»£ç çš„æ—¶å€™å®ƒæ‰§è¡Œç±»å‹æ£€æŸ¥ï¼Œå¹¶ä¼šå°†ä»»ä½•ç±»å‹ä¸åŒ¹é…ç±»å‹æ ‡æ³¨ä¸ºé”™è¯¯ï¼›</li>
  <li>2ã€å¦‚æœæ²¡æœ‰ç»™å€¼æŒ‡å®šä¸€ä¸ªç±»å‹ï¼ŒSwiftä¼šé€šè¿‡ç±»å‹æ¨æ–­å»æ¨æ–­å‡ºç›¸å¯¹åº”çš„ç±»å‹ï¼›</li>
  <li>3ã€ç”±äºæœ‰ç±»å‹æ¨æ–­ï¼ŒSwiftç›¸å¯¹äºCè¯­è¨€å’ŒObjective-Cæ¥è¯´ï¼Œåªéœ€è¦æ›´å°‘çš„ç±»å‹å£°æ˜ã€‚
ä»£ç å¦‚ä¸‹ï¼š
    <div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">meaningOfLife</span> <span class="o">=</span> <span class="mi">42</span>       <span class="c1">// meaningOfLife is inferred to be of type Int</span>
<span class="k">let</span> <span class="nv">pi</span> <span class="o">=</span> <span class="mf">3.14159</span>             <span class="c1">// pi is inferred to be of type Double</span>
<span class="k">let</span> <span class="nv">anotherPi</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">+</span> <span class="mf">0.14159</span>  <span class="c1">// anotherPi is also inferred to be of type Doubleã€‚Swiftä¼˜å…ˆæ¨æ–­Double</span>
</code></pre>
    </div>
  </li>
</ul>

<h3 id="numeric-literals">Numeric Literals</h3>

<p>1ã€æ•´æ•°å¸¸é‡å¯ä»¥å†™ä¸ºï¼š</p>
<ul>
  <li>ä¸€ä¸ªåè¿›åˆ¶æ•°ï¼Œæ— å‰ç¼€</li>
  <li>ä¸€ä¸ªäºŒè¿›åˆ¶æ•°å­—ï¼Œç”¨0bå‰ç¼€</li>
  <li>ä¸€ä¸ªå…«è¿›åˆ¶æ•°ï¼Œæœ‰0oå‰ç¼€</li>
  <li>ä¸€ä¸ªåå…­è¿›åˆ¶æ•°å­—ï¼Œç”¨0xå‰ç¼€</li>
</ul>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">decimalInteger</span> <span class="o">=</span> <span class="mi">17</span>
<span class="k">let</span> <span class="nv">binaryInteger</span> <span class="o">=</span> <span class="mb">0b10001</span>       <span class="c1">// 17 in binary notation</span>
<span class="k">let</span> <span class="nv">octalInteger</span> <span class="o">=</span> <span class="mi">0</span><span class="n">o21</span>           <span class="c1">// 17 in octal notation</span>
<span class="k">let</span> <span class="nv">hexadecimalInteger</span> <span class="o">=</span> <span class="mh">0x11</span>     <span class="c1">// 17 in hexadecimal notation</span>
</code></pre>
</div>

<p>2ã€Numeric Literalsè¿˜æœ‰ä¸€ä¸ªå¯é€‰çš„æŒ‡æ•°(exponent),åè¿›åˆ¶ç”¨e/EæŒ‡å®šï¼Œåå…­è¿›åˆ¶ç”¨p/PæŒ‡å®š:</p>

<ul>
  <li>1.25e2 è¡¨ç¤º1.25 Ã— 10^2ï¼Œç­‰äº125.0</li>
  <li>
    <p>1.25e-2 è¡¨ç¤º1.25 Ã— 10^-2ï¼Œç­‰äº0.0125</p>
  </li>
  <li>0xFp2 è¡¨ç¤º15 Ã— 2^2ï¼Œç­‰äº60.0</li>
  <li>0xFp-2 è¡¨ç¤º15 Ã— 2^-2ï¼Œç­‰äº3.75</li>
</ul>

<p>å¦‚ä¸‹éƒ½è¡¨ç¤ºåè¿›åˆ¶12.1875:</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">decimalDouble</span> <span class="o">=</span> <span class="mf">12.1875</span>
<span class="k">let</span> <span class="nv">exponentDouble</span> <span class="o">=</span> <span class="mf">1.21875e1</span>
<span class="k">let</span> <span class="nv">hexadecimalDouble</span> <span class="o">=</span> <span class="mh">0xC</span><span class="o">.</span><span class="mi">3</span><span class="n">p0</span>
</code></pre>
</div>

<p>3ã€Numeric Literalså¯ä»¥åŒ…å«é¢å¤–çš„æ ¼å¼ï¼Œä½¿å®ƒä»¬æ›´å®¹æ˜“é˜…è¯»ã€‚è¿™ä¸¤ä¸ªæ•´æ•°å’Œæµ®ç‚¹æ•°å¯ä»¥ç”¨é¢å¤–çš„é›¶å¡«å……å¹¶ä¸”å¯ä»¥åŒ…å«ä¸‹åˆ’çº¿ï¼Œä»¥å¸®åŠ©å¯è¯»æ€§ã€‚æ— è®ºä½•ç§ç±»å‹çš„æ ¼å¼ä¸ä¼šå½±å“å…¶åŸºæœ¬æ•°å€¼ï¼š</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">paddedDouble</span> <span class="o">=</span> <span class="mf">000123.456</span>
<span class="k">let</span> <span class="nv">oneMillion</span> <span class="o">=</span> <span class="mi">1_000_000</span>
<span class="k">let</span> <span class="nv">justOverOneMillion</span> <span class="o">=</span> <span class="mi">1_000_000</span><span class="o">.</span><span class="mo">000_000_1</span>
</code></pre>
</div>

<h3 id="numeric-type-conversion-">Numeric Type Conversion æ•°å­—ç±»å‹è½¬æ¢</h3>

<p>ä¸€å¥è¯ï¼šä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ•´æ•°å‹å¸¸å˜é‡éƒ½å»ºè®®ä½¿ç”¨Intç±»å‹ã€‚</p>

<h5 id="integer-conversion">Integer Conversion:æ•´å‹è½¬æ¢</h5>

<ul>
  <li>SomeType(ofInitialValue)ç±»å‹è½¬æ¢</li>
  <li>åŸºæœ¬è¿ç®—ç¬¦ä¸¤ä¾§çš„æ•°å­—éœ€è¦æ˜¯åŒç±»å‹çš„ï¼Œ
    <div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">twoThousand</span><span class="p">:</span> <span class="kt">UInt16</span> <span class="o">=</span> <span class="mi">2_000</span>
<span class="k">let</span> <span class="nv">one</span><span class="p">:</span> <span class="kt">UInt8</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">let</span> <span class="nv">twoThousandAndOne</span> <span class="o">=</span> <span class="n">twoThousand</span> <span class="o">+</span> <span class="kt">UInt16</span><span class="p">(</span><span class="n">one</span><span class="p">)</span><span class="c1">// ä¸èƒ½ç›´æ¥ç›¸åŠ ï¼Œéœ€è¦ç±»å‹è½¬æ¢</span>
</code></pre>
    </div>
  </li>
</ul>

<h5 id="integer-and-floating-point-conversion">Integer and Floating-Point Conversionï¼šæ•´å‹æµ®ç‚¹å‹è½¬æ¢</h5>
<p>å¿…é¡»æ˜¾å¼æŒ‡å®šç±»å‹ï¼Œå¦åˆ™æŠ¥é”™</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">three</span> <span class="o">=</span> <span class="mi">3</span> 
<span class="k">let</span> <span class="nv">pointOneFourOneFiveNine</span> <span class="o">=</span> <span class="mf">0.14159</span>
<span class="k">let</span> <span class="nv">papi</span> <span class="o">=</span>  <span class="n">three</span><span class="o">+</span><span class="n">pointOneFourOneFiveNine</span> <span class="c1">// æŠ¥é”™</span>
<span class="k">let</span> <span class="nv">pi</span> <span class="o">=</span> <span class="kt">Double</span><span class="p">(</span><span class="n">three</span><span class="p">)</span> <span class="o">+</span> <span class="n">pointOneFourOneFiveNine</span> <span class="c1">// OK,is inferred to be of type Double</span>
<span class="k">let</span> <span class="nv">integerPi</span> <span class="o">=</span> <span class="kt">Int</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
<span class="c1">// integerPi equals 3, and is inferred to be of type Int</span>

</code></pre>
</div>

<p><strong>æ³¨æ„ï¼šå¦‚ä¸‹ä»£ç ï¼Œå¦‚æœæ•°å­—æ²¡æœ‰è¢«æ˜ç¡®æŒ‡å®šç±»å‹ï¼Œé‚£ä¹ˆä»–ä»¬çš„ç±»å‹ä¼šåœ¨ç¼–è¯‘éœ€è¦æ—¶è¢«æ¨æµ‹ã€‚</strong>
<strong>ä½†æ˜¯å¦‚æœå·²ç»æ˜¾å¼ä¹‹å¤„äº†ç±»å‹ï¼Œå¿…é¡»å…ˆè¿›è¡Œç±»å‹è½¬æ¢ï¼Œæ‰èƒ½å¤Ÿè¿ç®—</strong></p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">twoThousand</span><span class="p">:</span> <span class="kt">UInt16</span> <span class="o">=</span> <span class="mi">2_000</span>
<span class="k">let</span> <span class="nv">one</span><span class="p">:</span> <span class="kt">UInt8</span> <span class="o">=</span> <span class="mi">10</span>
<span class="k">let</span> <span class="nv">e1</span> <span class="o">=</span> <span class="n">twoThousand</span><span class="o">+</span><span class="mi">10</span> <span class="c1">// ok  ç±»å‹ä¼šåœ¨ç¼–è¯‘éœ€è¦æ—¶è¢«æ¨æµ‹</span>
<span class="k">let</span> <span class="nv">e2</span> <span class="o">=</span> <span class="n">twoThousand</span><span class="o">+</span><span class="n">one</span> <span class="c1">// æŠ¥é”™</span>

</code></pre>
</div>

<h3 id="type-aliases">Type Aliasesï¼šç±»å‹åˆ«å</h3>

<p>è‡ªå®šä¹‰ç¬¦åˆè‡ªå·±é£æ ¼æˆ–è€…æ›´æœ‰æ„ä¹‰çš„åå­—ï¼šAudioSampleä»£è¡¨UInt16</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">typealias</span> <span class="kt">AudioSample</span> <span class="o">=</span> <span class="kt">UInt16</span>
<span class="k">var</span> <span class="nv">maxAmplitudeFound</span> <span class="o">=</span> <span class="kt">AudioSample</span><span class="o">.</span><span class="n">min</span>
</code></pre>
</div>

<h3 id="booleans">Booleans</h3>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">orangesAreOrange</span> <span class="o">=</span> <span class="kc">true</span>
<span class="k">let</span> <span class="nv">turnipsAreDelicious</span> <span class="o">=</span> <span class="kc">false</span>
<span class="k">if</span> <span class="n">turnipsAreDelicious</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Mmm, tasty turnips!"</span><span class="p">)</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Eww, turnips are horrible."</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1">// Prints "Eww, turnips are horrible."</span>

</code></pre>
</div>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">i</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">if</span> <span class="n">i</span> <span class="p">{</span>
    <span class="c1">// æŠ¥é”™è€Œä¸ä¼šç¼–è¯‘ï¼Œå› ä¸ºåœ¨è¯¥ä½¿ç”¨BOOLçš„åœ°æ–¹ä½¿ç”¨äº†éBOOLå€¼</span>
<span class="p">}</span>

<span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">1</span> <span class="p">{</span>
    <span class="c1">// compile successfully</span>
<span class="p">}</span>
</code></pre>
</div>

<h3 id="tuples">Tuplesï¼šå…ƒç»„</h3>

<p>æŠŠå¤šä¸ªå€¼ç¬¦åˆç»„æˆä¸€ä¸ªå¤åˆå€¼ï¼Œå…¶ä¸­ç±»å‹æ²¡è¦æ±‚ï¼Œæ˜¯ä»»æ„ç±»å‹ã€‚</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="c1">// 1ã€http404Errorçš„å…ƒç»„</span>
<span class="k">let</span> <span class="nv">http404Error</span> <span class="o">=</span> <span class="p">(</span><span class="mi">404</span><span class="p">,</span> <span class="s">"Not Found"</span><span class="p">)</span>
<span class="c1">// http404Error is of type (Int, String), and equals (404, "Not Found")</span>

<span class="c1">// 2ã€å…ƒç»„çš„å†…å®¹å¯ä»¥å–å‡ºä½œä¸ºå•ç‹¬çš„å¸¸é‡å’Œå˜é‡ï¼š</span>
<span class="nf">let</span> <span class="p">(</span><span class="n">statusCode</span><span class="p">,</span> <span class="n">statusMessage</span><span class="p">)</span> <span class="o">=</span> <span class="n">http404Error</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"The status code is </span><span class="se">\(</span><span class="n">statusCode</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="c1">// Prints "The status code is 404"</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"The status message is </span><span class="se">\(</span><span class="n">statusMessage</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="c1">// Prints "The status message is Not Found"</span>

<span class="c1">// 3ã€å¯ä»¥å¿½ç•¥ä¸éœ€è¦çš„å…ƒç»„å€¼ï¼Œé€šè¿‡ä½¿ç”¨ä¸‹æ»‘çº¿_</span>
<span class="nf">let</span> <span class="p">(</span><span class="n">justTheStatusCode</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span> <span class="o">=</span> <span class="n">http404Error</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"The status code is </span><span class="se">\(</span><span class="n">justTheStatusCode</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="c1">// Prints "The status code is 404"</span>

<span class="c1">// 4ã€ä½¿ç”¨ç´¢å¼•è®¿é—®å…ƒç»„</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"The status code is </span><span class="se">\(</span><span class="n">http404Error</span><span class="o">.</span><span class="mi">0</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="c1">// Prints "The status code is 404"</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"The status message is </span><span class="se">\(</span><span class="n">http404Error</span><span class="o">.</span><span class="mi">1</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="c1">// Prints "The status message is Not Found"</span>

<span class="c1">// 5ã€å®šä¹‰å…ƒç»„æ—¶å¯ä»¥åˆ†åˆ«å‘½åå„ä¸ªå…ƒç´ </span>
<span class="k">let</span> <span class="nv">http200Status</span> <span class="o">=</span> <span class="p">(</span><span class="nv">statusCode</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span> <span class="nv">description</span><span class="p">:</span> <span class="s">"OK"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"The status code is </span><span class="se">\(</span><span class="n">http200Status</span><span class="o">.</span><span class="n">statusCode</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="c1">// Prints "The status code is 200"</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"The status message is </span><span class="se">\(</span><span class="n">http200Status</span><span class="o">.</span><span class="n">description</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="c1">// Prints "The status message is OK"</span>

</code></pre>
</div>
<p>æ³¨æ„ï¼š</p>
<ul>
  <li>å…ƒç»„åœ¨ä¸´æ—¶æ•°æ®ä¸­éå¸¸æœ‰ç”¨ï¼Œä½†ä¸é€‚åˆç”¨äºåˆ›å»ºå¤æ‚çš„æ•°æ®ç»“æ„(ä½¿ç”¨ç±»æˆ–è€…ç»“æ„ä½“ç­‰)ã€‚</li>
  <li>å°†å…ƒç»„ç”¨ä½œå‡½æ•°è¿”å›å€¼æ˜¯ä¸é”™çš„é€‰æ‹©ã€‚</li>
</ul>

<h3 id="optionals">Optionalsï¼šå¯é€‰ç±»å‹</h3>

<p>åœ¨Cæˆ–è€…OCä¸­æ²¡æœ‰å¯é€‰ç±»å‹çš„æ¦‚å¿µï¼Œè­¬å¦‚ä¸‹é¢çš„ä»£ç ï¼Œå¯ä»¥çœ‹å‡ºå…¶ç”¨å¤„</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="c1">// å°†Stringè½¬Intï¼š</span>
<span class="k">let</span> <span class="nv">possibleNumber</span> <span class="o">=</span> <span class="s">"123"</span>
<span class="k">let</span> <span class="nv">possibleNumber2</span> <span class="o">=</span> <span class="s">"www.3code.info"</span>
<span class="k">let</span> <span class="nv">convertedNumber</span> <span class="o">=</span> <span class="kt">Int</span><span class="p">(</span><span class="n">possibleNumber</span><span class="p">)</span> <span class="c1">//è¢«æ¨æµ‹ä¸ºç±»å‹ "Int?", or "optional Int"</span>
<span class="k">let</span> <span class="nv">convertedNumber2</span> <span class="o">=</span> <span class="kt">Int</span><span class="p">(</span><span class="n">possibleNumber2</span><span class="p">)</span> <span class="c1">//ä¸ä¼šæŠ¥é”™çš„ï¼Œæ˜¯å¯é€‰ç±»å‹</span>
</code></pre>
</div>
<p>é‚£ä¹ˆconvertedNumberçš„ç±»å‹æ˜¯ï¼šInt?,è€Œä¸æ˜¯Intï¼Œæ„å³æ˜¯ä¸æ˜ç¡®çš„ã€‚ï¼Ÿè¡¨ç¤ºå¯èƒ½æ˜¯Intï¼Œä¹Ÿå¯èƒ½æ˜¯å…¶ä»–ç±»å‹å®ï¼Œæˆ–è€…æ˜¯ä¸å­˜çš„ã€‚</p>

<h5 id="nil">nil</h5>
<p>Swiftä¸­çš„nilå’ŒOCçš„ä¸å¤ªä¸€æ ·ï¼Œè¿™é‡Œå¹¶ä¸æ˜¯æŒ‡é’ˆï¼Œä»–æ˜¯æŒ‡æŸç§ç±»å‹çš„ç¼ºçœå€¼ã€‚ä»»æ„ç±»å‹éƒ½å¯ä»¥è¢«è®¾ç½®ä¸ºnilï¼Œè€Œä¸ä»…ä»…æ˜¯å¯¹è±¡ç±»å‹ã€‚</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">var</span> <span class="nv">serverResponseCode</span><span class="p">:</span> <span class="kt">Int</span><span class="p">?</span> <span class="o">=</span> <span class="mi">404</span>
<span class="k">var</span> <span class="nv">serverResponseCode2</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">404</span>
 
<span class="n">serverResponseCode</span> <span class="o">=</span> <span class="kc">nil</span> <span class="c1">// OK</span>
<span class="n">serverResponseCode2</span> <span class="o">=</span> <span class="kc">nil</span> <span class="c1">// æŠ¥é”™</span>

<span class="k">var</span> <span class="nv">surveyAnswer</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span>
<span class="c1">// ç¼ºçœçš„å®šä¹‰ï¼Œvalueé»˜è®¤æ˜¯nil</span>

</code></pre>
</div>
<p>æ³¨æ„ï¼šnilæ˜¯ä¸èƒ½åœ¨ä¸å¯é€‰ç±»å‹ä¸­ä½¿ç”¨çš„ã€‚</p>

<h5 id="if-statements-and-forced-unwrappingif">If Statements and Forced Unwrapping:ifå’Œå¼ºåˆ¶è§£æ</h5>

<p>å¼ºåˆ¶è§£æ:å¯ä»¥åœ¨å¯é€‰ç±»å‹åæ·»åŠ !æ¥å–å‡ºå…¶ä¸­çš„æ•°å€¼ï¼Œå‰ææ˜¯å­˜åœ¨æ•°å€¼ã€‚è¿™å°±æ˜¯å¼ºåˆ¶è§£æã€‚ï¼è¡¨ç¤ºæˆ‘çŸ¥é“è¿™ä¸ªå¯é€‰ç±»å‹ä¸€å®šæœ‰æ•°å€¼ï¼Œè¯·ä½¿ç”¨è¿™ä¸ªæ•°å€¼ã€‚</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">possibleNumber</span> <span class="o">=</span> <span class="s">"123"</span>
<span class="k">let</span> <span class="nv">convertedNumber</span> <span class="o">=</span> <span class="kt">Int</span><span class="p">(</span><span class="n">possibleNumber</span><span class="p">)</span> <span class="c1">// å¯é€‰ç±»å‹</span>

<span class="c1">// å¯ä»¥é€šè¿‡ifæ¥åˆ¤æ–­ä¸Šè¯‰å¯é€‰ç±»å‹æ˜¯å¦æœ‰å€¼</span>
<span class="k">if</span> <span class="n">convertedNumber</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
    <span class="c1">// é€šè¿‡!æ¥å–å‡ºå¯é€‰ç±»å‹çš„å€¼ã€‚</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"convertedNumber has an integer value of </span><span class="se">\(</span><span class="n">convertedNumber</span><span class="o">!</span><span class="se">)</span><span class="s">."</span><span class="p">)</span>
    <span class="c1">// Prints "convertedNumber has an integer value of 123."</span>
<span class="p">}</span>
</code></pre>
</div>
<p>æ³¨æ„ï¼šåªæœ‰åœ¨ç¡®å®šå¯é€‰ç±»å‹æœ‰å€¼ä¹‹åï¼Œæ‰å¯ä»¥å¼ºåˆ¶è§£æå€¼ï¼Œå¦åˆ™è¿è¡Œæ—¶ä¼šæŠ¥é”™</p>

<h5 id="optional-binding">Optional Bindingï¼šå¯é€‰ç»‘å®š</h5>

<p>å¯é€‰ç»‘å®šç”¨æ¥åˆ¤æ–­å¯é€‰ç±»å‹æ˜¯å¦åŒ…å«å€¼ï¼Œå¦‚æœåŒ…å«å°±æŠŠå€¼èµ‹ç»™ä¸´æ—¶å¸¸å˜é‡ï¼Œå¯ä»¥ç”¨åœ¨if while ä¸­ï¼Œå¦‚ä¸‹
æ ‡å‡†æ ¼å¼;</p>
<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="k">if</span> <span class="kd">let</span> <span class="nx">constantName</span> <span class="o">=</span> <span class="nx">someOptional</span> <span class="p">{</span>
    <span class="nx">statements</span>
<span class="p">}</span>
</code></pre>
</div>
<p>å¦‚ä¸‹ä»£ç è¡¨ç¤ºï¼šå¦‚æœå¯é€‰ç±»å‹possibleNumber(Intï¼Ÿ)åŒ…å«ä¸€ä¸ªæ•°å€¼ï¼Œé‚£ä¹ˆå°±å°†å…¶å€¼èµ‹ç»™æ–°å»ºçš„å¸¸é‡actualNumberï¼Œ</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">possibleNumber</span> <span class="o">=</span> <span class="s">"123"</span>
<span class="k">if</span> <span class="k">let</span> <span class="nv">actualNumber</span> <span class="o">=</span> <span class="kt">Int</span><span class="p">(</span><span class="n">possibleNumber</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"</span><span class="se">\"\(</span><span class="n">possibleNumber</span><span class="se">)\"</span><span class="s"> has an integer value of </span><span class="se">\(</span><span class="n">actualNumber</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"</span><span class="se">\"\(</span><span class="n">possibleNumber</span><span class="se">)\"</span><span class="s"> could not be converted to an integer"</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1">// Prints ""123" has an integer value of 123"</span>
</code></pre>
</div>

<p>å¦‚æœä¸€ä¸ªå¯é€‰ç»‘å®šçš„å€¼æ˜¯nilæˆ–è€…BOOLè®¡ç®—ç»“æœæ˜¯falseã€‚é‚£ä¹ˆæ•´ä¸ªifçš„æ¡ä»¶éƒ½æ˜¯falseçš„ã€‚å¦‚ä¸‹ï¼š</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code>
<span class="k">if</span> <span class="k">let</span> <span class="nv">firstNumber</span> <span class="o">=</span> <span class="kt">Int</span><span class="p">(</span><span class="s">"4"</span><span class="p">),</span> <span class="k">let</span> <span class="nv">secondNumber</span> <span class="o">=</span> <span class="kt">Int</span><span class="p">(</span><span class="s">"42"</span><span class="p">),</span> <span class="n">firstNumber</span> <span class="o">&lt;</span> <span class="n">secondNumber</span> <span class="o">&amp;&amp;</span> <span class="n">secondNumber</span> <span class="o">&lt;</span> <span class="mi">100</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"</span><span class="se">\(</span><span class="n">firstNumber</span><span class="se">)</span><span class="s"> &lt; </span><span class="se">\(</span><span class="n">secondNumber</span><span class="se">)</span><span class="s"> &lt; 100"</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">//ã€ä¸Šè¾¹ä»£ç ç­‰ä»·äºä¸‹è¾¹ä»£ç ã€‘ Prints "4 &lt; 42 &lt; 100"</span>

<span class="k">if</span> <span class="k">let</span> <span class="nv">firstNumber</span> <span class="o">=</span> <span class="kt">Int</span><span class="p">(</span><span class="s">"4"</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="k">let</span> <span class="nv">secondNumber</span> <span class="o">=</span> <span class="kt">Int</span><span class="p">(</span><span class="s">"42"</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="n">firstNumber</span> <span class="o">&lt;</span> <span class="n">secondNumber</span> <span class="o">&amp;&amp;</span> <span class="n">secondNumber</span> <span class="o">&lt;</span> <span class="mi">100</span> <span class="p">{</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"</span><span class="se">\(</span><span class="n">firstNumber</span><span class="se">)</span><span class="s"> &lt; </span><span class="se">\(</span><span class="n">secondNumber</span><span class="se">)</span><span class="s"> &lt; 100"</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre>
</div>

<h5 id="implicitly-unwrapped-optionals">Implicitly Unwrapped Optionalsï¼šéšå¼å¯é€‰ç±»å‹</h5>
<p>ä¸Šè¾¹ä»‹ç»çš„å¯é€‰ç±»å‹ï¼Œå¯ä»¥é€šè¿‡ifåˆ¤æ–­æ˜¯å¦æœ‰å€¼ï¼Œç„¶åå¼ºåˆ¶è§£æå–å€¼ï¼Œæˆ–è€…å¯é€‰ç»‘å®šå–å€¼ã€‚</p>

<p>ä½†ä¹Ÿæœ‰ä¸€ç§æƒ…å½¢:éšå¼å¯é€‰ç±»å‹ï¼Œå®šä¹‰ä¹‹åå°±ä¸€ç›´æ˜¯å€¼çš„ï¼Œéœ€è¦å°†ï¼Ÿæ”¹ä¸ºï¼ã€‚å…¶å®éšå¼å¯é€‰ç±»å‹æ˜¯æ™®é€šçš„å¯é€‰ç±»å‹ï¼Œä½†æ˜¯å¯ä»¥è¢«å½“åšéå¯é€‰ç±»å‹æ¥ä½¿ç”¨ï¼Œå¹¶ä¸éœ€è¦æ¯æ¬¡éƒ½æ˜¯ç”¨è§£ææ¥å–å€¼ã€‚ä¸€èˆ¬ç”¨äºç±»çš„æ„é€ ä¸­ã€‚</p>

<p>å¦‚ä¸‹å¯ä»¥çœ‹å‡ºå·®å¼‚:éšå¼å¯é€‰ç±»å‹å¯ä»¥è‡ªåŠ¨è§£æç±»å‹</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="c1">// å¯é€‰ç±»å‹</span>
<span class="k">let</span> <span class="nv">possibleString</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="o">=</span> <span class="s">"An optional string."</span>
<span class="k">let</span> <span class="nv">forcedString</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="n">possibleString</span><span class="o">!</span> 


<span class="c1">// éšå¼å¯é€‰ç±»å‹</span>
<span class="k">let</span> <span class="nv">assumedString</span><span class="p">:</span> <span class="kt">String</span><span class="o">!</span> <span class="o">=</span> <span class="s">"An implicitly unwrapped optional string."</span>
<span class="k">let</span> <span class="nv">implicitString</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="n">assumedString</span>  
<span class="c1">// å½“åšæ™®é€šçš„å¯é€‰ç±»å‹è¿›è¡Œåˆ¤æ–­ï¼š</span>
<span class="k">if</span> <span class="n">assumedString</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">assumedString</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1">// å¯é€‰ç»‘å®šï¼š</span>
<span class="k">if</span> <span class="k">let</span> <span class="nv">definiteString</span> <span class="o">=</span> <span class="n">assumedString</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">definiteString</span><span class="p">)</span>
<span class="p">}</span>

</code></pre>
</div>

<p>æ³¨æ„ï¼š</p>
<ul>
  <li>åœ¨éšå¼å¯é€‰ç±»å‹æ²¡æœ‰æ•°æ®çš„æ—¶å€™å°è¯•å–å€¼ï¼Œä¼šè§¦å‘è¿è¡Œæ—¶é”™è¯¯ã€‚</li>
  <li>å¦‚æœä¸€ä¸ªå˜é‡å¯èƒ½å˜æˆnilçš„è¯ï¼Œè¯·ä¸è¦ä½¿ç”¨éšå¼å¯é€‰ç±»å‹ï¼Œè¦ä½¿ç”¨å¯é€‰ç±»å‹ã€‚</li>
</ul>

<h3 id="error-handling">Error Handlingï¼šé”™è¯¯å¤„ç†</h3>

<p>å¯ä»¥åœ¨å‡½æ•°å£°æ˜ä¸­æ·»åŠ å…³é”®å­—ï¼šthrowsã€‚é‚£ä¹ˆå½“å‡½æ•°æ‰§è¡Œé‡åˆ°é”™è¯¯æ—¶ï¼Œä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">canThrowAnError</span><span class="p">()</span> <span class="k">throws</span> <span class="p">{</span>
    <span class="c1">// this function may or may not throw an error</span>
<span class="p">}</span>
<span class="c1">// å¦‚æœå‡ºç°é”™è¯¯ï¼Œåœ¨ä¸‹è¾¹ä¼šæŠ›å‡º</span>
<span class="k">do</span> <span class="p">{</span>
    <span class="k">try</span> <span class="nf">canThrowAnError</span><span class="p">()</span>
    <span class="c1">// no error was thrown</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
    <span class="c1">// an error was thrown</span>
<span class="p">}</span>
</code></pre>
</div>

<p>å¦‚ä¸‹ç»†åˆ†äº†é”™è¯¯çš„æƒ…å†µï¼Œä»¥åŠç›¸åº”çš„æªæ–½ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">makeASandwich</span><span class="p">()</span> <span class="k">throws</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
 
<span class="k">do</span> <span class="p">{</span>
    <span class="k">try</span> <span class="nf">makeASandwich</span><span class="p">()</span>
    <span class="nf">eatASandwich</span><span class="p">()</span>
<span class="p">}</span> <span class="k">catch</span> <span class="kt">SandwichError</span><span class="o">.</span><span class="n">outOfCleanDishes</span> <span class="p">{</span>
    <span class="nf">washDishes</span><span class="p">()</span>
<span class="p">}</span> <span class="k">catch</span> <span class="kt">SandwichError</span><span class="o">.</span><span class="nf">missingIngredients</span><span class="p">(</span><span class="k">let</span> <span class="nv">ingredients</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">buyGroceries</span><span class="p">(</span><span class="n">ingredients</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
</div>

<h3 id="assertions">Assertionsï¼šæ–­è¨€</h3>

<p>å¯é€‰ç±»å‹å¯ä»¥åˆ¤æ–­å€¼æ˜¯å¦å­˜åœ¨ï¼Œå¤„ç†ç¼ºçœæƒ…å†µã€‚ç„¶è€Œå½“å€¼ç¼ºçœæ—¶ï¼Œä»£ç å¯èƒ½å°±æ²¡æ³•ç»§ç»­äº†ã€‚è¿™æ˜¯éœ€è¦åœ¨ä»£ç ä¸­æ¤å…¥æ–­è¨€ï¼Œä»£ç è§¦å‘æ–­è¨€æ¥ç»“æŸè¿è¡Œã€‚</p>

<p>æ ¼å¼ï¼šassert(<em>:</em>:file:line:) è¿™æ˜¯å…¨å±€å‡½æ•°ã€‚</p>

<h5 id="debugging-with-assertions">Debugging with Assertionsï¼šä½¿ç”¨æ–­è¨€è°ƒè¯•</h5>
<p>åœ¨è°ƒè¯•ç¯å¢ƒä¸­çš„åˆé€‚ä½ç½®åŠ å…¥æ–­è¨€ï¼Œå°†æœ‰åŠ©äºä»£ç è°ƒè¯•ã€‚</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">age</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3</span>
<span class="nf">assert</span><span class="p">(</span><span class="n">age</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">,</span> <span class="s">"A person's age cannot be less than zero"</span><span class="p">)</span>
<span class="c1">// æˆ–è€…å¦‚ä¸‹ï¼š</span>
<span class="nf">assert</span><span class="p">(</span><span class="n">age</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span>
</code></pre>
</div>
<p>æ³¨æ„ï¼šå½“ä»£ç ç¼–è¯‘æ—¶ï¼Œæ–­è¨€å°†ä¼šè¢«ç¦ç”¨ã€‚</p>

<h5 id="when-to-use-assertions">When to Use Assertionsï¼šä½•æ—¶ä½¿ç”¨æ–­è¨€</h5>

<p>å½“æ¡ä»¶å¯èƒ½æ˜¯å‡ï¼Œä½†æ˜¯æœ€ç»ˆä¸€å®šè¦ä¿è¯ä¸ºçœŸï¼Œé‚£ä¹ˆå°±å¾—ä½¿ç”¨æ–­è¨€ã€‚å¦‚ä¸‹æƒ…å½¢ï¼š</p>
<ul>
  <li>æ–­è¨€æ˜¯å¦â€æ•°ç»„è¶Šç•Œâ€;</li>
  <li>æ–­è¨€ç»™å‡½æ•°ä¼ é€’çš„å€¼ï¼Œæ˜¯å¦åˆæ³•ï¼›</li>
  <li>å¯é€‰ç±»å‹æ˜¯å¦ä¸ºnilï¼›</li>
</ul>

<p>æ³¨æ„ï¼šæ–­è¨€ä¼šç»ˆæ­¢ç¨‹åºè¿è¡Œã€‚</p>

<p>OK.ä»¥ä¸Šæ˜¯åŸºç¡€éƒ¨åˆ†ã€‚èŠ±äº†æˆ‘æ•´æ•´3.5hï¼Œç”±äºé€Ÿåº¦æ¯”è¾ƒå¿«ï¼Œä¸èƒ½ä¿è¯å‡†ç¡®åº¦ã€‚åç»­å°†ä¼šåŠ å¿«è¿›åº¦ï¼Œç•¥å»åŸºç¡€çš„ç»†èŠ‚ï¼Œå‘ˆç°å®ç”¨çš„éƒ¨åˆ†ã€‚</p>

                </div>
                <div class="read-all">
                    <a  href="/2016/11/20/swift_I_guide/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2016/11/10/pythonGetFund/">pythonè„šæœ¬ - å¼€æœºè‡ªåŠ¨çˆ¬åŸºé‡‘æ•°æ®</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2016-11-10
                    </div>
                    <div class="label-card">
                        <i class="fa fa-user"></i>3code
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">â€¢</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#python" title="Category: python" rel="category">python</a>
    
  

  <!-- <span class="point">â€¢</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">â€¢</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#è„šæœ¬" title="Tag: è„šæœ¬" rel="tag">è„šæœ¬</a>&nbsp;
    
        <a href="/tag/#python" title="Tag: python" rel="tag">python</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#python" id="markdown-toc-python">1ã€pythonçˆ¬å–åŸç†åŠä»£ç </a>    <ul>
      <li><a href="#section" id="markdown-toc-section">1.1 å¼•å…¥éœ€è¦çš„åº“</a></li>
      <li><a href="#html" id="markdown-toc-html">1.2 è·å–html</a></li>
      <li><a href="#section-1" id="markdown-toc-section-1">1.3 è·å–å†…å®¹</a></li>
      <li><a href="#section-2" id="markdown-toc-section-2">1.4 è·å–æ¯æ¡ä¿¡æ¯</a></li>
      <li><a href="#section-3" id="markdown-toc-section-3">1.5 å†™å…¥æ–‡ä»¶</a></li>
      <li><a href="#section-4" id="markdown-toc-section-4">1.6 é˜²æ­¢æ•°æ®é‡å¤å†™å…¥</a></li>
      <li><a href="#section-5" id="markdown-toc-section-5">1.7 æŒ‰æ—¥æœŸçˆ¬å–æ•°æ®</a></li>
    </ul>
  </li>
  <li><a href="#section-6" id="markdown-toc-section-6">2ã€å¼€æœºè‡ªåŠ¨çˆ¬å–æ•°æ®çš„è„šæœ¬</a></li>
</ul>

<p>â€‚â€‚â€‚â€‚è¯è¯´ç©åŸºé‡‘ä¹Ÿæœ‰å¾ˆé•¿ä¸€æ®µæ—¶é—´äº†ï¼Œä½†æ˜¯æ„Ÿè§‰å„ç§åŸºé‡‘appé‡Œé¢çš„æ•°æ®å±•ç¤ºä¸å…¨ï¼Œ
ä¸å°‘appéƒ½åªå±•ç¤ºè¿‘å‡ å¹´çš„æ•°æ®ï¼ŒåŸºé‡‘æˆç«‹ä¹‹å¤„æ•°æ®æ²¡æœ‰ï¼Œè™½ç„¶ç½‘ç«™ä¸Šæœ‰
ä½†æ˜¯ç½‘ç«™ä¸Šä¹Ÿåªå±•ç¤ºåœ¨å•ä¸ªåŸºé‡‘é‡Œï¼Œå¤šåŸºé‡‘å¯¹æ¯”å°±æ²¡
æˆç«‹ä¹‹åˆçš„æ•°æ®ï¼Œåæ­£å„ç§ä¸çˆ½ï¼Œæ‰€ä»¥èŒç”Ÿç›´æ¥çˆ¬å–çš„æƒ³æ³•ï¼Œåˆšå¥½å¯ä»¥ç»ƒç»ƒpythonã€‚</p>

<p>â€‚â€‚â€‚â€‚æˆ‘æ˜¯ä»15å¹´åº•å°±å¼€å§‹è¿è¡Œè¿™ä¸ªè„šæœ¬ï¼Œç›®å‰å·²ç»æœ‰ä¸€ä»½æ•°æ®ï¼Œæ­£å‡†å¤‡å€ŸåŠ©MATLABçš„simulinkæ¨¡å—åˆ†æã€‚</p>

<p>â€‚â€‚â€‚â€‚æœ€å¼€å§‹ç›´æ¥æ”¾åœ¨txté‡Œï¼Œåæ¥æƒ³å­˜æ•°æ®åº“ï¼Œä½†æ˜¯pyCharmä¸Šå„ç§å®‰è£…ä¸ä¸Šmysql
ï¼Œä¸è®ºæ˜¯pyCharmè¿˜æ˜¯pipè¿˜æ˜¯ç›´æ¥æ‰˜å®‰è£…åŒ…ï¼Œ
åæ¥æ”¹ç”¨excelï¼Œæ•°æ®ç›´æ¥å†™å…¥excelä¸­ã€‚</p>

<p>â€‚â€‚â€‚â€‚æˆªæ­¢å‘æ–‡ä¸ºæ­¢ï¼Œæ•°æ®å·²ç»è¿è‡³æ•°æ®åº“ï¼Œç›¸å…³æ“ä½œï¼Œåç»­å†å¼€ä¸€ä¸ªåšæ–‡ä»‹ç»ã€‚</p>

<p>â€‚â€‚â€‚â€‚ä¸‹è¾¹æ˜¯åŸºäºOSX10.11ç³»ç»Ÿï¼Œå¼€æœºè‡ªåŠ¨çˆ¬å–æ•°æ®ï¼Œå¹¶å­˜å…¥æŒ‡å®šexcelï¼Œ
ä»£ç åœ¨github<a href="https://github.com/mythkiven/getFund">ä¼ é€é—¨</a></p>

<p>å®é™…å±•ç¤ºï¼š</p>

<p>æ§åˆ¶å°æ‰“å°ï¼š</p>

<p><img src="https://ooo.0o0.ooo/2016/11/11/5825712e47466.png" alt="" /></p>

<p>å†™å…¥txtï¼š</p>

<p><img src="https://ooo.0o0.ooo/2016/11/11/5825719ba664e.png" alt="" /></p>

<p>å†™å…¥xlsï¼š</p>

<p><img src="https://ooo.0o0.ooo/2016/11/11/58257180958e8.png" alt="" /></p>

<h2 id="python">1ã€pythonçˆ¬å–åŸç†åŠä»£ç </h2>

<p><strong>åŸç†:è·å–html â€“ ä½¿ç”¨æ­£åˆ™åŒ¹é… â€“ è§£æ â€“ å­˜å‚¨</strong></p>

<h5 id="section">1.1 å¼•å…¥éœ€è¦çš„åº“</h5>

<div class="highlighter-rouge"><pre class="highlight"><code>import xlrd
import xlwt
import time, datetime
from xlutils.copy import copy
from xlrd import open_workbook
from xlwt import easyxf
</code></pre>
</div>

<h5 id="html">1.2 è·å–html</h5>

<div class="highlighter-rouge"><pre class="highlight"><code> def getSource(self, url):
        html = requests.get(url)
        return html.text

</code></pre>
</div>

<h5 id="section-1">1.3 è·å–å†…å®¹</h5>

<p>è¿™é‡ŒåŒ¹é…å†…å®¹ä½¿ç”¨çš„æ˜¯ reæ¨¡å—ï¼Œreæ˜¯Pythonè‡ªå¸¦çš„æ­£åˆ™è¡¨è¾¾å¼åº“æ–‡ä»¶ï¼Œä¸ºå­—ç¬¦ä¸²çš„åŒ¹é…ç­›é€‰æä¾›äº†æå¤§çš„ä¾¿åˆ©ã€‚ä¸‹æ–‡ä½¿ç”¨re.searchï¼Œè¿™ä¸ªæ¨¡å—é‡Œè¿˜æœ‰ä¸ªç›¸ä¼¼çš„å‡½æ•° re.match()
ã€‚åŒºåˆ«åœ¨äº:</p>

<p>matchåªä»å­—ä¸²çš„å¼€å§‹ä½ç½®è¿›è¡ŒåŒ¹é…ï¼Œå¦‚æœå¤±è´¥ï¼Œå®ƒå°±æ­¤æ”¾å¼ƒï¼›</p>

<p>searchåˆ™ä¼šå®Œå…¨éå†æ•´ä¸ªå­—ä¸²ä¸­æ‰€æœ‰å¯èƒ½çš„ä½ç½®ï¼Œç›´åˆ°æˆåŠŸåœ°æ‰¾åˆ°ä¸€ä¸ªåŒ¹é…ï¼Œæˆ–è€…æœç´¢å®Œå­—ä¸²ï¼Œä»¥å¤±è´¥å‘Šç»ˆã€‚</p>

<div class="highlighter-rouge"><pre class="highlight"><code>def getMainText(self, source):
        everyclass = re.search(
            '(&lt;table width="950" border="0" align="center" cellpadding="0" cellspacing="0" class="table02" id="fundlist" data-lt="sypm"&gt;.*?&lt;/table&gt;)',
            source, re.S).group(1)
        return everyclass
</code></pre>
</div>

<h5 id="section-2">1.4 è·å–æ¯æ¡ä¿¡æ¯</h5>

<p>å°†è‡ªå·±éœ€è¦çš„ä¿¡æ¯å•ç‹¬æŠ½å–å‡ºæ¥ï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>def getInfo(self, eachclass):
        info = {}
        info["num"] = re.search('&lt;td width="3%" align="center"&gt;(.*?)&lt;/td&gt;', eachclass, re.S).group(1)
        info["id"] = re.search('target="_blank"&gt;(.*?)&lt;/a&gt;&lt;/td&gt;', eachclass, re.S).group(1)
        info['name'] = re.search('target="_blank" class="blue ellipsis" title="(.*?)"&gt;', eachclass, re.S).group(1)
        info['time'] = re.search('&lt;td width="7%" align="center"&gt;(.*?)&lt;/td&gt;', eachclass, re.S).group(1)
        info["price1"] = re.findall('&lt;td width="6%" align="center"&gt;(.*?)&lt;/td&gt;', eachclass, re.S)[1]
        info["price2"] = re.findall('&lt;td width="6%" align="center"&gt;(.*?)&lt;/td&gt;', eachclass, re.S)[2]

        return info
</code></pre>
</div>

<h5 id="section-3">1.5 å†™å…¥æ–‡ä»¶</h5>

<p>åˆ›å»ºtxtï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>f = open("/Users/www_3code_info/fund/" + timePrevious + ".txt", 'a+')
        for each in classinfo:
            f.writelines('xuhao:' + each['num'] + '\n')
            f.writelines('daima:' + each['id'] + '\n')
            f.writelines('name:' + each['name'] + '\n')
            f.writelines('time:' + each['time'] + '\n')
            f.writelines('price1:' + each['price1'] + '\n')
            f.writelines('price2:' + each['price2'] + '\n')
            f.writelines('url:http://www.jjmmw.com/fund/' + each['id'] + '/' + '\n\n')
        f.close()
</code></pre>
</div>

<p>æ‰“å¼€xls,å¼€å§‹å†™å…¥å†…å®¹</p>

<div class="highlighter-rouge"><pre class="highlight"><code># æ‰“å¼€æ–‡ä»¶
        rb = open_workbook(path, formatting_info=True)
        r_sheet = rb.sheet_by_index(0)
        wb = copy(rb)
        sheet = wb.get_sheet(0)
        j = r_sheet.ncols
        i = 1
        timeShould = timePrevious
        timeQ = timePrevious
        tListB = []
        tListS = []
        print sheet

        fir = ['ID', 'Time', 'NowPrice', 'PlusPrice', 'WriteTime']
#å†™å…¥åˆ—ä¿¡æ¯
        for each in classinfo:
            sheet.write(i, j + 0, each['id'])
            sheet.write(i, j + 1, each['time'])
            sheet.write(i, j + 2, each['price1'])
            sheet.write(i, j + 3, each['price2'])
            i += 1
            timeQ = each['time']
            if timeQ &gt; timeShould:
                tListB.append(each['id']+' '+timeQ)
            elif timeQ &lt; timeShould:
                tListS.append(each['id']+' '+timeQ)

        for k in range(j, j + 5):
            sheet.write(0, k, fir[k - j])
            print k
            if k == j + 4:
                sheet.write(1, k, timeNow.decode('utf-8'))
                sheet.write(2, k, 'UNupdate:' + str(len(tListS)))

</code></pre>
</div>

<h5 id="section-4">1.6 é˜²æ­¢æ•°æ®é‡å¤å†™å…¥</h5>

<p>æŒ‰æ—¶é—´åˆ¤æ–­æ˜¯å¦éœ€è¦å†™å…¥æ•°æ®</p>

<div class="highlighter-rouge"><pre class="highlight"><code>def read_excel():
    rb = open_workbook(path, formatting_info=True)
    r_sheet = rb.sheet_by_index(0)
    # éå†ç¬¬2è¡Œæ‰€æœ‰åˆ—,æ˜¯å¦æœ‰æ—¶é—´æ•°æ®c
    print "\nå·²ç»çˆ¬å–çš„åˆ—æ•°:" + str(r_sheet.ncols) + "\n"
    for c in range(0, r_sheet.ncols):
        age_nov = r_sheet.cell(1, c).value
        print age_nov
        if ((c + 1) % 5 == 0) and (c != 0):
            print "\n"
        if age_nov == timeNow:
            return 1
    else:
        return 0

</code></pre>
</div>

<h5 id="section-5">1.7 æŒ‰æ—¥æœŸçˆ¬å–æ•°æ®</h5>

<p>åŸºé‡‘ä¸€èˆ¬éƒ½æ˜¯æ™šä¸Šæ›´æ–°å½“å¤©æ•°æ®ï¼Œå› ä¸ºå¼€æœºæ—©ä¸Šè·å–ï¼Œæ‰€ä»¥è¿™é‡Œè®¾ç½®çˆ¬å–æ—¥æœŸæ˜¯:å‘¨2-6ã€‚å‘¨æ—¥,å‘¨ä¸€ä¸æ›´æ–°</p>

<p>æ³¨æ„weekday() è¿”å›çš„æ˜¯0-6æ˜¯æ˜ŸæœŸä¸€åˆ°æ˜ŸæœŸæ—¥</p>

<div class="highlighter-rouge"><pre class="highlight"><code>def getTime():
    timeT = datetime.date.today()
    zhouji = timeT.weekday()
    print zhouji
    if zhouji &gt;= 1 and zhouji &lt;= 5:
        return timeToday  
    else:
        print "ä»Šå¤©æ˜¯å‘¨æ—¥æˆ–è€…å‘¨ä¸€,ä¸è·å–ä¿¡æ¯ã€‚å‘¨å…­è·å–å‘¨äº”,å‘¨äºŒè·å–å‘¨ä¸€çš„ä¿¡æ¯"
        return 0

</code></pre>
</div>

<h2 id="section-6">2ã€å¼€æœºè‡ªåŠ¨çˆ¬å–æ•°æ®çš„è„šæœ¬</h2>

<p>å¼€æœºå¯åŠ¨ç›¸å…³çš„å¯å‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« ï¼š<a href="www.3code.info/2016/04/30/deployEnvironmentVariable/">OSXç¯å¢ƒå˜é‡çš„è®¾ç½®</a></p>

<p>â€‚â€‚â€‚â€‚åœ¨linuxä¸‹æ‰§è¡Œå®šæœŸä»»åŠ¡å¯ä»¥ä½¿ç”¨crontabï¼Œmac osä¸Šä¸æ¨èä½¿ç”¨ã€‚mac osä¸Šæ¨èåšæ³•æ˜¯é‡‡ç”¨plistè„šæœ¬ï¼Œplistè„šæœ¬å¯ä»¥è®¾ç½®æ‰§è¡Œçš„åŠ¨ä½œï¼Œæ—¶é—´é—´éš”ç­‰å…¶ä»–ä¸€äº›ä¿¡æ¯ã€‚ä½¿ç”¨plistè„šæœ¬åŸåˆ™ä¸Šæ—¶é—´é—´éš”å¯ä»¥ä¸ºä¸€ç§’ã€‚</p>

<p>plistè„šæœ¬å­˜æ”¾è·¯å¾„ä¸º:</p>

<p>/Library/LaunchDaemons:åªè¦ç³»ç»Ÿå¯åŠ¨äº†ï¼Œå“ªæ€•ç”¨æˆ·ä¸ç™»é™†ç³»ç»Ÿä¹Ÿä¼šè¢«æ‰§è¡Œã€‚</p>

<p>æˆ–/Library/LaunchAgents:å½“ç”¨æˆ·ç™»é™†ç³»ç»Ÿåæ‰ä¼šè¢«æ‰§è¡Œã€‚</p>


                </div>
                <div class="read-all">
                    <a  href="/2016/11/10/pythonGetFund/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2016/11/09/7_IOS_Theory/">iOSé€†å‘ç³»åˆ—7_iOSç†è®ºåŸºç¡€</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2016-11-09
                    </div>
                    <div class="label-card">
                        <i class="fa fa-user"></i>3è¡Œä»£ç 
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">â€¢</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#Reverse" title="Category: Reverse" rel="category">Reverse</a>
    
  

  <!-- <span class="point">â€¢</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">â€¢</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#iOSé€†å‘ç†è®ºåŸºç¡€" title="Tag: iOSé€†å‘ç†è®ºåŸºç¡€" rel="tag">iOSé€†å‘ç†è®ºåŸºç¡€</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    
<p><strong>å¾…æ•´ç†</strong></p>

<p>iOSé‡‡ç”¨çš„æ–‡ä»¶æ ¼å¼Mach-Oä¸­åŒ…å«äº†è¶³å¤Ÿå¤šçš„åŸå§‹æ•°æ®ï¼Œè®©æˆ‘ä»¬èƒ½å¤Ÿç”¨class-dumpç­‰å·¥å…·è¿˜åŸå‡ºäºŒè¿›åˆ¶æ–‡ä»¶çš„å¤´æ–‡ä»¶</p>

<p>å¾…ç»­â€¦</p>


                </div>
                <div class="read-all">
                    <a  href="/2016/11/09/7_IOS_Theory/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2016/11/07/6_IOS_Tools/">iOSé€†å‘ç³»åˆ—6_iOSå·¥å…·é›†</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2016-11-07
                    </div>
                    <div class="label-card">
                        <i class="fa fa-user"></i>3è¡Œä»£ç 
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">â€¢</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#Reverse" title="Category: Reverse" rel="category">Reverse</a>
    
  

  <!-- <span class="point">â€¢</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">â€¢</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#iOSé€†å‘å·¥å…·é›†" title="Tag: iOSé€†å‘å·¥å…·é›†" rel="tag">iOSé€†å‘å·¥å…·é›†</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#section" id="markdown-toc-section">1ã€ç®€ä»‹</a></li>
  <li><a href="#cydiasubstrate" id="markdown-toc-cydiasubstrate">2ã€CydiaSubstrate</a>    <ul>
      <li><a href="#mobilehooker" id="markdown-toc-mobilehooker">2.1 MobileHooker</a></li>
    </ul>
  </li>
</ul>

<p><strong>å¾…æ•´ç†</strong></p>

<h2 id="section">1ã€ç®€ä»‹</h2>

<p>å‰å‡ ç¯‡æ–‡ç« ä»‹ç»äº†iOSé€†å‘å·¥ç¨‹çš„OSXå·¥å…·ï¼Œä¸ºäº†å®ŒæˆiOSé€†å‘å·¥ç¨‹ï¼Œè¿˜éœ€è¦åœ¨iOSä¸Šå®‰è£…ã€é…ç½®ä¸€ç³»åˆ—å·¥å…·ï¼Œå°†ä¸¤ä¸ªå¹³å°è”åŠ¨èµ·æ¥ã€‚ä»¥ä¸‹çš„æ“ä½œå‡åœ¨iPhone 5ï¼ŒiOS 8.1ä¸­å®Œæˆã€‚</p>

<p>ç›¸å…³é“¾æ¥ï¼š
Cydia Substrate <a href="http://www.cydiasubstrate.com/">http://www.cydiasubstrate.com/</a></p>

<h2 id="cydiasubstrate">2ã€CydiaSubstrate</h2>

<p><strong>CydiaSubstrateæ˜¯ç»å¤§éƒ¨åˆ†tweakæ­£å¸¸å·¥ä½œçš„åŸºç¡€ï¼Œå®ƒç”±MobileHookerã€MobileLoaderå’ŒSafe modeç»„æˆ</strong></p>

<h5 id="mobilehooker">2.1 MobileHooker</h5>

<p>MobileHookerçš„ä½œç”¨æ˜¯æ›¿æ¢ç³»ç»Ÿå‡½æ•°ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„hookï¼Œå®ƒä¸»è¦åŒ…å«ä»¥ä¸‹ä¸¤ä¸ªå‡½æ•°ï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	void MSHookMessageEx(Class class, SEL selector, IMP replacement, IMP *result);
	void MSHookFunction(void* function, void* replacement, void** p_original);
</code></pre>
</div>

<p><strong>MSHookMessageEx</strong> ä½œç”¨äºObjective-Cå‡½æ•°ï¼Œé€šè¿‡è°ƒç”¨method_setImplementationå‡½æ•°å°†[class selector]çš„å®ç°æ”¹ä¸ºreplacementï¼Œè¾¾åˆ°hookçš„ç›®çš„ã€‚ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼Œå‘ä¸€ä¸ªNSStringå¯¹è±¡å‘é€hasSuffix:æ¶ˆæ¯ï¼ˆå³è°ƒç”¨[NSString hasSuffix:]ï¼‰ï¼Œæ­£å¸¸æƒ…å†µä¸‹å®ƒçš„å®ç°æ˜¯åˆ¤æ–­NSStringå¯¹è±¡æœ‰æ²¡æœ‰æŸä¸ªåç¼€ï¼›å¦‚æœæŠŠè¿™ä¸ªå®ç°æ›¿æ¢æˆhasPrefix:çš„å®ç°ï¼Œé‚£ä¹ˆNSStringå¯¹è±¡åœ¨æ”¶åˆ°hasSuffix:æ¶ˆæ¯åï¼Œå®é™…è¿›è¡Œçš„æ“ä½œæ˜¯â€œå£æ˜¯å¿ƒéâ€åœ°åˆ¤æ–­è¿™ä¸ªNSStringå¯¹è±¡æœ‰æ²¡æœ‰æŸä¸ªå‰ç¼€ï¼ˆprefixï¼‰ã€‚</p>

<p>ä¹‹å‰æåˆ°çš„Logosè¯­æ³•ä¸»è¦æ˜¯å¯¹æ­¤å‡½æ•°ä½œäº†ä¸€å±‚å°è£…ï¼Œè®©ç¼–å†™é’ˆå¯¹OCå‡½æ•°çš„hookä»£ç å˜å¾—æ›´ç®€å•ç›´è§‚äº†ï¼Œä½†å…¶åº•å±‚å®ç°ä»å®Œå…¨åŸºäºMSHookMessageExã€‚å¯¹äºOCå‡½æ•°çš„hookï¼Œæ¨èä½¿ç”¨æ›´ä¸€ç›®äº†ç„¶çš„Logosè¯­æ³•ã€‚å¦‚æœå¯¹MSHookMessageExæœ¬èº«çš„ä½¿ç”¨æ„Ÿå…´è¶£ï¼Œå¯ä»¥å»çœ‹å®ƒçš„å®˜æ–¹æ–‡æ¡£ï¼Œæˆ–è€…Googleæœç´¢â€œcydiasubstrate fuchsiaexampleâ€ã€‚å‚è€ƒï¼š<a href="http://www.cydiasubstrate.com/">http://www.cydiasubstrate.com/</a>ã€‚</p>

<p><strong>MSHookFunction</strong> 
MSHookFunctionçš„ä¸‰ä¸ªå‚æ•°çš„ä½œç”¨åˆ†åˆ«æ˜¯ï¼šæ›¿æ¢çš„åŸå‡½æ•°ã€æ›¿æ¢å‡½æ•°ï¼Œä»¥åŠè¢«MobileHookerä¿å­˜çš„åŸå‡½æ•°ã€‚
å®ƒä½œç”¨äºCå’ŒC++å‡½æ•°ï¼Œé€šè¿‡ç¼–å†™æ±‡ç¼–æŒ‡ä»¤ï¼Œåœ¨è¿›ç¨‹æ‰§è¡Œåˆ°functionæ—¶è½¬è€Œæ‰§è¡Œreplacementï¼ŒåŒæ—¶ä¿å­˜functionçš„æŒ‡ä»¤åŠå…¶è¿”å›åœ°å€ï¼Œä½¿å¾—ç”¨æˆ·å¯ä»¥é€‰æ‹©æ€§åœ°æ‰§è¡Œfunctionï¼Œå¹¶ä¿è¯è¿›ç¨‹èƒ½å¤Ÿåœ¨æ‰§è¡Œå®Œreplacementåç»§ç»­æ­£å¸¸è¿è¡Œã€‚</p>

<p>é‡Šä¹‰:è¿›ç¨‹å…ˆæ‰§è¡Œä¸€äº›æŒ‡ä»¤åï¼Œå…ˆæ‰§è¡Œå‡½æ•°Aï¼Œå†æ¥ç€æ‰§è¡Œå‰©ä¸‹çš„æŒ‡ä»¤ã€‚å¦‚æœé’©ä½ï¼ˆhookï¼‰äº†å‡½æ•°Aï¼ˆå³ä¸Šé¢è¯´çš„functionï¼‰ï¼Œæƒ³ç”¨å‡½æ•°Bï¼ˆå³replacementï¼‰æ›¿æ¢å®ƒï¼Œé‚£ä¹ˆè¿›ç¨‹çš„æ‰§è¡Œæµç¨‹å°±å˜æˆï¼šè¿›ç¨‹å…ˆæ‰§è¡Œä¸€äº›æŒ‡ä»¤ï¼Œåœ¨åŸæœ¬åº”è¯¥æ‰§è¡Œå‡½æ•°Açš„åœ°æ–¹è·³è½¬åˆ°å‡½æ•°Bçš„ä½ç½®æ‰§è¡Œå‡½æ•°Bï¼ŒåŒæ—¶å‡½æ•°Açš„ä»£ç è¢«MobileHookerä¿å­˜äº†ä¸‹æ¥ã€‚åœ¨å‡½æ•°Bä¸­ï¼Œå¯ä»¥é€‰æ‹©æ˜¯å¦æ‰§è¡Œå‡½æ•°Aï¼Œä»¥åŠä½•æ—¶æ‰§è¡Œå‡½æ•°Aï¼Œåœ¨å‡½æ•°Bæ‰§è¡Œå®Œæˆåï¼Œåˆ™ä¼šç»§ç»­æ‰§è¡Œå‰©ä¸‹çš„æŒ‡ä»¤ã€‚</p>

<p><strong>symbol</strong>
åœ¨è®¡ç®—æœºä¸­ï¼Œä¸€ä¸ªå‡½æ•°çš„æŒ‡ä»¤è¢«å­˜æ”¾åœ¨ä¸€æ®µå†…å­˜ä¸­ï¼Œå½“è¿›ç¨‹éœ€è¦æ‰§è¡Œè¿™ä¸ªå‡½æ•°æ—¶ï¼Œå®ƒå¿…é¡»çŸ¥é“è¦å»å†…å­˜çš„å“ªä¸ªåœ°æ–¹æ‰¾åˆ°è¿™ä¸ªå‡½æ•°ï¼Œç„¶åæ‰§è¡Œå®ƒçš„æŒ‡ä»¤ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿›ç¨‹è¦æ ¹æ®è¿™ä¸ªå‡½æ•°çš„åç§°ï¼Œæ‰¾åˆ°å®ƒåœ¨å†…å­˜ä¸­çš„åœ°å€ï¼Œè€Œè¿™ä¸ªåç§°ä¸åœ°å€çš„æ˜ å°„å…³ç³»ï¼Œæ˜¯å­˜å‚¨åœ¨â€œsymbol tableâ€ä¸­çš„â€”â€”â€œsymbol tableâ€ä¸­çš„symbolå°±æ˜¯è¿™ä¸ªå‡½æ•°çš„åç§°ï¼Œè¿›ç¨‹ä¼šæ ¹æ®è¿™ä¸ªsymbolæ‰¾åˆ°å®ƒåœ¨å†…å­˜ä¸­çš„åœ°å€ï¼Œç„¶åè·³è½¬è¿‡å»æ‰§è¡Œã€‚</p>

<p>å¯å‚é˜…èµ„æ–™ï¼š
<a href="http://www.cydiasubstrate.com/api/c/MSFindSymbol/">http://www.cydiasubstrate.com/api/c/MSFindSymbol/</a></p>

<p><a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff553493(v=vs.85).aspx">http://msdn.microsoft.com/en-us/library/windows/hardware/ff553493(v=vs.85).aspx</a></p>

<p><a href="http://en.wikibooks.org/wiki/Reverse_Engineering/Mac_OS_X#Symbols_Types">http://en.wikibooks.org/wiki/Reverse_Engineering/Mac_OS_X#Symbols_Types</a></p>


                </div>
                <div class="read-all">
                    <a  href="/2016/11/07/6_IOS_Tools/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2016/11/06/5_IDA-iFunBox-other/">iOSé€†å‘ç³»åˆ—5_IDA/iFunBox/other</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2016-11-06
                    </div>
                    <div class="label-card">
                        <i class="fa fa-user"></i>3è¡Œä»£ç 
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">â€¢</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#Reverse" title="Category: Reverse" rel="category">Reverse</a>
    
  

  <!-- <span class="point">â€¢</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">â€¢</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#IDAã€iFunBoxã€dyld_decache" title="Tag: IDAã€iFunBoxã€dyld_decache" rel="tag">IDAã€iFunBoxã€dyld_decache</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#section" id="markdown-toc-section">1ã€ç®€ä»‹</a></li>
  <li><a href="#section-1" id="markdown-toc-section-1">2ã€å®‰è£…</a>    <ul>
      <li><a href="#section-2" id="markdown-toc-section-2">2.1 å®‰è£…</a></li>
      <li><a href="#ida" id="markdown-toc-ida">2.2 IDAä½¿ç”¨è¯´æ˜</a></li>
      <li><a href="#main-window" id="markdown-toc-main-window">2.3 Main window</a></li>
    </ul>
  </li>
  <li><a href="#ifunbox" id="markdown-toc-ifunbox">3ã€iFunBox</a></li>
  <li><a href="#dylddecache" id="markdown-toc-dylddecache">4 dyld_decache</a></li>
</ul>

<p><strong>å¾…æ•´ç†</strong></p>

<h2 id="section">1ã€ç®€ä»‹</h2>

<p>å³ä½¿ä½ ä»¥å‰æ²¡æœ‰ä»äº‹è¿‡iOSé€†å‘å·¥ç¨‹ç›¸å…³çš„å·¥ä½œï¼Œä¹Ÿä¸€å®šå¬è¯´è¿‡IDAï¼ˆThe Interactive Disassemblerï¼‰çš„é¼é¼å¤§åã€‚è€Œå¯¹äºç»å¤§å¤šæ•°æ¥è§¦è¿‡é€†å‘å·¥ç¨‹çš„äººæ¥è¯´ï¼ŒIDAä¸‰ä¸ªå­—åˆ™æ˜¯å¦‚é›·è´¯è€³ï¼Œå®ƒä¹ƒé€†å‘å·¥ç¨‹ä¸­æœ€è´Ÿç››åçš„ç¥å™¨ä¹‹ä¸€ã€‚å¦‚æœè¯´class-dumpèƒ½å¤Ÿå¸®æˆ‘ä»¬ç½—åˆ—å‡ºè¦åˆ†æçš„ç‚¹ï¼Œé‚£IDAå°±èƒ½è¿›ä¸€æ­¥å¸®æˆ‘ä»¬æŠŠè¿™äº›ç‚¹é“ºæˆé¢ã€‚</p>

<p>ç¬¼ç»Ÿåœ°è¯´ï¼ŒIDAæ˜¯ä¸€ä¸ªæ”¯æŒWindowsã€Linuxå’ŒMac OS Xçš„å¤šå¹³å°åæ±‡ç¼–å™¨/è°ƒè¯•å™¨ï¼Œå®ƒçš„åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œä»¥è‡³äºè¿å®˜æ–¹éƒ½ä¸èƒ½ç»™å‡ºä¸€ä¸ªè¯¦å°½çš„åŠŸèƒ½åˆ—è¡¨ã€‚</p>

<p>IDAçš„æ­£å¼ç‰ˆæ˜¯æ”¶è´¹çš„ï¼Œä½†å…¶ä½œè€…ä¹Ÿæ˜¯ç¨‹åºå‘˜å‡ºèº«ï¼Œæ·±çŸ¥æˆ‘ä»¬ç”Ÿæ´»ä¸æ˜“ï¼Œæ‰€ä»¥æ…·æ…¨åœ°æä¾›äº†ä¸€ä¸ªå…è´¹çš„è¯•ç”¨ç‰ˆï¼Œå¯¹äºé€†å‘å·¥ç¨‹åˆå­¦è€…æ¥è¯´ï¼Œå·²å®Œå…¨å¤Ÿç”¨äº†ã€‚</p>

<h2 id="section-1">2ã€å®‰è£…</h2>

<h5 id="section-2">2.1 å®‰è£…</h5>

<p>IDAçš„ä¸‹è½½å’Œå®‰è£…ååˆ†æ–¹ä¾¿ï¼Œå…·ä½“å¯å‚è€ƒï¼š<a href="https://www.hex-rays.com/products/ida/support/download.shtml">https://www.hex-rays.com/products/ida/support/download.shtml</a></p>

<h5 id="ida">2.2 IDAä½¿ç”¨è¯´æ˜</h5>

<p>å¯åŠ¨ä¹‹åï¼Œåœ¨è¯¥ç•Œé¢ä¸­ï¼Œä¸ç”¨ç¹çåœ°åœ¨èœå•é‡Œç‚¹å‡»â€œæ‰“å¼€æ–‡ä»¶â€ï¼Œç„¶åä¸€ä¸ªç›®å½•ä¸€ä¸ªç›®å½•åœ°å»ç¿»æ‰¾ï¼Œåªéœ€æŠŠè¦åˆ†æçš„æ–‡ä»¶æ‹–è¿›IDAçš„ç°è‰²åŒºåŸŸå°±è¡Œäº†ã€‚</p>

<p>æœ‰ä¸€ä¸ªåœ°æ–¹éœ€è¦æ³¨æ„ï¼šå¯¹äºä¸€äº›fat binaryï¼ˆæŒ‡çš„æ˜¯ä¸ºäº†å…¼å®¹ä¸åŒæ¶æ„çš„å¤„ç†å™¨ï¼Œè€ŒæŠŠå¤šç§æŒ‡ä»¤é›†ç³…åˆåˆ°ä¸€ä¸ªbinaryï¼‰æ¥è¯´
<img src="https://ooo.0o0.ooo/2016/11/01/581869117b6b0.jpeg" alt="" /></p>

<p>ä¸Šå›¾æœ€ä¸Šé¢çš„ç™½æ¡†å†…ä¼šå‡ºç°å¤šä¸ªMach-Oæ–‡ä»¶ä¾›æˆ‘ä»¬é€‰æ‹©ã€‚éœ€è¦æˆ‘ä»¬è¯†åˆ«è®¾å¤‡å¯¹åº”çš„ARMä¿¡æ¯ï¼Œä¾‹å¦‚ç¬”è€…çš„iPhone 5å¯¹åº”çš„æ˜¯ARMv7sã€‚å¦‚æœè®¾å¤‡çš„ARMæ²¡æœ‰å‡ºç°åœ¨è¿™äº›é€‰é¡¹ä¸­ï¼Œå°±é€‰é‚£ä¸ªå‘ä¸‹å…¼å®¹çš„é€‰é¡¹ï¼Œå³å¦‚æœé€‰é¡¹é‡Œæœ‰ARMv7Sï¼Œå°±é€‰å®ƒï¼›å¦åˆ™é€‰ARMv7ã€‚
è¿™é‡Œç¬”è€…é€‰æ‹©äº†ARMv7Sï¼Œç„¶åç‚¹å‡»â€œOKâ€ï¼Œæ­¤æ—¶ ä¼šè¿ç»­å¼¹å‡ºå¥½å‡ ä¸ªçª—å£ï¼Œä¸€è·¯ç‚¹å‡»â€œYesâ€å’Œâ€œOKâ€å°±å¯ä»¥äº†ã€‚
ä¹‹åå°±è¿›å…¥å¦‚ä¸‹ç•Œé¢ï¼š
<img src="https://ooo.0o0.ooo/2016/11/01/58186a17dab43.jpeg" alt="" /></p>

<p>åœ¨ä¸Šè¾¹çš„ç•Œé¢ä¸­ï¼Œä½ ä¼šçœ‹åˆ°ä¸Šæ–¹çš„è¿›åº¦æ¡ä¸æ–­æ»šåŠ¨ï¼Œä¸‹æ–¹çš„Output windowä¹Ÿä¼šæ‰“å°å‡ºå¯¹æ–‡ä»¶çš„åˆ†æè¿›åº¦ã€‚å½“è¿›åº¦æ¡çš„ä¸»è‰²è°ƒå˜æˆè“è‰²ï¼ˆIDAç•Œé¢ä¸Šçš„é¢œè‰²åœ¨é»‘ç™½å°åˆ·é¡µä¸Šçœ‹ä¸å‡ºæ¥ï¼Œè¯·è°…è§£ï¼‰ï¼ŒOutput windowä¸­æ˜¾ç¤ºâ€œThe initial autoanalysis has been finished.â€æ—¶ï¼Œè¡¨ç¤ºIDAçš„åˆå§‹åˆ†æå·²å®Œæˆã€‚</p>

<p>åœ¨åˆå­¦é˜¶æ®µï¼Œç”±äºä¸»è¦ç”¨IDAä½œé™æ€åˆ†æï¼ŒåŸºæœ¬ç”¨ä¸ä¸ŠOutput windowï¼Œæ‰€ä»¥åœ¨å¼€å§‹åˆ†æä¹‹å‰ï¼Œå¯ä»¥å…ˆå…³æ‰â€œOutput windowã€‚</p>

<p>Functions windowä¸­çš„Objective-Cå‡½æ•°ä¸class-dumpå¯¼å‡ºçš„å†…å®¹å»åˆã€‚é™¤äº†Objective-Cå‡½æ•°å¤–ï¼ŒIDAè¿˜å°†æ‰€æœ‰subroutineç½—åˆ—äº†å‡ºæ¥ï¼Œè¿™æ˜¯class-dumpåšä¸åˆ°çš„ã€‚class-dumpå¯¼å‡ºçš„å†…å®¹éƒ½æ˜¯Objective-Cå‡½æ•°åï¼Œå¯è¯»æ€§é«˜ï¼Œå®¹æ˜“ä¸Šæ‰‹ï¼Œæ˜¯iOSé€†å‘å·¥ç¨‹åˆå­¦è€…çš„ä¹å›­ï¼›subroutineçš„åç§°åªæ˜¯ä¸€ä¸ªä»£å·ï¼Œæ²¡æœ‰æ˜æ˜¾å«ä¹‰ï¼Œåˆ†æéš¾åº¦å¤§ï¼Œå¤§å¤šæ•°åˆå­¦è€…çœ‹åˆ°è¿™é‡Œå°±æ‰“äº†é€€å ‚é¼“ã€‚ä½†æ˜¯ï¼ŒiOSçš„åº•å±‚æ˜¯ç”¨Cå’ŒC++å®ç°çš„ï¼Œç¼–è¯‘ä¹‹åç”Ÿæˆçš„å¤§éƒ½æ˜¯subroutineï¼Œclass-dumpæ‹¿å®ƒæ²¡è¾™ï¼Œåªèƒ½ä½¿ç”¨IDAè¿™æ ·çš„å·¥å…·ã€‚è¦æƒ³æ·±å±‚æ¬¡æŒ–æ˜iOSä¸­æœ€æœ‰è¶£çš„éƒ¨åˆ†ï¼ŒæŒæ¡IDAçš„ç”¨æ³•æ˜¯å¿…ç»ä¹‹è·¯ã€‚</p>

<h5 id="main-window">2.3 Main window</h5>

<p>ç»å¤§å¤šæ•°æ²¡æœ‰ç”¨è¿‡IDAçš„iOSå¼€å‘è€…ï¼ŒåŒ…æ‹¬ç¬”è€…ï¼Œåœ¨ç¬¬ä¸€æ¬¡çœ‹è§åˆå§‹åˆ†æå®Œæˆåçš„Main windowæ—¶éƒ½æ‡µäº†â€”â€”è¿™éƒ½æ˜¯äº›ä»€ä¹ˆç©æ„å„¿ï¼Ÿè¿™æ˜¯äººç±»æ–‡å­—å—ï¼Ÿè¿˜æ˜¯æŠŠIDAå…³äº†ï¼Œåˆ·ä¼šå„¿å¾®åšå‹å‹æƒŠå§ã€‚è¿™è·Ÿå¾ˆå¤šå·¥ç¨‹å¸ˆåœ¨å†™ç¬¬ä¸€è¡Œä»£ç æ—¶ä¸çŸ¥å¦‚ä½•ä¸‹æ‰‹çš„æ„Ÿè§‰å¾ˆç±»ä¼¼ã€‚å…¶å®ï¼Œè·Ÿå†™ä»£ç æ—¶éœ€è¦å®šä¹‰ä¸€ä¸ªå…¥å£å‡½æ•°ä¸€æ ·ï¼Œåœ¨é€†å‘å·¥ç¨‹é‡Œï¼Œä¹Ÿéœ€è¦æ‰¾åˆ°è‡ªå·±æ„Ÿå…´è¶£çš„å…¥å£å‡½æ•°ã€‚åœ¨Functions windowä¸­åŒå‡»è¿™ä¸ªå…¥å£å‡½æ•°ï¼Œä½¿å¾—Main windowè·³è½¬åˆ°å‡½æ•°ä½“ï¼Œç„¶åç”¨é¼ æ ‡é€‰ä¸­Main windowï¼ŒæŒ‰ä¸€ä¸‹ç©ºæ ¼ï¼Œç•Œé¢ä¼šç¬é—´å˜æ¸…çˆ½ï¼Œå¯è¯»æ€§ä¸€ä¸‹å°±å¼ºäº†èµ·æ¥ã€‚</p>

<p>ã€‚ã€‚ã€‚</p>

<h2 id="ifunbox">3ã€iFunBox</h2>

<p>iFunBox æ˜¯ä¸€æ¬¾è€ç‰ŒiOSæ–‡ä»¶ç®¡ç†å·¥å…·ï¼Œå¯ä»¥éå¸¸æ–¹ä¾¿åœ°æ“ä½œiOSä¸­çš„æ–‡ä»¶ã€‚ iFunBoxçš„ä½¿ç”¨å¹¶ä¸å¤æ‚ï¼Œæˆ‘ä»¬ä¸»è¦ç”¨åˆ°çš„æ˜¯å®ƒçš„æ–‡ä»¶ä¼ è¾“åŠŸèƒ½ã€‚æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¶Šç‹±iOSå¿…é¡»å®‰è£…â€œApple File Conduit 2â€ ï¼Œç®€ç§°AFC2ï¼Œè¿™æ ·iFunBoxæ‰èƒ½å¤Ÿæµè§ˆiOSå…¨ç³»ç»Ÿæ–‡ä»¶ï¼Œè€Œä¸”è¿™ä¹Ÿæ˜¯æ¥ä¸‹æ¥å¤§éƒ¨åˆ†æ“ä½œçš„å…ˆå†³æ¡ä»¶ã€‚</p>

<h2 id="dylddecache">4 dyld_decache</h2>

<p>å®‰è£…äº†iFunBoxå’ŒAFC2ä¹‹åï¼Œä¸å°‘è¯»è€…ä¼šè¿«ä¸åŠå¾…åœ°å¼€å§‹æµè§ˆiOSæ–‡ä»¶ç³»ç»Ÿï¼Œçœ‹çœ‹è¿™ä¸ªå°é—­å¹³å°çš„è¡¨é¢ä¸‹åˆ°åº•æš—è—äº†å¤šå°‘ç„æœºã€‚ç›¸ä¿¡å¤§å®¶å¾ˆå¿«å°±ä¼šå‘ç°ä¸€ä¸ªé—®é¢˜ï¼šâ€œ/System/Library/Frameworks/â€ã€â€œ/System/Library/PrivateFrameworks/â€ç­‰ç›®å½•ä¸‹ï¼Œæ€ä¹ˆæ²¡æœ‰åº“æ–‡ä»¶ï¼Ÿ</p>

<p>ä»iOS 3.1å¼€å§‹ï¼ŒåŒ…æ‹¬frameworksåœ¨å†…çš„è®¸å¤šåº“æ–‡ä»¶è¢«å­˜è¿›äº†ä¸€ä¸ªå¤§cacheé‡Œï¼Œè¿™ä¸ªcacheæ–‡ä»¶ä½äºâ€œ/System/Library/Caches/com.apple.dyld/dyld_shared_cache_armxâ€ï¼ˆåä¸ºdyld_shared_cache_armv7ã€dyld_shared_cache_armv7sæˆ–dyld_shared_cache_arm64ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨KennyTMå¼€å‘çš„dyld_decacheå°†å…¶ä¸­çš„äºŒè¿›åˆ¶æ–‡ä»¶æå–å‡ºæ¥ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯ç¡®ä¿åˆ†æçš„æ–‡ä»¶æ¥è‡ªæœ¬æœºï¼Œåœ¨ä½¿ç”¨Macå·¥å…·é›†ä¸iOSå·¥å…·é›†åˆ†æåŒä¸€ç›®æ ‡æ—¶ï¼ŒOSXä¸iOSä¸Šåˆ†æå‡ºçš„æŒ‡ä»¤å’Œåœ°å€ç­‰æ•°æ®æ˜¯å®Œå…¨å»åˆçš„ï¼Œé¿å…äº†å‡ºç°é©´å”‡ä¸å¯¹é©¬å˜´çš„ä½çº§é”™è¯¯ã€‚æœ‰å…³è¿™ä¸ªcacheçš„è¿›ä¸€æ­¥ä»‹ç»ï¼Œå¯ä»¥å‚é˜…DHowettçš„åšå®¢http://blog.howett.net/).</p>

<p>ä½¿ç”¨dyld_decacheä¹‹å‰ï¼Œè¦å°†â€œ/System/Library/Caches/com.apple.dyld/dyld_shared_cache_armxâ€ç”¨iFunBoxï¼ˆä¸èƒ½ç”¨scpï¼‰ä»iOSæ‹·è´åˆ°OSXä¸­ã€‚ç„¶åä»https://github.com/downloads/kennytm/Miscellaneous/dyld_decache[v0.1c].bz2ä¸‹è½½dyld_decacheã€‚è§£å‹ä¹‹åèµ‹äºˆå…¶å¯æ‰§è¡Œæƒé™ï¼Œå¦‚ä¸‹ï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>snakeninnysiMac:~ snakeninny$ chmod +x /path/to/dyld_decache\[v0.1c\]
</code></pre>
</div>

<p>ç„¶åå¼€å§‹æå–äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¦‚ä¸‹ï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>snakeninnysiMac:~ snakeninny$ /path/to/dyld_decache\[v0.1c\] -o /where/to/store/decached/binaries/ /path/to/dyld_shared_cache_armx
  0/877: Dumping '/System/Library/AccessibilityBundles/AXSpeechImplementation.bundle/AXSpeechImplementation'...
  1/877: Dumping '/System/Library/AccessibilityBundles/AccessibilitySettingsLoader.bundle/AccessibilitySettingsLoader'...
  2/877: Dumping '/System/Library/AccessibilityBundles/AccountsUI.axbundle/AccountsUI'...
â€¦â€¦
</code></pre>
</div>

<p>æå–å‡ºçš„æ‰€æœ‰äºŒè¿›åˆ¶æ–‡ä»¶éƒ½å­˜æ”¾åœ¨äº†â€œ/where/to/store/decached/binaries/â€ä¸‹ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼Œé€†å‘å·¥ç¨‹éœ€è¦åˆ†æçš„äºŒè¿›åˆ¶æ–‡ä»¶ç°åœ¨æ•£è½åœ¨OSXå’ŒiOSä¸¤ä¸ªç³»ç»Ÿä¸­ï¼Œä¸æ–¹ä¾¿æŸ¥æ‰¾ï¼Œå»ºè®®åˆ©ç”¨ä¸‹ä¸€ç« æåˆ°çš„scpå·¥å…·æŠŠiOSæ–‡ä»¶ç³»ç»Ÿæ‹·è´ä¸€ä»½å­˜åœ¨OSXé‡Œã€‚</p>


                </div>
                <div class="read-all">
                    <a  href="/2016/11/06/5_IDA-iFunBox-other/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2016/11/05/IOS_Adopt/"> ä¸€é“é¢è¯•é¢˜é‡Œè—çš„IOSä¸–ç•Œ</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2016-11-05
                    </div>
                    <div class="label-card">
                        <i class="fa fa-user"></i>3è¡Œä»£ç 
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">â€¢</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#Objective-C" title="Category: Objective-C" rel="category">Objective-C</a>
    
  

  <!-- <span class="point">â€¢</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">â€¢</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#iOSåŸºç¡€" title="Tag: iOSåŸºç¡€" rel="tag">iOSåŸºç¡€</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#section" id="markdown-toc-section">å‰åº</a></li>
  <li><a href="#section-1" id="markdown-toc-section-1">è§£æ</a>    <ul>
      <li><a href="#section-2" id="markdown-toc-section-2">1ã€æšä¸¾</a>        <ul>
          <li><a href="#section-3" id="markdown-toc-section-3">1.1 å®šä¹‰è§„èŒƒçš„æšä¸¾</a></li>
          <li><a href="#section-4" id="markdown-toc-section-4">1.2 å®šä¹‰è§„èŒƒçš„æšä¸¾å†…å®¹</a></li>
          <li><a href="#section-5" id="markdown-toc-section-5">1.3 æšä¸¾çš„æ·±å…¥</a></li>
          <li><a href="#section-6" id="markdown-toc-section-6">1.4 ä¼˜åŒ–åçš„å†™æ³•</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#section-7" id="markdown-toc-section-7">2ã€å±æ€§</a>    <ul>
      <li><a href="#section-8" id="markdown-toc-section-8">å±æ€§çš„ä¿®é¥°ç¬¦</a></li>
      <li><a href="#age-" id="markdown-toc-age-">2.1ã€ageå±æ€§ ç±»å‹çš„é€‰æ‹©</a></li>
      <li><a href="#section-9" id="markdown-toc-section-9">2.2ã€å±æ€§çš„å†…å­˜ç®¡ç†</a></li>
      <li><a href="#protocolproperty" id="markdown-toc-protocolproperty">2.3ã€åœ¨@protocolä¸­ä½¿ç”¨@propertyï¼š</a></li>
      <li><a href="#synthesizedynamic" id="markdown-toc-synthesizedynamic">2.5ã€å±æ€§ç›¸å…³çš„@synthesizeå’Œ@dynamic</a></li>
    </ul>
  </li>
</ul>

<p><img src="https://ooo.0o0.ooo/2016/11/05/581daad679042.png" alt="" /></p>

<p>ä¸Šè¾¹è¿™å¼ å›¾æ˜¯å‰æ®µæ—¶é—´ç½‘ä¸Šæ¯”è¾ƒç«çš„ä¸€å¥—é¢è¯•é¢˜ä¸­çš„ã€‚è¿™å¥—é¢˜æ¥æºæ˜¯ ç›®å‰å°±èŒäºç™¾åº¦çš„å­™æºã€‚</p>

<h2 id="section">å‰åº</h2>

<p>ä¼šæœ‰å¼€å‘è€…ï¼Œçœ‹è¿™é“é¢˜ç›®æ—¶ä¼šè§‰ç€æ²¡æœ‰å•¥å¤ªå¤§æ¯›ç—…ï¼Œå®é™…ä¸­ä»–ä»¬ä¹Ÿå¯èƒ½å°±æ˜¯è¿™æ ·å†™çš„ã€‚</p>

<p>å…¶å®åœ¨githubä¸Šä¼šç»å¸¸çœ‹åˆ°è¿™æ ·ç±»ä¼¼çš„ä»£ç ï¼Œç‰¹åˆ«æ˜¯åœ¨ä¸€äº›å°demoé‡Œå¾ˆå¸¸è§ã€‚ä¹‹æ‰€ä»¥å¿½ç•¥å…¶ä¸­çš„é—®é¢˜ï¼Œä¸»è¦æ˜¯å› ä¸ºæ²¡æœ‰è®¤è¯†åˆ°è§„èŒƒçš„å†™æ³•ï¼Œä»¥åŠè¿™ç§å†™æ³•å¯èƒ½å¼•èµ·çš„é—®é¢˜ã€‚æ‰¯è¿œç‚¹å°±æ˜¯ï¼Œä¸€ä¸ªäººçš„ç¼–ç è¯­è¨€è®¤çŸ¥æ°´å¹³ä¼šæå¤§çš„å½±å“ä»–çš„ç¼–ç è¡Œä¸ºã€‚ç„¶è€Œè®¤çŸ¥æ°´å¹³å’Œå­¦ä¹ çš„é€”å¾„æœ‰è«å¤§çš„å…³ç³»ã€‚</p>

<p>å‰å‡ ä¸ªæœˆï¼Œæˆ‘ä»¬å…¬å¸æ‹›è˜ç§»åŠ¨å¼€äººå‘˜ï¼Œæœ¬äººä¹Ÿé¢è¯•ä¸å°‘androidå’Œiosçš„å¼€å‘è€…ï¼Œå‘ç°ä¸€ä¸ªå¾ˆæ™®éçš„é—®é¢˜ï¼šä»£ç ä¸è§„èŒƒã€‚ä¸è®ºæ˜¯åˆšä»åŸ¹è®­å­¦æ ¡é‡Œåˆšå‡ºæ¥çš„ï¼Œè¿˜æ˜¯å·²ç»5~6å¹´ç»éªŒçš„å¼€å‘è€…ã€‚å½“æåˆ°ä»£ç çš„è§„èŒƒæ—¶ï¼Œå¤§å¤šå›ç­”çš„å°±æ˜¯é©¼å³°å¼å‘½åæ³•ï¼Œç”šè‡³æœ‰ä½â€èµ„æ·±çš„â€æ±‚èŒè€…å‘æˆ‘â€æ™®åŠç°ä»Šä¸šç•Œçš„æ™®éå½¢å¼â€:å…¶å®ä»£ç è§„èŒƒä¸å¦å¹¶ä¸é‡è¦ï¼Œå¯¹å¤šæ•°ä¸­å°åˆ›ä¸šå…¬å¸è€Œè¨€,é‡è¦çš„æ˜¯å¿«é€Ÿä¸Šçº¿ï¼ŒåŠæ—¶è¿­ä»£ï¼Œå æœ‰å¸‚åœºã€‚è¯æ˜¯ä¸é”™ï¼Œä¹Ÿé“å‡ºäº†åƒæˆ‘ä»¬è¿™ç§åœ¨é£å£åˆ›ä¸šå…¬å¸çš„åŸºæœ¬è·¯çº¿ï¼Œå°±æ˜¯åŠæ—©å…¥åœºï¼Œæ‹¿åˆ°ç‰Œç…§ï¼Œå æœ‰å¸‚åœºã€‚ä½†æœ€ç»ˆæˆ‘ä¹Ÿæ²¡æœ‰é€šè¿‡ä»–çš„é¢è¯•ã€‚ç†ç”±æ˜¯:å·¥ä½œç»éªŒä¸°å¯Œ(å¼€å‘è¿‡Symbian,android,iOS)ä½†ä¸é€‚åˆåšå¼€å‘(å› android\iOSä¸èµ„æ·±ã€‚æˆ‘ä»¬è¦æ‹›è˜èµ„æ·±çš„androidï¼Œæ‡‚ç‚¹iOSï¼Œåˆ›ä¸šå…¬å¸å˜›ï¼ŒiOSå’Œandroidåˆ†çš„ä¸æ˜¯å¾ˆæ¸…ï¼Œæ˜¯æ´»éƒ½å¹²)ã€‚</p>

<p>ä¸Šè¾¹æ‰¯è¿œäº†ï¼Œä»£ç çš„è§„èŒƒä¸å¦ï¼Œæœ€åˆçš„å­¦ä¹ é€”å¾„å’Œå½¢å¼å›ºç„¶é‡è¦ï¼Œæ›´é‡è¦çš„æ˜¯åœ¨åæœŸçš„å·¥ä½œä¸­ï¼Œæ˜¯å¦è¾ƒä¸ºå…¨é¢ç³»ç»Ÿçš„ä»å®˜æ–¹æä¾›çš„èµ„æ–™ä¸­è¿›è¡Œç›¸å…³å­¦ä¹ ã€‚å¯èƒ½æœ‰äººè§‰å¾—ä¸é‡è¦ï¼Œä½†æ˜¯åœ¨æˆ‘çœ‹æ¥ï¼Œè¿™æ˜¯ä¸€ååˆæ ¼å¼€å‘è€…çš„å¿…ç»ä¹‹è·¯ã€‚ä½ æ‰€ç”¨çš„è¯­è¨€ã€è§„åˆ™ï¼Œéƒ½æ˜¯äººå®¶å®šçš„,å³ä¾¿èƒ½å¼€å‘å‡ºå¯ç”¨çš„appï¼Œé‚£ä¹Ÿæœªå¿…åˆæ ¼ï¼Œç‰¹åˆ«æ˜¯é¡¹ç›®é€æ¸åšå¤§ä¹‹åï¼Œç®€å•çš„æ¨¡å¼ï¼Œä¸è§„èŒƒçš„ä»£ç æ‰€å¸¦æ¥çš„éšæ‚£å°±ä¼šé€æ¸å‘ˆç°å‡ºæ¥ã€‚</p>

<p><strong>ä¸‹è¾¹é¦–å…ˆä¼šè§£æé—®é¢˜ï¼Œå¹¶å°±éƒ¨åˆ†å†…å®¹æ·±å…¥è§£æï¼Œå¦‚æœ‰ç–‘é—®è¿˜è¯·ç•™è¨€ç›¸å‘Š</strong></p>

<h2 id="section-1">è§£æ</h2>

<!-- è¿™é‡Œå…ˆæ¨èå®˜æ–¹çš„å†™æ³•ï¼š[ä¼ é€é—¨](https://developer.apple.com/library/content/releasenotes/ObjectiveC/ModernizationObjC/AdoptingModernObjective-C/AdoptingModernObjective-C.html#//apple_ref/doc/uid/TP40014150-CH1-SW4) -->

<h3 id="section-2">1ã€æšä¸¾</h3>

<p>é—®é¢˜ç‚¹ï¼š</p>

<p>1ã€é¢˜ç›®ä¸­å†™æšä¸¾æ˜¯ä½¿ç”¨Cçš„é£æ ¼ï¼›
2ã€æšä¸¾å®šä¹‰çš„ä¸è§„èŒƒï¼›
3ã€æšä¸¾çš„å†…å®¹ä¸ä¸¥è°¨ã€‚</p>

<h5 id="section-3">1.1 å®šä¹‰è§„èŒƒçš„æšä¸¾</h5>

<p>å®˜æ–¹æ–‡æ¡£ä¸­ï¼Œenum å»ºè®®ä½¿ç”¨ NS_ENUM å’Œ NS_OPTIONS å®æ¥å®šä¹‰æšä¸¾ç±»å‹ã€‚
    NS_ENUMæšä¸¾é¡¹çš„å€¼ä¸ºNSIntegerï¼Œå®šä¹‰é€šç”¨çš„æšä¸¾ï¼›
    NS_OPTIONSæšä¸¾é¡¹çš„å€¼ä¸ºNSUIntegerï¼Œå®šä¹‰ä½ç§»æšä¸¾ã€‚
ä¸€èˆ¬å¼€å‘è€…å¯èƒ½ç”¨ä¸åˆ°åè€…ï¼Œä½†å¦‚æœè¿›å…¥åˆ°UIKitçš„å¤´æ–‡ä»¶é‡Œï¼Œå°±ä¼šçœ‹åˆ°å¾ˆå¤šè¿™ç§ä¹¦å†™æ ¼å¼ã€‚</p>

<p>enum ä¸­é©¼å³°å‘½åæ³•å’Œä¸‹åˆ’çº¿å‘½åæ³•çš„ä½¿ç”¨ï¼šæšä¸¾ç±»å‹çš„å‘½åè§„åˆ™å’Œå‡½æ•°çš„å‘½åè§„åˆ™ç›¸åŒï¼šå‘½åæ—¶ä½¿ç”¨é©¼å³°å‘½åæ³•ï¼Œå‹¿åŒæ—¶ä½¿ç”¨ä¸‹åˆ’çº¿å‘½åæ³•ã€‚</p>

<h5 id="section-4">1.2 å®šä¹‰è§„èŒƒçš„æšä¸¾å†…å®¹</h5>

<p>è¯•é¢˜çš„modelå®é™…ä½¿ç”¨åœºæ™¯ä¸æ¸…æ¥šï¼Œè¿™é‡Œå°†è¯¥æšä¸¾åœºæ™¯æ”¾å®½åˆ°ç”Ÿæ´»ä¸­ï¼š
é‚£ä¹ˆé™¤äº†ç”·æ€§ï¼Œå¥³æ€§ï¼Œå®é™…ä¸Šè¿˜åº”è¯¥æœ‰åŒ…æ‹¬ï¼šå†…å¿ƒç”·æ€§çš„å¥³æ€§ï¼Œä»¥åŠå†…å¿ƒå¥³æ€§çš„ç”·æ€§ï¼Œä»¥åŠæ— æ€§ï¼Œä»¥åŠå…¶ä»–æœªçŸ¥çš„æ€§åˆ«(è€ƒè™‘æœªçŸ¥çš„ç‰¹æ®Šæƒ…å†µã€‚å½“ç„¶ä¸‹è¾¹çš„æšä¸¾é’ˆå¯¹ä¸åŒçš„è¡Œä¸šåœºæ™¯ï¼Œå¯èƒ½è¦è¿›è¡Œè°ƒæ•´)</p>

<h4 id="section-5">1.3 æšä¸¾çš„æ·±å…¥</h4>

<p>è¿™ä¸¤ä¸ªå®çš„å®šä¹‰åœ¨Foundation.frameworkçš„NSObjCRuntime.hä¸­ï¼š</p>
<div class="highlighter-rouge"><pre class="highlight"><code>#if (__cplusplus &amp;&amp; __cplusplus &gt;= 201103L &amp;&amp; (__has_extension(cxx_strong_enums) || __has_feature(objc_fixed_enum))) || (!__cplusplus &amp;&amp; __has_feature(objc_fixed_enum))  
#define NS_ENUM(_type, _name) enum _name : _type _name; enum _name : _type  
#if (__cplusplus)  
#define NS_OPTIONS(_type, _name) _type _name; enum : _type  
#else  
#define NS_OPTIONS(_type, _name) enum _name : _type _name; enum _name : _type  
#endif  
#else  
#define NS_ENUM(_type, _name) _type _name; enum  
#define NS_OPTIONS(_type, _name) _type _name; enum  
#endif  
</code></pre>
</div>
<p>å…¶å®ä¸Šè¿°çš„å†™æ³•ï¼Œç­‰ä»·äºï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>typedef enum JUserGender : NSInteger JUserGender;  
enum JUserGender : NSInteger {  }
</code></pre>
</div>

<p>ä»æšä¸¾å®šä¹‰æ¥çœ‹ï¼ŒNS_ENUMå’ŒNS_OPTIONSæœ¬è´¨æ˜¯ä¸€æ ·çš„ï¼Œä»…ä»…ä»å­—é¢ä¸Šæ¥åŒºåˆ†å…¶ç”¨é€”ã€‚NS_ENUMæ˜¯é€šç”¨æƒ…å†µï¼ŒNS_OPTIONSä¸€èˆ¬ç”¨æ¥å®šä¹‰å…·æœ‰ä½ç§»æˆ–ç‰¹ç‚¹çš„æƒ…å†µã€‚</p>

<h4 id="section-6">1.4 ä¼˜åŒ–åçš„å†™æ³•</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>typedef NS_ENUM(NSInteger, JUserGender) {
    JUserGenderUnknown,
    JUserGenderMale,
    JUserGenderGay,
    JUserGenderFemale,
    JUserGenderLesbian,
    JUserGenderNeuter
};
</code></pre>
</div>

<h2 id="section-7">2ã€å±æ€§</h2>

<p>** @propertyæœ¬è´¨æ˜¯: @property = ivar + getter + setter;**</p>

<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå±æ€§=ivarï¼ˆå®ä¾‹å˜é‡ï¼‰+ å­˜å–æ–¹æ³•ã€‚å®ƒä½œä¸º OCçš„ä¸€é¡¹ç‰¹æ€§ï¼Œä¸»è¦çš„ä½œç”¨å°±åœ¨äºå°è£…å¯¹è±¡ä¸­çš„æ•°æ®ã€‚ OC å¯¹è±¡é€šå¸¸ä¼šæŠŠå…¶æ‰€éœ€è¦çš„æ•°æ®ä¿å­˜ä¸ºå„ç§å®ä¾‹å˜é‡ã€‚</p>

<h4 id="section-8">å±æ€§çš„ä¿®é¥°ç¬¦</h4>

<p>åŸå­æ€§ â€” nonatomic ç‰¹è´¨
(ä¸å£°æ˜nonatomicï¼Œç¼–è¯‘å™¨å°±é»˜è®¤ä½¿ç”¨åŒæ­¥é”ä¿è¯å…¶åŸå­æ€§atomicï¼Œä»è€Œä¿è¯å…¶çº¿ç¨‹å®‰å…¨ã€‚ä½†å¦‚æœçœŸçš„æ˜¯å¤šä¸ªçº¿ç¨‹åŒæ—¶æ“ä½œè¯¥å±æ€§ï¼Œæœ€å¥½é‡‡ç”¨å…¶å®ƒæ‰‹æ®µä¿è¯å±æ€§thread safety)</p>

<p>è¯»/å†™æƒé™ â€” readwrite(è¯»å†™)ã€readonly (åªè¯»)</p>

<p>å†…å­˜ç®¡ç†è¯­ä¹‰â€”assignã€strongã€ weakã€unsafe_unretainedã€copy</p>

<p>æ–¹æ³•åâ€”getter=<name> ã€setter=<name></name></name></p>

<p><strong>ä¸‹è¾¹åˆ†åˆ«è§£è¯´</strong></p>

<h4 id="age-">2.1ã€ageå±æ€§ ç±»å‹çš„é€‰æ‹©</h4>

<p>age å±æ€§çš„ç±»å‹ï¼šåº”é¿å…ä½¿ç”¨åŸºæœ¬ç±»å‹ï¼Œå»ºè®®ä½¿ç”¨ Foundation æ•°æ®ç±»å‹ï¼Œå¯¹åº”å…³ç³»å¦‚ä¸‹ï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>int -&gt; NSInteger
unsigned -&gt; NSUInteger
float -&gt; CGFloat åŒæ—¶è€ƒè™‘åˆ° age çš„ç‰¹ç‚¹ï¼Œä»¥åŠå‡ºäº32/64 bitçš„è€ƒè™‘åº”ä½¿ç”¨ NSUIntegerã€‚
</code></pre>
</div>

<h4 id="section-9">2.2ã€å±æ€§çš„å†…å­˜ç®¡ç†</h4>

<p>è¯¦è§å®˜æ–¹æ–‡æ¡£ <a href="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/WorkingwithBlocks/WorkingwithBlocks.html#//apple_ref/doc/uid/TP40011210-CH8-SW12">ä¼ é€é—¨</a></p>

<p><strong>1ã€weak VS assign</strong></p>

<p>ä½¿ç”¨weakçš„æƒ…å½¢ï¼š
1ã€åœ¨ ARC ä¸­,å¯èƒ½å‡ºç°å¾ªç¯å¼•ç”¨æ—¶,å¾€å¾€è¦é€šè¿‡weakæ¥è§£å†³,æ¯”å¦‚: delegateä»£ç†å±æ€§
2ã€è‡ªèº«å·²ç»å¼ºå¼•ç”¨,æ­¤æ—¶ä¹Ÿä¼šä½¿ç”¨weak,æ¯”å¦‚:è‡ªå®šä¹‰IBOutletæ§ä»¶å±æ€§ä¸€èˆ¬ä½¿ç”¨ weakï¼›(ä¹Ÿå¯ä½¿ç”¨strong)
..
ç›¸åŒï¼š
weakä¹‰ä¸ºâ€œéæ‹¥æœ‰å…³ç³»â€ï¼Œè®¾ç½®æ–¹æ³•æ—¢ä¸ä¿ç•™æ–°å€¼ï¼Œä¹Ÿä¸é‡Šæ”¾æ—§å€¼(æ­¤åŒassign)ï¼Œ ç„¶è€Œå¯¹è±¡é”€æ¯æ—¶ï¼Œå±æ€§å€¼ä¹Ÿä¼šæ¸…ç©º(assign çš„setåªä¼šæ‰§è¡Œé’ˆå¯¹CGFloatã€NSlntegerç­‰ç®€å•çš„èµ‹å€¼æ“ä½œï¼‰ï¼Œ
weakå¿…é¡»ç”¨äºOCå¯¹è±¡(assiginå¯ä»¥ç”¨éOCå¯¹è±¡)ã€‚</p>

<p><strong>2ã€runtimeä¸­çš„weakåŸç†ï¼š</strong>
runtimeä¸­å®ç°weakçš„åŸç†æ˜¯ï¼šruntimeå¯¹æ³¨å†Œçš„ç±»è¿›è¡Œå¸ƒå±€ï¼Œweakå¯¹è±¡ä¼šæ”¾å…¥ä¸€ä¸ªhashè¡¨ä¸­ã€‚æŠŠweakæŒ‡çš„å¯¹è±¡å†…å­˜åœ°å€ä½œä¸ºkeyï¼Œå½“æ­¤å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ä¸º0æ—¶deallocï¼Œå‡å¦‚weakæŒ‡å‘çš„å¯¹è±¡å†…å­˜åœ°å€æ˜¯aï¼Œé‚£ä¹ˆå°±ä¼šä»¥aä¸ºé”®ï¼Œåœ¨è¿™ä¸ªweakè¡¨ä¸­æœç´¢ï¼Œæ‰¾åˆ°æ‰€æœ‰ä»¥aä¸ºé”®çš„weakå¯¹è±¡ï¼Œä»è€Œè®¾ç½®ä¸ºnilã€‚</p>

<p><strong>3ã€copy</strong></p>

<p>3.1ã€copyå¤åˆ¶å‡ºæ¥æ˜¯ä¸å¯å˜çš„,æ‰€ä»¥å¯å˜å±æ€§ä¸å»ºè®®ç”¨copy:</p>

<p>@property (copy) NSMutableArray *array;
è¿™é‡Œä½¿ç”¨copyç»“æœå¯¼è‡´å±æ€§æ˜¯ä¸å¯å˜çš„ã€‚åŒæ—¶è¿™é‡Œä½¿ç”¨äº†atomicä¼šå½±å“æ€§èƒ½</p>

<p>3.2ã€NSArrayç­‰ç»å¸¸ä½¿ç”¨copyå…³é”®å­—:
å› ä¸ºä»–ä»¬æœ‰å¯¹åº”çš„å¯å˜ç±»å‹ï¼šNSMutableArrayï¼Œä»–ä»¬ä¹‹é—´å¯èƒ½è¿›è¡Œèµ‹å€¼æ“ä½œï¼Œä¸ºç¡®ä¿å¯¹è±¡ä¸­çš„å­—ç¬¦ä¸²å€¼ä¸ä¼šæ— æ„é—´å˜åŠ¨ï¼Œåº”è¯¥åœ¨è®¾ç½®æ–°å±æ€§å€¼æ—¶æ‹·è´ä¸€ä»½ã€‚</p>

<p>3.3ã€block ä¹Ÿç»å¸¸ä½¿ç”¨ copy å…³é”®å­—
å…·ä½“åŸå› è§å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/WorkingwithBlocks/WorkingwithBlocks.html#//apple_ref/doc/uid/TP40011210-CH8-SW12">ä¼ é€é—¨</a>
block ä½¿ç”¨copyæ˜¯ä»MRCé—ç•™ä¸‹æ¥çš„â€œä¼ ç»Ÿâ€,åœ¨MRCä¸­,æ–¹æ³•å†…éƒ¨çš„blockæ˜¯åœ¨æ ˆåŒºçš„,ä½¿ç”¨copy å¯ä»¥æŠŠå®ƒæ”¾åˆ°å †åŒºã€‚åœ¨ ARCä¸­ä¸å¼ºåˆ¶ã€‚</p>

<p>3.4ã€copyä¿®é¥°è‡ªå®šä¹‰ç±»
å¦‚æœè‡ªå®šä¹‰çš„å¯¹è±¡åˆ†ä¸ºå¯å˜ä¸ä¸å¯å˜ç‰ˆæœ¬ï¼Œé‚£ä¹ˆå°±è¦åŒæ—¶å®ç° NSCopying ä¸ NSMutableCopying åè®®ã€‚é’ˆå¯¹å®é™…å¯èƒ½å‡ºç°çš„å¤æ‚æƒ…å†µï¼Œå®ç°ä¸»è¦ä»£ç å¦‚ä¸‹ï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c1">// .hæ–‡ä»¶
</span>   <span class="k">typedef</span> <span class="nf">NS_ENUM</span><span class="p">(</span><span class="n">NSInteger</span><span class="p">,</span> <span class="n">JUserGender</span><span class="p">)</span> <span class="p">{</span>
       <span class="n">JUserGenderUnknown</span><span class="p">,</span>
       <span class="n">JUserGenderMale</span><span class="p">,</span>
       <span class="n">JUserGenderGay</span><span class="p">,</span>
       <span class="n">JUserGenderFemale</span><span class="p">,</span>
       <span class="n">JUserGenderLesbian</span><span class="p">,</span>
       <span class="n">JUserGenderNeuter</span>
   <span class="p">};</span>

  <span class="k">@interface</span> <span class="nc">JUser</span> <span class="p">:</span> <span class="nc">NSObject</span><span class="o">&lt;</span><span class="n">NSCopying</span><span class="o">&gt;</span>

  <span class="k">@property</span> <span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span> <span class="n">readonly</span><span class="p">,</span> <span class="n">copy</span><span class="p">)</span>      <span class="n">NSString</span>    <span class="o">*</span><span class="n">name</span><span class="p">;</span>
  <span class="k">@property</span> <span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span> <span class="n">readonly</span><span class="p">,</span> <span class="n">assign</span><span class="p">)</span>    <span class="n">NSUInteger</span>  <span class="n">age</span><span class="p">;</span>
  <span class="k">@property</span> <span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span> <span class="n">readwrite</span><span class="p">,</span> <span class="n">assign</span><span class="p">)</span>   <span class="n">JUserGender</span> <span class="n">sex</span><span class="p">;</span>

  <span class="k">-</span> <span class="p">(</span><span class="n">instancetype</span><span class="p">)</span><span class="nf">initWithName</span><span class="p">:(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">name</span> <span class="nf">age</span><span class="p">:(</span><span class="n">NSUInteger</span><span class="p">)</span><span class="nv">age</span> <span class="nf">sex</span><span class="p">:(</span><span class="n">JUserGender</span><span class="p">)</span><span class="nv">sex</span><span class="p">;</span>
  <span class="k">+</span> <span class="p">(</span><span class="n">instancetype</span><span class="p">)</span><span class="nf">userWithName</span><span class="p">:(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">name</span> <span class="nf">age</span><span class="p">:(</span><span class="n">NSUInteger</span><span class="p">)</span><span class="nv">age</span> <span class="nf">sex</span><span class="p">:(</span><span class="n">JUserGender</span><span class="p">)</span><span class="nv">sex</span><span class="p">;</span>
<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">addFriend</span><span class="p">:(</span><span class="n">JUserGender</span> <span class="o">*</span><span class="p">)</span><span class="nv">user</span><span class="p">;</span>
<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">removeFriend</span><span class="p">:(</span><span class="n">JUserGender</span> <span class="o">*</span><span class="p">)</span><span class="nv">user</span><span class="p">;</span>
<span class="k">@end</span>

<span class="c1">// .mæ–‡ä»¶
</span>
<span class="k">@implementation</span> <span class="nc">JUser</span> <span class="p">{</span>
    <span class="n">NSMutableSet</span> <span class="o">*</span><span class="n">_friends</span><span class="p">;</span>
<span class="p">}</span>

<span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">setName</span><span class="o">:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="n">name</span> <span class="p">{</span>
    <span class="n">_name</span> <span class="o">=</span> <span class="p">[</span><span class="n">name</span> <span class="nf">copy</span><span class="p">];</span>
<span class="p">}</span>

<span class="o">-</span> <span class="p">(</span><span class="n">instancetype</span><span class="p">)</span><span class="n">initWithName</span><span class="o">:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="n">name</span>
                         <span class="n">age</span><span class="o">:</span><span class="p">(</span><span class="n">NSUInteger</span><span class="p">)</span><span class="n">age</span>
                         <span class="n">sex</span><span class="o">:</span><span class="p">(</span><span class="n">JUserGender</span><span class="p">)</span><span class="n">sex</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="n">self</span> <span class="o">=</span> <span class="p">[</span><span class="n">super</span> <span class="nf">init</span><span class="p">])</span> <span class="p">{</span>
        <span class="n">_name</span> <span class="o">=</span> <span class="p">[</span><span class="n">name</span> <span class="nf">copy</span><span class="p">];</span>
        <span class="n">_age</span> <span class="o">=</span> <span class="n">age</span><span class="p">;</span>
        <span class="n">_sex</span> <span class="o">=</span> <span class="n">sex</span><span class="p">;</span>
        <span class="n">_friends</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSMutableSet</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">init</span><span class="p">];</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">self</span><span class="p">;</span>
<span class="p">}</span>

<span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">addFriend</span><span class="o">:</span><span class="p">(</span><span class="n">JUserGender</span> <span class="o">*</span><span class="p">)</span><span class="n">user</span> <span class="p">{</span>
    <span class="p">[</span><span class="n">_friends</span> <span class="nf">addObject</span><span class="p">:</span><span class="n">user</span><span class="p">];</span>
<span class="p">}</span>

<span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">removeFriend</span><span class="o">:</span><span class="p">(</span><span class="n">JUserGender</span> <span class="o">*</span><span class="p">)</span><span class="n">user</span> <span class="p">{</span>
    <span class="p">[</span><span class="n">_friends</span> <span class="nf">removeObject</span><span class="p">:</span><span class="n">user</span><span class="p">];</span>
<span class="p">}</span>

<span class="o">-</span> <span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="n">copyWithZone</span><span class="o">:</span><span class="p">(</span><span class="n">NSZone</span> <span class="o">*</span><span class="p">)</span><span class="n">zone</span> <span class="p">{</span>
    <span class="n">CYLUser</span> <span class="o">*</span><span class="n">copy</span> <span class="o">=</span> <span class="p">[[[</span><span class="n">self</span> <span class="nf">class</span><span class="p">]</span> <span class="nf">allocWithZone</span><span class="p">:</span><span class="n">zone</span><span class="p">]</span>
                     <span class="nf">initWithName</span><span class="p">:</span><span class="n">_name</span>
                     <span class="nf">age</span><span class="p">:</span><span class="n">_age</span>
                     <span class="n">sex</span><span class="o">:</span><span class="n">_sex</span><span class="p">];</span>
    <span class="n">copy</span><span class="o">-&gt;</span><span class="n">_friends</span> <span class="o">=</span> <span class="p">[</span><span class="n">_friends</span> <span class="nf">mutableCopy</span><span class="p">];</span>
    <span class="k">return</span> <span class="n">copy</span><span class="p">;</span>
<span class="p">}</span>

<span class="o">-</span> <span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="n">deepCopy</span> <span class="p">{</span>
    <span class="n">JUser</span> <span class="o">*</span><span class="n">copy</span> <span class="o">=</span> <span class="p">[[[</span><span class="n">self</span> <span class="nf">class</span><span class="p">]</span> <span class="nf">allocWithZone</span><span class="p">:</span><span class="n">zone</span><span class="p">]</span>
                     <span class="nf">initWithName</span><span class="p">:</span><span class="n">_name</span>
                     <span class="nf">age</span><span class="p">:</span><span class="n">_age</span>
                     <span class="n">sex</span><span class="o">:</span><span class="n">_sex</span><span class="p">];</span>
    <span class="n">copy</span><span class="o">-&gt;</span><span class="n">_friends</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSMutableSet</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithSet</span><span class="p">:</span><span class="n">_friends</span>
                                             <span class="nf">copyItems</span><span class="p">:</span><span class="nb">YES</span><span class="p">];</span>
    <span class="k">return</span> <span class="n">copy</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">@end</span>
</code></pre>
</div>

<h4 id="protocolproperty">2.3ã€åœ¨@protocolä¸­ä½¿ç”¨@propertyï¼š</h4>

<p>éœ€è¦å€ŸåŠ©è¿è¡Œæ—¶ï¼š
objc_setAssociatedObject
objc_getAssociatedObject</p>

<h4 id="synthesizedynamic">2.5ã€å±æ€§ç›¸å…³çš„@synthesizeå’Œ@dynamic</h4>

<p>å¦‚æœ@synthesizeå’Œ@dynamicéƒ½æ²¡å†™ï¼Œé‚£ä¹ˆé»˜è®¤çš„å°±æ˜¯@syntheszie var = _var;</p>

<p>@synthesizeï¼šæ²¡æœ‰æ‰‹åŠ¨å®ç°setterã€getterï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ä¸ºä½ åŠ ä¸Šè¿™ä¸¤ä¸ªæ–¹æ³•ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå¯ä»¥åœ¨ç±»çš„.mæ–‡ä»¶ä¸­ï¼Œé€šè¿‡@synthesizeæŒ‡å®šå®ä¾‹å˜é‡çš„åå­—:
@implementation Juser
@synthesize name = _myName; 
@end 
é‚£ä¹ˆå°±ä½¿ç”¨äº†åˆ«å_myNameæ¥ä»£æ›¿name</p>

<p>@dynamicï¼šå‘Šè¯‰ç¼–è¯‘å™¨å±æ€§çš„setterä¸getteræ–¹æ³•ç”±ç”¨æˆ·è‡ªå·±å®ç°ï¼Œä¸è‡ªåŠ¨ç”Ÿæˆã€‚</p>


                </div>
                <div class="read-all">
                    <a  href="/2016/11/05/IOS_Adopt/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
        </ul>



        <!-- Pagination links -->
        <div class="pagination">
          
            <a href="/index.html" class="previous"><i class="fa fa-angle-double-left"></i></a>
            <a href="/page2" class="previous"><i class="fa fa-angle-left"></i></a>
          
          <span class="page_number ">3/6</span>
          
            <a href="/page4" class="next"><i class="fa fa-angle-right"></i></a>
            <a href="/page6" class="next"><i class="fa fa-angle-double-right"></i></a>
          
        </div>
    </div>
    <!-- <button class="anchor"><i class="fa fa-anchor"></i></button> -->
    <div class="right">
        <div class="wrap">
            <div class="side">
                <div>
                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                    æœ€æ–°æ–‡ç« 
                </div>
                <ul class="content-ul" recent>
                    
                        <li><a href="/2017/02/07/AD-Fastlane/">è‡ªåŠ¨åŒ–æµ‹è¯•éƒ¨ç½²ç³»åˆ— - Fastlaneçš„é»‘é­”æ³•:è‡ªåŠ¨æ‰“åŒ…ç¼–è¯‘ä¸Šä¼  AppStore</a></li>
                    
                        <li><a href="/2017/01/23/AD-XCTest/">è‡ªåŠ¨åŒ–æµ‹è¯•éƒ¨ç½²ç³»åˆ— - XCTestå…¥é—¨</a></li>
                    
                        <li><a href="/2017/01/18/SDiffuseMenu/">Swift ç‰ˆ AwesomeMenu çš„æ”¹å†™ä¹‹æ—…:SDiffuseMenu</a></li>
                    
                        <li><a href="/2016/12/11/swift_X_Initialization_Deinitialization/">Swift3.0_X_æ„é€ è¿‡ç¨‹å’Œææ„è¿‡ç¨‹ </a></li>
                    
                        <li><a href="/2016/12/10/swift_IX_Methods_Subscripts_Inheritance/">Swift3.0_IX_æ–¹æ³•ã€ä¸‹æ ‡å’Œç»§æ‰¿ </a></li>
                    
                        <li><a href="/2016/12/08/swift_VIII_Enumerations_Classes_Structures_Properties/">Swift3.0_VIII_æšä¸¾ã€ç±»ã€ç»“æ„ä½“ã€å±æ€§</a></li>
                    
                        <li><a href="/2016/12/07/swift_VII_Closures/">Swift3.0_VII_é—­åŒ…</a></li>
                    
                        <li><a href="/2016/12/05/swift_VI_Functions/">Swift3.0_VI_å‡½æ•°</a></li>
                    
                        <li><a href="/2016/12/03/swift_V_Control-Flow/">Swift3.0_V_æ§åˆ¶æµ</a></li>
                    
                        <li><a href="/2016/12/01/swift_IV_Collection-Types/">Swift3.0_IV_é›†åˆ</a></li>
                    
                </ul>
            </div>

            <!-- Content -->
            <div class="side ">
                <div>
                    <i class="fa fa-th-list"></i>
                    åˆ†ç±»
                </div>
                <ul class="content-ul" cate>
                    
                    <li>
                        <a href="/category/#OS_X" class="categories-list-item" cate="OS_X">
                            <span class="name">
                                OS_X
                            </span>
                            <span class="badge">2</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Objective-C" class="categories-list-item" cate="Objective-C">
                            <span class="name">
                                Objective-C
                            </span>
                            <span class="badge">5</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Reverse" class="categories-list-item" cate="Reverse">
                            <span class="name">
                                Reverse
                            </span>
                            <span class="badge">9</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#AD" class="categories-list-item" cate="AD">
                            <span class="name">
                                AD
                            </span>
                            <span class="badge">6</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#tips" class="categories-list-item" cate="tips">
                            <span class="name">
                                tips
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#python" class="categories-list-item" cate="python">
                            <span class="name">
                                python
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Swift3.0" class="categories-list-item" cate="Swift3.0">
                            <span class="name">
                                Swift3.0
                            </span>
                            <span class="badge">11</span>
                        </a>
                    </li>
                    
                </ul>
            </div>
            <!-- å…¶ä»–divæ¡†æ”¾åˆ°è¿™é‡Œ -->
            <div class="side">
                <div>
                    <i class="fa fa-tags"></i>
                    Tags
                </div>
                <div class="tags-cloud">
                    
                    
                    
                    

                    

                    
                      
                      
                      
                      
                      
                      <a href="/tag/#apache" style="font-size: 9pt; color: #999;">apache</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#WKWebViewã€Nativeä¸JSã€ç¼“å­˜ã€NSURLProtocol" style="font-size: 9pt; color: #999;">WKWebViewã€Nativeä¸JSã€ç¼“å­˜ã€NSURLProtocol</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Charles" style="font-size: 9pt; color: #999;">Charles</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Reveal" style="font-size: 9pt; color: #999;">Reveal</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#iOSOpenDev" style="font-size: 9pt; color: #999;">iOSOpenDev</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#block" style="font-size: 9pt; color: #999;">block</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#NSURLProtocol" style="font-size: 9pt; color: #999;">NSURLProtocol</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#ç¼“å­˜" style="font-size: 10pt; color: #888;">ç¼“å­˜</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#NSURLCache" style="font-size: 9pt; color: #999;">NSURLCache</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#SecureCRT" style="font-size: 9pt; color: #999;">SecureCRT</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#åšå®¢" style="font-size: 9pt; color: #999;">åšå®¢</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#jekyll" style="font-size: 9pt; color: #999;">jekyll</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#sublime" style="font-size: 9pt; color: #999;">sublime</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#ç¯å¢ƒå˜é‡" style="font-size: 9pt; color: #999;">ç¯å¢ƒå˜é‡</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#mac_tips" style="font-size: 9pt; color: #999;">mac_tips</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Sublime" style="font-size: 10pt; color: #888;">Sublime</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#iOSé€†å‘" style="font-size: 9pt; color: #999;">iOSé€†å‘</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#class_dump" style="font-size: 9pt; color: #999;">class_dump</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Theos" style="font-size: 10pt; color: #888;">Theos</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Logos" style="font-size: 9pt; color: #999;">Logos</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#iOSåŸºç¡€" style="font-size: 9pt; color: #999;">iOSåŸºç¡€</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#IDAã€iFunBoxã€dyld_decache" style="font-size: 9pt; color: #999;">IDAã€iFunBoxã€dyld_decache</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#iOSé€†å‘å·¥å…·é›†" style="font-size: 9pt; color: #999;">iOSé€†å‘å·¥å…·é›†</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#iOSé€†å‘ç†è®ºåŸºç¡€" style="font-size: 9pt; color: #999;">iOSé€†å‘ç†è®ºåŸºç¡€</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#è„šæœ¬" style="font-size: 9pt; color: #999;">è„šæœ¬</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#python" style="font-size: 9pt; color: #999;">python</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Swift3.0" style="font-size: 18pt; color: #000;">Swift3.0</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#SDiffuseMenu" style="font-size: 9pt; color: #999;">SDiffuseMenu</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Animation" style="font-size: 9pt; color: #999;">Animation</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#XCTest" style="font-size: 9pt; color: #999;">XCTest</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#fastlane" style="font-size: 9pt; color: #999;">fastlane</a>
                    
                </div>
            </div>

            <!-- <div class="side">
                <div>
                    <i class="fa fa-external-link"></i>
                    Links
                </div>
                <ul  class="content-ul">

                </ul>
            </div> -->
        </div>
    </div>
</div>
<!-- <script src="/js/scroll.min.js " charset="utf-8"></script> -->
<!-- <script src="/js/pageContent.js " charset="utf-8"></script> -->


    <footer class="site-footer">


    <div class="wrapper">

        <p class="description">
             3è¡Œä»£ç çš„æŠ€æœ¯åšå®¢ 
        </p>
        <p class="contact">
            Contact me at:  
            <a href="mailto:mythziven@gmail.com" title="email"><i class="fa fa-envelope-o" aria-hidden="true"></i></a>   -->
<!--            <a href="mailto:mythziven@gmail.com" title="email"><i class="fa fa-envelope-o" aria-hidden="true"></i></a>-->
<!--            <a href="mailto:mythziven@gmail.com" title="email"><i class="fa fa-envelope-o" aria-hidden="true"></i></a>        -->


        </p>
        <p>
            æœ¬ç«™æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡ï¼Œæœ¬ç«™è®¿å®¢æ•°<span id="busuanzi_value_site_uv"></span>äººæ¬¡ï¼Œæœ¬æ–‡æ€»é˜…è¯»é‡<span id="busuanzi_value_page_pv"></span>æ¬¡
        </p>
        <p class="power">
        
            <span>
                Site powered by <a href="https://jekyllrb.com/">Jekyll</a> & <a href="https://pages.github.com/">Github Pages</a>.
            </span>

          <!--   <span>
                Theme designed by <a href="https://github.com/mythkiven">MyKiven</a>.
            </span> -->

        </p>
    </div>
</footer>
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <div class="back-to-top">
    <a href="#top" class="scroll">
        <i class="fa fa-arrow-up" aria-hidden="true"></i>
    </a>
</div>

    <script src=" /js/main.js " charset="utf-8"></script>
    <script src=" /js/scroll.min.js " charset="utf-8"></script>
  </body>

</html>

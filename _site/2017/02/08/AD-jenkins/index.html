<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title> æŒç»­é›†æˆç³»åˆ— - CI + Jenkinsçš„é­”æ³•ä¸–ç•Œ</title>
    <meta name="description" content="  CI åŸºç¡€çŸ¥è¯†          æŒç»­é›†æˆ(Continuous Integration)      æŒç»­éƒ¨ç½²(Continuous Deployment)        æœ€è¿‘ä¸€ç›´åœ¨å…³æ³¨ç§»åŠ¨ç«¯çš„æŒç»­é›†æˆéƒ¨ç½²ç›¸å…³çš„å†…å®¹,åœ¨ç½‘æœ Jenkins èµ„æ–™æ˜¯å¾ˆå¤š,ä½†æ˜¯åŸºæœ¬éƒ½ä¸æ˜¯ç§»åŠ¨ç«¯çš„é›†æˆéƒ¨ç½².ä¸‹è¾¹å°†ä¸ªäººçš„ä½¿ç”¨ä½“ä¼šåˆ†äº«...">

    <link rel="shortcut icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="stylesheet" href="/css/fontawesome/css/font-awesome.min.css ">
    <link rel="stylesheet" href="/css/main.css ">
    <link rel="canonical" href="http://localhost:4000/2017/02/08/AD-jenkins/">
    <link rel="alternate" type="application/rss+xml" title="3è¡Œä»£ç " href="http://localhost:4000/feed.xml ">


<script>
    // ç™¾åº¦ç»Ÿè®¡ä»£ç 
    var _hmt = _hmt || [];
    (function() {
     var hm = document.createElement("script");
     hm.src = "//hm.baidu.com/hm.js?d9432112fb859bf7276f8399641fb0c5";
     var s = document.getElementsByTagName("script")[0];
     s.parentNode.insertBefore(hm, s);
     })();
    </script>




    <script>
    // google analytics
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-85978943-1', 'auto');
      ga('send', 'pageview');

    </script>

</head>


  <body>

    <header id="top">
    <div class="wrapper">
        <a href="/" class="brand">3è¡Œä»£ç </a>
        <small>æŠ€æœ¯åšå®¢</small>
        <button id="headerMenu" class="menu"><i class="fa fa-bars"></i></button>
        <nav id="headerNav">
            <ul>
                
                <li>
                    
                    <a href="/">
                    
                        <i class="fa fa-home"></i>Home
                    </a>
                </li>


                
                    
                    <li>
                        
                        <a href="/archive/">
                        
                            <i class="fa fa-archive"></i>Archives
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/category/">
                        
                            <i class="fa fa-th-list"></i>Categories
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/tag/">
                        
                            <i class="fa fa-tags"></i>Tags
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/collection/">
                        
                            <i class="fa fa-bookmark"></i>Collections
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/about/">
                        
                            <i class="fa fa-heart"></i>About
                        </a>
                    </li>
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </ul>
        </nav>
    </div>
</header>


        <div class="page clearfix" post>
    <div class="left">
        <h1> æŒç»­é›†æˆç³»åˆ— - CI + Jenkinsçš„é­”æ³•ä¸–ç•Œ</h1>
        <div class="label">

            <div class="label-card">
                <i class="fa fa-calendar"></i>2017-02-08
            </div>

            <div class="label-card">
                <i class="fa fa-user"></i>3è¡Œä»£ç 
                
            </div>

            <div class="label-card">
                
            </div>

            <div class="label-card">
            


<!-- <span class="point">â€¢</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#CI" title="Category: CI" rel="category">CI</a>
    
  

  <!-- <span class="point">â€¢</span> -->
</span>


            </div>

            <div class="label-card">
            
<!-- <span class="point">â€¢</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <!--a href="/tag/#fastlane" title="Tag: fastlane" rel="tag">fastlane</a-->
        <a href="/tag/#fastlane" title="Tag: fastlane" rel="tag">fastlane</a>&nbsp;
    
        <!--a href="/tag/#CI" title="Tag: CI" rel="tag">CI</a-->
        <a href="/tag/#CI" title="Tag: CI" rel="tag">CI</a>
    
  

</span>

            </div>

        </div>
        <hr>
        <article itemscope itemtype="http://schema.org/BlogPosting">
        <ul id="markdown-toc">
  <li><a href="#ci-" id="markdown-toc-ci-">CI åŸºç¡€çŸ¥è¯†</a>    <ul>
      <li><a href="#continuous-integration" id="markdown-toc-continuous-integration">æŒç»­é›†æˆ(Continuous Integration)</a></li>
      <li><a href="#continuous-deployment" id="markdown-toc-continuous-deployment">æŒç»­éƒ¨ç½²(Continuous Deployment)</a></li>
      <li><a href="#xcode---xcodebuild" id="markdown-toc-xcode---xcodebuild">1.  Xcode å‘½ä»¤è¡Œå·¥å…· : xcodebuild</a></li>
      <li><a href="#project-" id="markdown-toc-project-">2. project é¡¹ç›®çš„å‘½ä»¤è¡Œç¼–è¯‘:</a></li>
      <li><a href="#cocoapods-" id="markdown-toc-cocoapods-">3.CocoaPods é¡¹ç›®</a></li>
      <li><a href="#xctool" id="markdown-toc-xctool">4.Xctool</a></li>
    </ul>
  </li>
  <li><a href="#jenkins-" id="markdown-toc-jenkins-">Jenkins ç®€ä»‹</a></li>
  <li><a href="#jenkins" id="markdown-toc-jenkins">å®‰è£… Jenkins</a>    <ul>
      <li><a href="#section" id="markdown-toc-section">1. å®‰è£…</a></li>
      <li><a href="#section-1" id="markdown-toc-section-1">2. å¯åŠ¨</a></li>
      <li><a href="#section-2" id="markdown-toc-section-2">3. è®¿é—®æ–¹å¼</a></li>
      <li><a href="#section-3" id="markdown-toc-section-3">4. ä¿®æ”¹ç«¯å£</a></li>
      <li><a href="#section-4" id="markdown-toc-section-4">5. ç”¨æˆ·è®¾ç½®</a></li>
      <li><a href="#section-5" id="markdown-toc-section-5">6.ç³»ç»Ÿè®¾ç½®</a></li>
      <li><a href="#section-6" id="markdown-toc-section-6">7. è®¤è¯é…ç½®</a></li>
    </ul>
  </li>
  <li><a href="#section-7" id="markdown-toc-section-7">é¡¹ç›®é€šç”¨é…ç½®</a>    <ul>
      <li><a href="#section-8" id="markdown-toc-section-8">é¡¹ç›®ç¼–è¯‘å‚æ•°</a></li>
      <li><a href="#section-9" id="markdown-toc-section-9">é¡¹ç›®æ„å»ºå‚æ•°</a></li>
      <li><a href="#section-10" id="markdown-toc-section-10">æ„å»ºè§¦å‘å™¨</a></li>
    </ul>
  </li>
  <li><a href="#build-when-a-change-is-pushed-to-github" id="markdown-toc-build-when-a-change-is-pushed-to-github">æ ¹æ®æäº¤è¿›è¡Œæ„å»º(Build when a change is pushed to GitHub)</a>    <ul>
      <li><a href="#jobs-" id="markdown-toc-jobs-">Jobsæ„å»ºæ–¹å¼\ç¼–è¯‘ é…ç½®</a></li>
      <li><a href="#section-11" id="markdown-toc-section-11">æ„å»ºåçš„æ“ä½œ</a></li>
      <li><a href="#github" id="markdown-toc-github">é…ç½® github</a>        <ul>
          <li><a href="#freestyle" id="markdown-toc-freestyle">åˆ›å»ºfreestyleä»»åŠ¡</a>            <ul>
              <li><a href="#githubwebhook" id="markdown-toc-githubwebhook">é…ç½®Githubä»“åº“çš„Webhook</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li><a href="#gitlab" id="markdown-toc-gitlab">é…ç½® GitLab</a>        <ul>
          <li><a href="#section-12" id="markdown-toc-section-12">1. å®‰è£…æ’ä»¶</a></li>
          <li><a href="#api-token" id="markdown-toc-api-token">2. é…ç½® API Token</a></li>
          <li><a href="#gitlab-" id="markdown-toc-gitlab-">3. é…ç½® Gitlab è´¦å·å¯†ç </a></li>
          <li><a href="#ssh" id="markdown-toc-ssh">4. é…ç½® SSH</a></li>
          <li><a href="#freestyle-1" id="markdown-toc-freestyle-1">åˆ›å»ºfreestyleä»»åŠ¡</a></li>
        </ul>
      </li>
      <li><a href="#xcode-builder" id="markdown-toc-xcode-builder">Xcode Builder</a>        <ul>
          <li><a href="#xcode-builder-" id="markdown-toc-xcode-builder-">Xcode Builder è®¾ç½®</a></li>
        </ul>
      </li>
      <li><a href="#target-" id="markdown-toc-target-">å¤š Target æ‰©å±•</a></li>
      <li><a href="#jenkins-shell-" id="markdown-toc-jenkins-shell-">Jenkins Shell è„šæœ¬</a></li>
      <li><a href="#section-13" id="markdown-toc-section-13">å…¶ä»–</a>        <ul>
          <li><a href="#firim" id="markdown-toc-firim">fir.im</a></li>
          <li><a href="#travis" id="markdown-toc-travis">Travis</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#section-14" id="markdown-toc-section-14">è‡ªåŠ¨å‘å¸ƒ</a></li>
</ul>

<blockquote>

  <p>æœ€è¿‘ä¸€ç›´åœ¨å…³æ³¨ç§»åŠ¨ç«¯çš„æŒç»­é›†æˆéƒ¨ç½²ç›¸å…³çš„å†…å®¹,åœ¨ç½‘æœ Jenkins èµ„æ–™æ˜¯å¾ˆå¤š,ä½†æ˜¯åŸºæœ¬éƒ½ä¸æ˜¯ç§»åŠ¨ç«¯çš„é›†æˆéƒ¨ç½².ä¸‹è¾¹å°†ä¸ªäººçš„ä½¿ç”¨ä½“ä¼šåˆ†äº«å‡ºæ¥,å¸Œæœ›èƒ½å¸®åŠ©åˆ°éœ€è¦çš„ä¼™ä¼´ä»¬.</p>

</blockquote>

<p><strong>åœ¨è¿›è¡Œ CI ä¹‹å‰,ä½ éœ€è¦ä¸€äº›åŸºæœ¬çš„çŸ¥è¯†</strong></p>

<h3 id="ci-">CI åŸºç¡€çŸ¥è¯†</h3>

<p>åœ¨äº’è”ç½‘çš„äº§å“å¼€å‘æ—¶ä»£,äº§å“è¿­ä»£è¶Šæ¥è¶Šé¢‘ç¹,â€œä»åŠŸèƒ½å¼€å‘å®Œæˆç›´åˆ°æˆåŠŸéƒ¨ç½²â€è¿™ä¸€é˜¶æ®µè¢«ç§°ä¸ºè½¯ä»¶å¼€å‘â€œæœ€åä¸€å…¬é‡Œâ€.å¾ˆå¤šå¼€å‘å›¢é˜Ÿä¹Ÿè¶Šæ¥è¶Šè®¤è¯†åˆ°,è‡ªåŠ¨åŒ–æµ‹è¯•å’ŒæŒç»­éƒ¨ç½²å¯å¸®åŠ©å¼€å‘å›¢é˜Ÿæé«˜è¿­ä»£æ•ˆç‡å’Œè´¨é‡.
é‚£ä¹ˆ,å¦‚ä½•æ›´å¥½åœ°è§£å†³â€œæœ€åä¸€å…¬é‡Œâ€è¿™ä¸€é—®é¢˜å‘¢?</p>

<p>å¯ä»¥åˆ†ä¸ºä¸¤éƒ¨åˆ†:æŒç»­é›†æˆå’ŒæŒç»­éƒ¨ç½²</p>
<ul>
  <li>æŒç»­é›†æˆ:æ˜¯æŒ‡æ•´ä¸ªå¼€å‘è¿‡ç¨‹,æ¯ä¸ªäººå¼€å‘çš„æ¨¡å—å‘é¡¹ç›®ä¸»ä½“äº¤ä»˜æ—¶,é¢‘ç¹è¿›è¡Œé›†æˆä»¥ä¾¿æ›´å¿«åœ°å‘ç°å…¶ä¸­çš„é”™è¯¯</li>
  <li>æŒç»­éƒ¨ç½²:æ˜¯æŒ‡å¼€å‘è¿‡ç¨‹ä¸­è¿ç»­çš„é˜¶æ®µæ€§ç‰ˆæœ¬çš„ä¸Šçº¿, V1.1.0ä¸Šçº¿éƒ¨ç½²,V1.1.1ä¸Šçº¿éƒ¨ç½²â€¦</li>
  <li>å‰è€…å’Œåè€…æ—¶é—´å°ºåº¦æ˜¯ä¸€æ ·çš„,ä¸è¿‡å‰è€…æ˜¯æ¶µç›–æ¯ä¸€æ¬¡ push ,åè€…æ˜¯æŒ‡ä¸€ä¸ªç¨³å®šçš„ç‰ˆæœ¬,å¯ä»¥å†…æµ‹å’Œå‘å¸ƒç”¨çš„</li>
  <li>å®é™…ä½¿ç”¨ä¸­,ä¸¤è€…æ˜¯ç»“åˆåœ¨ä¸€èµ·çš„,æŒç»­é›†æˆçš„å¹³å°ä¸Š,å¯ä»¥è¿›ä¸€æ­¥é…ç½®æŒç»­éƒ¨ç½²,è¿™æ ·å°±å¯ä»¥å®ç°:æ¯æ¬¡ push è‡ªåŠ¨æ„å»ºæµ‹è¯•,æ¯æ¬¡ç¨³å®šçš„ç‰ˆæœ¬,å¯ä»¥é¡ºåˆ©çš„æ„å»ºåˆ†å‘ç”¨äºå†…æµ‹.</li>
</ul>

<h5 id="continuous-integration">æŒç»­é›†æˆ(Continuous Integration)</h5>

<p>æŒç»­é›†æˆ:æ˜¯æŒ‡æ•´ä¸ªå¼€å‘è¿‡ç¨‹,ä¸ªäººå¼€å‘çš„æ¨¡å—,å‘é¡¹ç›®ä¸»ä½“äº¤ä»˜,é¢‘ç¹è¿›è¡Œé›†æˆä»¥ä¾¿æ›´å¿«åœ°å‘ç°å…¶ä¸­çš„é”™è¯¯.æ¶‰åŠåˆ°çš„å†…å®¹ä¸º:</p>

<ul>
  <li>è‡ªåŠ¨åŒ–æµ‹è¯•:å•å…ƒæµ‹è¯•+ UI æµ‹è¯•</li>
  <li>æŒç»­é›†æˆå¹³å°:Jenkins (è‡ªåŠ¨åŒ–çš„æ„å»º) \ Travis CI (åŸºäº github å¹³å°çš„CIæŒç»­é›†æˆ)ç­‰</li>
  <li>ç‰ˆæœ¬æ§åˆ¶:å¦‚ Git\SVN\CVS ç­‰</li>
  <li>éƒ¨ç½²å‘å¸ƒå·¥å…·:fastlane ç­‰</li>
  <li>éƒ¨ç½²å‘å¸ƒå¹³å°:è’²å…¬è‹±\Fir.im (ç›®å‰æ”¯æŒ Android å’Œ iOS åº”ç”¨çš„åˆ†å‘,æä¾›çš„å·¥å…·æœ‰ flow.ci)</li>
  <li>ä¸€èˆ¬æµç¨‹(Jenkins ä¸ºä¾‹):Jenkins æœåŠ¡å™¨è½®è®­ Git ,å‘ç°æ–°çš„ç‰ˆæœ¬,å°±ä¼š clone åˆ°æœ¬åœ°,å¹¶æŒ‰ç…§é¢„å…ˆè®¾å®šçš„è„šæœ¬è¿›è¡Œè‡ªåŠ¨ç¼–è¯‘,å¹¶æ‰§è¡Œæµ‹è¯•.å¦‚æœæœ‰é—®é¢˜,å°±ä¼šå‘å‡ºé‚®ä»¶é€šçŸ¥.</li>
</ul>

<h5 id="continuous-deployment">æŒç»­éƒ¨ç½²(Continuous Deployment)</h5>

<p>æŒç»­éƒ¨ç½²:æ˜¯æŒ‡å¼€å‘è¿‡ç¨‹ä¸­çš„è¿ç»­çš„é˜¶æ®µæ€§ç‰ˆæœ¬, V1.1.0ä¸Šçº¿éƒ¨ç½²,V1.1.1ä¸Šçº¿éƒ¨ç½²â€¦
åœ¨ç§»åŠ¨ç«¯ä¸»è¦æ˜¯ä½¿ç”¨ fastlane å®ç°æŒç»­éƒ¨ç½²:</p>

<ul>
  <li>å¼€å‘é¡¹ç›®,å•å…ƒæµ‹è¯•</li>
  <li>æ¨¡å—å¼€å‘,é›†æˆ\UI æµ‹è¯•</li>
  <li>Archiveé¡¹ç›®</li>
  <li>ä¸Šä¼ åŒ…åˆ°iTunes</li>
  <li>åœ¨iTunesåå°æäº¤ç‰ˆæœ¬æˆªå›¾\æè¿°ç­‰ä¿¡æ¯(ä¹Ÿå¯ä»¥åœ¨æµ‹è¯•å®Œæˆåé…ç½®)</li>
  <li>é…ç½®TestFlight,åˆ†å‘æµ‹è¯•Betaç‰ˆ</li>
  <li>æµ‹è¯•,æ”¹ bug</li>
  <li>æµ‹è¯•å®Œæˆ,æäº¤App Storeå®¡æ ¸</li>
</ul>

<h5 id="xcode---xcodebuild">1.  Xcode å‘½ä»¤è¡Œå·¥å…· : xcodebuild</h5>

<p>Xcode ä¸ä»…å¯ä»¥é€šè¿‡ GUI ç¼–è¯‘è¿è¡Œ,è¿˜å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œå®ç°ç¼–è¯‘è¿è¡Œ,è¿™ä¹Ÿæ˜¯ CI çš„åŸºç¡€æ¡ä»¶ä¹‹ä¸€.</p>

<p>å®˜æ–¹çš„ä½¿ç”¨æ–¹æ³•:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>xcodebuild <span class="o">[</span>-project &lt;projectname&gt;] <span class="o">[[</span>-target &lt;targetname&gt;]...|-alltargets] <span class="o">[</span>-configuration &lt;configurationname&gt;] <span class="o">[</span>-arch &lt;architecture&gt;]... <span class="o">[</span>-sdk <span class="o">[</span>&lt;sdkname&gt;|&lt;sdkpath&gt;]] <span class="o">[</span>-showBuildSettings] <span class="o">[</span>&lt;buildsetting&gt;<span class="o">=</span>&lt;value&gt;]... <span class="o">[</span>&lt;buildaction&gt;]...

...
</code></pre>
</div>

<p>å…³é”®å­—:</p>
<div class="highlighter-rouge"><pre class="highlight"><code>Options:
    -usage                              print brief usage
    -help                               print complete usage
    -verbose                            provide additional status output
    -license                            show the Xcode and SDK license agreements
    ....
</code></pre>
</div>

<p><strong>å®æˆ˜:</strong></p>
<div class="highlighter-rouge"><pre class="highlight"><code>$ cd  /Users/guoyinjinrong1/Git_Projecrt/XCTest/UITEST 
$ xcodebuild build -workspace UITEST.xcworkspace -scheme UITEST -sdk iphonesimulator ONLY_ACTIVE_ARCH=NO
</code></pre>
</div>

<h5 id="project-">2. project é¡¹ç›®çš„å‘½ä»¤è¡Œç¼–è¯‘:</h5>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="c"># åˆ—å‡º xcodebuild æ‰€æœ‰å¯ç”¨çš„å‚æ•°:</span>
<span class="gp">$ </span>xcodebuild --help
<span class="c"># project é¡¹ç›®çš„å‘½ä»¤è¡Œç¼–è¯‘:</span>
<span class="gp">$ </span>xcodebuild -project <span class="o">{</span>project<span class="o">}</span>.xcodeproj -target <span class="o">{</span>xxtarget<span class="o">}</span> -sdk iphonesimulator <span class="nv">ONLY_ACTIVE_ARCH</span><span class="o">=</span>NO
<span class="c">#</span>
</code></pre>
</div>

<p>ä½¿ç”¨ iphonesimulator SDK æ˜¯ä¸ºäº†é¿å…ç­¾åé”™è¯¯.ç›´åˆ°æˆ‘ä»¬ç¨åå¼•å…¥è¯ä¹¦ä¹‹å‰,è¿™ä¸€æ­¥æ˜¯å¿…é¡»çš„.é€šè¿‡è®¾ç½® ONLY_ACTIVE_ARCH=NO æˆ‘ä»¬å¯ä»¥ç¡®ä¿åˆ©ç”¨æ¨¡æ‹Ÿå™¨æ¶æ„ç¼–è¯‘å·¥ç¨‹.ä½ ä¹Ÿå¯ä»¥è®¾ç½®é¢å¤–çš„å±æ€§,ä¾‹å¦‚ configuration,è¾“å…¥ man xcodebuild æŸ¥çœ‹ç›¸å…³æ–‡æ¡£.</p>

<h5 id="cocoapods-">3.CocoaPods é¡¹ç›®</h5>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="c"># éœ€è¦ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥æŒ‡å®š workspace å’Œ schemeï¼š</span>
<span class="gp">$ </span>xcodebuild -workspace <span class="o">{</span>workspace<span class="o">}</span>.xcworkspace -scheme <span class="o">{</span>scheme<span class="o">}</span> -sdk iphonesimulator <span class="nv">ONLY_ACTIVE_ARCH</span><span class="o">=</span>NO
</code></pre>
</div>

<p>schemes æ˜¯ç”± Xcode è‡ªåŠ¨ç”Ÿæˆçš„,ä½†è¿™åœ¨æœåŠ¡å™¨ä¸Šä¸ä¼šå‘ç”Ÿ.ç¡®ä¿æ‰€æœ‰çš„ scheme éƒ½è¢«è®¾ä¸º shared å¹¶åŠ å…¥åˆ°ä»“åº“ä¸­.å¦åˆ™å®ƒåªä¼šåœ¨æœ¬åœ°å·¥ä½œè€Œä¸ä¼šè¢«  CI ç³»ç»Ÿè¯†åˆ«</p>

<h5 id="xctool">4.Xctool</h5>

<p>Xctool æ˜¯æ¥è‡ª Facebook çš„å‘½ä»¤è¡Œå·¥å…·,å®ƒå¯ä»¥ç®€åŒ–ç¨‹åºçš„ç¼–è¯‘å’Œæµ‹è¯•.å®ƒçš„å½©è‰²è¾“å‡ºä¿¡æ¯æ¯” xcodebuild æ›´åŠ ç®€æ´ç›´è§‚.åŒæ—¶è¿˜æ·»åŠ äº†å¯¹é€»è¾‘æµ‹è¯•,åº”ç”¨æµ‹è¯•çš„æ”¯æŒ.(Travis ä¸­å·²ç»é¢„è£…äº† xctool.è¦åœ¨æœ¬åœ°æµ‹è¯•çš„è¯,éœ€è¦ç”¨ Homebrew å®‰è£… xctool)</p>

<p>xctool ç”¨æ³•éå¸¸ç®€å•,å®ƒä½¿ç”¨çš„å‚æ•°è·Ÿ xcodebuild ç›¸åŒ:</p>
<div class="language-shell highlighter-rouge"><pre class="highlight"><code>xctool <span class="nb">test</span> -workspace TravisExample.xcworkspace -scheme TravisExampleTests -sdk iphonesimulator <span class="nv">ONLY_ACTIVE_ARCH</span><span class="o">=</span>NO
</code></pre>
</div>

<h3 id="jenkins-">Jenkins ç®€ä»‹</h3>

<p>1.ç®€ä»‹:</p>

<ul>
  <li>Jenkins ç”±ä»¥å‰çš„ hudson æ›´åè€Œæ¥</li>
  <li>Jenkins æ˜¯ä¸€ä¸ªè·¨å¹³å°çš„å¼€æºè½¯ä»¶é¡¹ç›®,æ—¨åœ¨å®ç°æŒç»­é›†æˆå’ŒæŒç»­äº¤ä»˜ä»¥æé«˜å·¥ä½œæ•ˆç‡</li>
  <li>Jenkins çš„ä¸»è¦åŠŸèƒ½æ˜¯ç›‘è§†é‡å¤å·¥ä½œçš„æ‰§è¡Œ,ä¾‹å¦‚é¡¹ç›®çš„æ„å»ºç­‰</li>
  <li>æœ€ç»ˆéƒ½æ˜¯ä¸ºäº†æé«˜è½¯ä»¶å¼€å‘çš„æ•ˆç‡</li>
</ul>

<p>2.ç‰¹ç‚¹:</p>

<ul>
  <li>æ˜“äºå®‰è£…:ä¸€ä¸ªå‘½ä»¤å°±å¯å¯åŠ¨,ä¹Ÿæ–¹ä¾¿éƒ¨ç½²åˆ°å„ç§Webå®¹å™¨ä¸­ï¼ˆå¦‚tomcat)</li>
  <li>æ˜“äºé…ç½®:æ‰€æœ‰çš„é…ç½®éƒ½åœ¨Webç•Œé¢å®ç°,æƒé™æ§åˆ¶å¾—ä¹Ÿä¸é”™</li>
  <li>æ’ä»¶æ”¯æŒ:åŸºæœ¬ä¸Šæ‰€æœ‰çš„æ‰©å±•éƒ½æ˜¯æœ‰æ’ä»¶å®Œæˆçš„,å¼€å‘æ’ä»¶ä¹Ÿå¾ˆæ–¹ä¾¿,ç”±æ­¤äº§ç”Ÿäº†åºå¤§çš„ç¤¾åŒº</li>
  <li>æ”¯æŒåˆ†å¸ƒå¼æ„å»º:Jenkinsèƒ½å¤Ÿè®©é€šè¿‡ä¸»ä»æ¨¡å¼ï¼ˆmaster/slaveï¼‰å¤šå°æœºå™¨ä¸€èµ·æ„å»º</li>
  <li>é‡‡ç”¨ shell è‡ªå®šä¹‰è„šæœ¬,æ§åˆ¶é›†æˆéƒ¨ç½²ç¯å¢ƒæ›´åŠ æ–¹ä¾¿çµæ´»</li>
  <li>æ„å»ºå¤±è´¥å‘é‚®ä»¶é€šçŸ¥ç›¸å…³äººå‘˜è§£å†³</li>
  <li>è‡ªåŠ¨æŒ‰å¤©å¤‡ä»½ war åŒ…,Jenkins é…ç½®å¤‡ä»½ä»¥åŠç‰ˆæœ¬æ§åˆ¶åŒ–</li>
</ul>

<p>3.å…¬å¸çš„é…ç½®æµç¨‹:</p>

<p>1\JenkinsæœåŠ¡å™¨ä¸€èˆ¬å…ˆæ¶è®¾åœ¨ä¸€å°æœåŠ¡å™¨ä¸Š,æœ‰é…ç½®ç®¡ç†äººå‘˜ç®¡ç†
2\äº§å“æœ‰æ„å»ºéœ€æ±‚å,é…ç½®ç®¡ç†äººå‘˜å°±æ–°å»ºä¸€ä¸ªä»»åŠ¡,é…å¥½æºç ä»“åº“,è®¾ç½®æ„å»ºæ—¶é—´,æŒ‡å®šè¿è¡Œè„šæœ¬æ¥ç¼–è¯‘æµ‹è¯•äº§å“,å¹¶ä¸”è®¾ç½®æŠ¥å‘Šè¾“å‡º</p>

<p>4.å¼Šç«¯:</p>

<ul>
  <li>å¤šå¹³å°æˆ–ä¾èµ–çš„åŒ…:
å¦‚æœä½ çš„è½¯ä»¶æƒ³åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿè½¯ä»¶æ„å»ºå¹¶éªŒâ€‹â€‹è¯,è¿™å°†æ˜¯ç›¸å½“æœ‰éš¾åº¦å’ŒæŠ€å·§æ€§,ä¸€èˆ¬æ˜¯å‡†å¤‡ä¸åŒçš„æ“ä½œç³»ç»Ÿçš„æœºå™¨,ç„¶åä½¿ç”¨ä¸»/ä»æ¨¡å¼è¿›è¡Œåˆ†å¸ƒå¼æ„å»º.åœ¨C++ä¸­ä½ å¯ä»¥ä½¿ç”¨æœ‰å…³çš„äº¤å‰ç¼–è¯‘å™¨;å½“ç„¶ä½ å¯æœ‰ä½¿ç”¨è™šæ‹Ÿæœºçš„æŠ€æœ¯<a href="http://larrycai.github.com/2011/10/25/vagrant-jenkins-ci.html">vagrant/virtualbox</a></li>
  <li>é…ç½®ç®¡ç†äººå‘˜çš„å·¥ä½œ:
ä¸€èˆ¬æ¥è¯´Jenkinsçš„æ„å»ºä»»åŠ¡,å®ƒæ˜¯é›†ä¸­æ§åˆ¶çš„.å¤§å¤šæ¥è¯´éƒ½æ˜¯æœ‰ä¸“èŒçš„é…ç½®ç®¡ç†äººå‘˜æ¥ç®¡ç†,å¦è€…æƒé™ä¼šæ··ä¹±.
å½“æœ‰éœ€æ±‚æ—¶,ä»–ä»¬è´Ÿè´£åœ¨CIæœåŠ¡å™¨åˆ›å»ºä»»åŠ¡ï¼ˆè¿™äº›é…ç½®æ–‡ä»¶ä¸æ˜¯æœ‰ç‰ˆæœ¬æ§åˆ¶çš„ï¼‰,è¿™ä¸ªå°±æ¶‰åŠåˆ°äº†æ²Ÿé€šæˆæœ¬,ä½ æœ‰å˜åŒ–éœ€æ±‚,å¾ˆéš¾åŠæ—¶æ»¡è¶³.</li>
</ul>

<p>ä½œä¸ºå¼€å‘è€…,è¦æƒ³éšæ—¶æ„å»ºé¡¹ç›®,é‚£å°±éœ€è¦ Travis CI.</p>

<h3 id="jenkins">å®‰è£… Jenkins</h3>

<h5 id="section">1. å®‰è£…</h5>

<p>å®‰è£…æ–¹å¼ä¸€:ä¸‹è½½<a href="https://mirrors.tuna.tsinghua.edu.cn/jenkins/osx/jenkins-2.45.pkg">pkg</a>æ–‡ä»¶,ç„¶åå®‰è£…å³å¯(æ­¤å¤„æœªå¿…æ˜¯æœ€æ–°ç‰ˆ,è¯·ç§»æ­¥<a href="https://jenkins.io/">å®˜ç½‘</a>ä¸‹è½½)</p>

<p>å®‰è£…æ–¹å¼äºŒ:ç»ˆç«¯</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="c"># å®‰è£…è‡ªåŠ¨é€‰æ‹©æœ€å¿«æºçš„æ’ä»¶</span>
<span class="gp">$ </span>yum install yum-fastestmirror -y  
<span class="c"># æ·»åŠ  Jenkins æº:</span>
<span class="gp">$ </span>sudo wget -O /etc/yum.repos.d/jenkins.repo http://jenkins-ci.org/redhat/jenkins.repo
<span class="gp">$ </span>sudo rpm --import http://pkg.jenkins-ci.org/redhat/jenkins-ci.org.key
<span class="c">#å®‰è£… Jenkins</span>
<span class="gp">$ </span>yum install jenkins               
</code></pre>
</div>

<h5 id="section-1">2. å¯åŠ¨</h5>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>sudo service jenkins start
</code></pre>
</div>

<h5 id="section-2">3. è®¿é—®æ–¹å¼</h5>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>open http://localhost:8080/
</code></pre>
</div>

<h5 id="section-3">4. ä¿®æ”¹ç«¯å£</h5>

<p>ä¸ºé¿å…ç«¯å£å†²çª,å¯é‡é…ç«¯å£:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>vim /etc/sysconfig/jenkins
<span class="gp">$ </span>sudo service jenkins restart
</code></pre>
</div>

<p>æˆ–è€…è¿™æ ·ä¿®æ”¹ç«¯å£:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>sudo launchctl unload /Library/LaunchDaemons/org.jenkins-ci.plist
sudo defaults write /Library/Preferences/org.jenkins-ci httpPort 8443
sudo launchctl load /Library/LaunchDaemons/org.jenkins-ci.plist
<span class="c"># å¦‚æœæ˜¯ https:</span>
sudo defaults write /Library/Preferences/org.jenkins-ci httpPort 8443
sudo defaults write /Library/Preferences/org.jenkins-ci httpsKeyStore /path/to/your/keystore/file
sudo defaults write /Library/Preferences/org.jenkins-ci httpsKeyStorePassword &lt;keystore password&gt;
<span class="c"># å…¶ä¸­ä¸¤æ¡å‘½ä»¤åˆ†åˆ«æ˜¯å¯åŠ¨å’Œå…³é—­ Jenkins</span>
</code></pre>
</div>

<h5 id="section-4">5. ç”¨æˆ·è®¾ç½®</h5>

<ul>
  <li>
    <p>æ‰“å¼€é¡µé¢: http://localhost:8080 , æŒ‰ç…§æç¤ºä»<code class="highlighter-rouge">/Users/Shared/Jenkins/Home/secrets/initialAdminPassword</code>æ–‡ä»¶ä¸­è·å–å¯†ç ,ç„¶åè¾“å…¥å³å¯. <strong>vim æ‰“å¼€æ–‡ä»¶æˆ–è€… cat æ˜¾ç¤ºæ–‡ä»¶çš†å¯</strong></p>
  </li>
  <li>
    <p>ç„¶åè¿›å…¥æ’ä»¶è®¾ç½®é¡µé¢,å¯ä»¥é€‰æ‹© Jenkins æ¨èçš„æ’ä»¶,ä¹Ÿå¯è‡ªä¸»é€‰æ‹©éœ€è¦å®‰è£…çš„æ’ä»¶.(ä¼šæœ‰ä¸€äº›æ’ä»¶å®‰è£…å¤±è´¥,æ²¡å…³ç³»,å¯ä»¥åç»­å†å®‰è£…)</p>
  </li>
  <li>
    <p>å®‰è£…å®Œæˆä¹‹å,è¿›å…¥åˆ›å»ºç”¨æˆ·é¡µé¢,è®¾ç½®ç”¨æˆ·åå¯†ç ç­‰</p>
  </li>
  <li>
    <p>ç”¨æˆ·åˆ›å»ºå®Œæˆ,å°±å¯ä»¥å¼€å§‹åˆ›å»ºç¬¬ä¸€ä¸ª Jenkins ä»»åŠ¡å•¦!</p>
  </li>
</ul>

<p>ä¸»ç•Œé¢å¦‚ä¸‹(å·²ç»åˆ›å»ºè¿‡ä¸€ä¸ªä»»åŠ¡):</p>

<p><img src="http://img.hb.aicdn.com/0b2dc9f4695effe8bd26d856957165a040f4c3c310b35-pnIrgy_fw658" alt="" /></p>

<h5 id="section-5">6.ç³»ç»Ÿè®¾ç½®</h5>

<ol>
  <li>ç¼–ç è®¾ç½®:</li>
</ol>

<blockquote>
  <p>è¿›å…¥ ç³»ç»Ÿç®¡ç†-&gt;ç³»ç»Ÿè®¾ç½® ç•Œé¢ï¼š</p>
</blockquote>

<p>é¦–å…ˆè®¾ç½®ä¸€ä¸‹ jenkins å†…éƒ¨shell æ‰§è¡Œç¼–ç ï¼Œç›®çš„å½“åœ¨jenkinsæ‰§è¡Œshellå‘½ä»¤æ—¶ï¼Œæœ‰æ—¶å€™ä¼šæŠ¥ utf-8 ç¼–ç é”™è¯¯ã€‚ä¸»è¦æ˜¯pod installçš„æ—¶å€™æŠ¥é”™ã€‚</p>

<p>[33mWARNING: CocoaPods requires your terminal to be using UTF-8 encoding.</p>

<p>è®¾ç½®å¦‚ä¸‹ï¼š</p>

<p><img src="http://img.hb.aicdn.com/cb6bfa7ef1bc54947df56afd938f66f13617e97b220ed-hPTfFv_fw658" alt="" /></p>

<p>2.é‚®ä»¶è®¾ç½®:</p>

<p>jenkins Location è®¾ç½®
ä¸»è¦è®¾ç½® jenkins å¤–éƒ¨è®¿é—®çš„ URL å’Œç³»ç»Ÿç®¡ç†å‘˜çš„é‚®ç®±åœ°å€.ç”¨æ¥å‘é€é”™è¯¯æŠ¥å‘Šçš„é‚®ç®±åœ°å€ï¼šå¦‚å›¾
<img src="http://7xsugd.com2.z0.glb.clouddn.com/runningyoungBlog/images/location.png" alt="" /></p>

<p>ä¸Šé¢åªè®¾ç½®äº†é‚®ç®±å‘é€çš„åœ°å€ï¼ˆFromåœ°å€ï¼‰,ä¸‹é¢è®¾ç½®é‚®ç®±çš„æœåŠ¡å™¨\åè®®\é‚®ç®±\å¯†ç .å¦‚å›¾:</p>

<p><img src="http://7xsugd.com2.z0.glb.clouddn.com/runningyoungBlog/images/email.png" alt="" /></p>

<h5 id="section-6">7. è®¤è¯é…ç½®</h5>

<ul>
  <li>åŸºäº ç”¨æˆ·å+å¯†ç  : å°† Gitlab çš„ç”¨æˆ·å,å¯†ç æ·»åŠ è¿›æ¥.å°±å¯ä»¥é€šè¿‡æ­¤è®¤è¯,æ¥è®¿é—® Git çš„é¡¹ç›®åº“</li>
  <li></li>
  <li>åŸºäº API Token : å°† GITçš„ token æ·»åŠ è¿›æ¥.</li>
</ul>

<h3 id="section-7">é¡¹ç›®é€šç”¨é…ç½®</h3>

<ul>
  <li>æ’ä»¶gitlab hook pluginï¼Œå¯ä»¥è¯†åˆ«gitlabå‘é€è¿‡æ¥çš„æäº¤ä¿¡æ¯ï¼Œå¹¶è§¦å‘å¯¹åº”çš„job</li>
  <li>Environment Injector Pluginï¼ˆè‡ªå®šä¹‰å…¨å±€å˜é‡ï¼‰</li>
  <li>Email Extension Pluginï¼ˆé‚®ä»¶ï¼‰</li>
</ul>

<p>å¯ä»¥å…ˆçœ‹çœ‹ä¸‹è¾¹çš„å®˜æ–¹æ•™ç¨‹:</p>

<p><a href="https://berlin.gitbooks.io/jenkins/content/job/pei_zhi_bian_yi_can_shu.html">å®˜æ–¹æŒ‡å— æ•™ç¨‹</a></p>

<h5 id="section-8">é¡¹ç›®ç¼–è¯‘å‚æ•°</h5>

<p>è®¾ç½® debug,testç­‰:</p>

<blockquote>
  <p>æ‰“å¼€é¡¹ç›® -&gt; é€‰æ‹©å‚æ•°åŒ–æ„å»ºè¿‡ç¨‹ -&gt; ç‚¹é€‰ Choice é…ç½®å¦‚ä¸‹</p>

  <p><img src="https://berlin.gitbooks.io/jenkins/content/pic/job/jb-02.jpg" alt="" /></p>
</blockquote>

<h5 id="section-9">é¡¹ç›®æ„å»ºå‚æ•°</h5>

<p>è®¾ç½®æ„å»ºå‚æ•°:</p>

<blockquote>
  <p>æ‰“å¼€é¡¹ç›® -&gt; Build with Parameters -&gt; é…ç½®å¦‚ä¸‹</p>

  <p><img src="https://berlin.gitbooks.io/jenkins/content/pic/job/jb-03.jpg" alt="" /></p>
</blockquote>

<h5 id="section-10">æ„å»ºè§¦å‘å™¨</h5>

<blockquote>
  <p>é€šå¸¸æ‰‹åŠ¨æ„å»ºjobä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œæˆ‘ä»¬æƒ³è¦è®©å…¶è‡ªåŠ¨æ„å»ºï¼Œè¿™å°±éœ€è¦è¾¾åˆ°ä¸€å®šæ¡ä»¶è¿›è¡Œè§¦å‘æ„å»ºï¼Œæ‰€æœ‰å°±æœ‰äº†è§¦å‘å™¨
è¯¦ç»†çš„é…ç½®,å‚è€ƒ<a href="https://berlin.gitbooks.io/jenkins/content/job/gou_jian_de_hong_fa_qi.html">å®˜æ–¹æ–‡æ¡£</a></p>
</blockquote>

<p>Jenkins æ”¯æŒå¤šç§è§¦å‘å™¨é…ç½®,åŒ…æ‹¬ï¼š</p>

<ul>
  <li></li>
  <li>å®šæœŸæ£€æµ‹ä»£ç æ›´æ–°ï¼Œå¦‚æœ‰æ›´æ–°åˆ™è¿›è¡Œæ„å»ºï¼ˆPoll SCMï¼‰ (éš”ä¸€æ®µæ—¶é—´æ¯”è¾ƒä¸€æ¬¡æºä»£ç å¦‚æœå‘ç”Ÿå˜æ›´ï¼Œé‚£ä¹ˆå°±buildã€‚å¦åˆ™ï¼Œä¸è¿›è¡Œbuild)</li>
  <li></li>
  <li>
    <h2 id="build-when-a-change-is-pushed-to-github">æ ¹æ®æäº¤è¿›è¡Œæ„å»º(Build when a change is pushed to GitHub)</h2>
  </li>
  <li>è§¦å‘è¿œç¨‹æ„å»º(ä¾‹å¦‚å’Œgitlabçš„webhooksè”åŠ¨)(å½“ä¸€æœ‰å¯¹ä»£ç pushçš„æƒ…å†µä¸‹ï¼Œå°±æ‰§è¡Œæ„å»º)</li>
</ul>

<p>è¿™é‡Œä»¥ Gitlab ä¸ºä¾‹: æœ‰ä¸¤ç§æ–¹æ³•,è¿™é‡Œä»‹ç»ç®€å•çš„ä¸€ç§,å¤æ‚çš„è¯·çœ‹<a href="https://berlin.gitbooks.io/jenkins/content/job/gou_jian_de_hong_fa_qi.html">å®˜æ–¹</a></p>

<blockquote>
  <p>1.é€šè¿‡gitlabçš„webhookä¸jenkinsè”åŠ¨è‡ªåŠ¨è§¦å‘:éœ€è¦ jenkinsä¸Šå®‰è£…Gitlab Hook Pluginæ’ä»¶.</p>

  <p>2.å‹¾é€‰:Build when a change is pushed to GitLab. GitLab CI Service URL: http://localhost:8080/project/CI%20GitLab  å¹¶ä¿å­˜åè¾¹çš„ URL, è¿™ç”¨äºåœ¨ gitlab ä¸­çš„ webhook.</p>

  <p>ä¿å­˜ä»¥ä¸Šè®¾ç½®,ç„¶å:</p>

  <p>3.è¿›å…¥ gitlab -&gt; é¡¹ç›® -&gt; ç‚¹å‡»å·¦ä¾§çš„è®¾ç½® -&gt; webhook -&gt; ç²˜è´´åˆšæ‰çš„ URL, ä¿å­˜,å¹¶ç‚¹å‡» TEST HOOKâ€¦ å¦‚æœ ä¸€åˆ‡ OK, é¡µé¢å¾ˆå¿«ä¼šæç¤º:HOOK SUCCESSFUL.</p>

  <p>4.æœ‰é—®é¢˜,å‚è§<a href="https://berlin.gitbooks.io/jenkins/content/job/gou_jian_de_hong_fa_qi.html">å®˜æ–¹</a></p>

  <p><img src="https://berlin.gitbooks.io/jenkins/content/pic/job/jb-18.jpg" alt="" /></p>

</blockquote>

<ul>
  <li>å®šæœŸè¿›è¡Œæ„å»ºï¼ˆBuild periodicallyï¼‰ï¼Œ(éš”ä¸€æ®µæ—¶é—´buildä¸€æ¬¡ï¼Œä¸ç®¡ç‰ˆæœ¬åº“ä»£ç æ˜¯å¦å‘ç”Ÿå˜åŒ–ï¼Œé€šå¸¸ä¸ä¼šé‡‡ç”¨æ­¤ç§æ–¹å¼),è¯­æ³•å¦‚ä¸‹:
    <div class="highlighter-rouge"><pre class="highlight"><code>H(25-30) 18 1-5ï¼š å·¥ä½œæ—¥ä¸‹åˆ6ç‚¹25åˆ°30åˆ†ä¹‹é—´è¿›è¡Œbuild
H 23 1-5ï¼šå·¥ä½œæ—¥æ¯æ™š23:00è‡³23:59ä¹‹é—´çš„æŸä¸€æ—¶åˆ»è¿›è¡Œbuild
H(0-29)/15ï¼šå‰åŠå°æ—¶å†…æ¯éš”15åˆ†é’Ÿè¿›è¡Œbuildï¼ˆå¼€å§‹æ—¶é—´ä¸ç¡®å®šï¼‰ 
H/20ï¼šæ¯éš”20åˆ†é’Ÿè¿›è¡Œbuildï¼ˆå¼€å§‹æ—¶é—´ä¸ç¡®å®šï¼‰
</code></pre>
    </div>
  </li>
</ul>

<h6 id="jobs-">Jobsæ„å»ºæ–¹å¼\ç¼–è¯‘ é…ç½®</h6>

<p>Jenkinsæ”¯æŒå¤šç§ç¼–è¯‘é…ç½®æ–¹å¼,åŒ…æ‹¬ï¼š</p>

<ul>
  <li>Xcode: iOSç¼–è¯‘é…ç½®ï¼ˆå®‰è£…Xcode integrationæ’ä»¶ï¼‰</li>
  <li>Invoke Gradle scriptï¼š Androidç¼–è¯‘é…ç½®(å®‰è£…Gradle pluginæ’ä»¶)</li>
  <li>Exceute Shellï¼š è„šæœ¬æ–¹å¼</li>
</ul>

<p>å¯¹äºiOSåº”ç”¨çš„æ„å»º,å¦‚æœé€‰æ‹©Xcodeæ–¹å¼æ„å»º,éœ€è¦é…ç½®å¥½å¼€å‘è€…è¯ä¹¦. æ¨èä½¿ç”¨Exceute Shellæ–¹å¼,ç®€å•æœ‰æ•ˆã€‚</p>

<h5 id="section-11">æ„å»ºåçš„æ“ä½œ</h5>

<ul>
  <li>å‘åˆ†æ”¯pushåè‡ªåŠ¨è§¦å‘jenkins job,ä¸Šè¾¹å·²ç»æ˜¯å®ç°</li>
  <li>jenkins job æˆåŠŸæ‰§è¡Œåä¸ºå½“å‰çš„commitæ·»åŠ ä¸€ä¸ªæ ‡ç­¾ï¼Œæ–¹ä¾¿ä»¥åè¿›è¡Œçº¿ä¸Šå›æ»š</li>
  <li>å¦‚æœç¼–è¯‘å¤±è´¥ï¼Œå°±å‘é‚®ä»¶ç»™å¼€å‘äººå‘˜,å¦‚æœç¼–è¯‘æˆåŠŸï¼Œå°±å‘é‚®ä»¶ç»™æµ‹è¯•äººå‘˜</li>
</ul>

<p>Artifactså’Œé‚®ä»¶é€šçŸ¥é…ç½®ç­‰,<a href="https://gold.xitu.io/entry/5792b7320a2b580061ab0e27">å‚è€ƒ</a></p>

<h3 id="github">é…ç½® github</h3>

<p>ä¹‹æ‰€ä»¥è¦é…ç½®,æ˜¯å› ä¸º Jenkins é»˜è®¤ä¸æ”¯æŒ GitHub,éœ€è¦è‡ªè¡Œé…ç½®(é»˜è®¤æ”¯æŒ CVS\Subversion)</p>

<ul>
  <li>1.åœ¨ GitHub ä¸­,é…ç½® token (ä¿å­˜æ­¤ token ç´§æ¥ç€å°±è¦ç”¨)</li>
</ul>

<blockquote>
  <p>æµç¨‹: github â€“&gt; setting â€“&gt; Personal Access Token â€“&gt; Generate new token</p>
</blockquote>

<p>è¯¦ç»†é…ç½®å¦‚ä¸‹å›¾:</p>

<p><img src="http://img.hb.aicdn.com/df55935992514b80c0672f2d3ae55ce4f726f4731bdfe-eVrSec_fw658" alt="" /></p>

<ul>
  <li>2.å®‰è£… GitHub Plugin</li>
</ul>

<p>å¦‚æœæ­¤å‰å·²ç»æ²¡å®‰è£…è¿‡</p>
<blockquote>
  <p>æµç¨‹:ç³»ç»Ÿç®¡ç†â€“&gt;æ’ä»¶ç®¡ç†â€“&gt;å¯é€‰æ’ä»¶â€“&gt;ç›´æ¥å®‰è£… GitHub Plugin</p>

  <p>Jenkinsä¼šè‡ªåŠ¨å¸®ä½ å®‰è£…plain-credentials ã€git ã€ credentials ã€ github-api</p>
</blockquote>

<ul>
  <li>3.é…ç½® GitHub Plugin</li>
</ul>

<blockquote>
  <p>æµç¨‹:ç³»ç»Ÿç®¡ç† â€“&gt; ç³»ç»Ÿè®¾ç½® â€“&gt; GitHub â€“&gt; Add GitHub Sever</p>

  <p>Add GitHub Sever é¡µé¢ Kind é€‰æ‹© Secrect text,Secret è´´å…¥ä¸Šæ–‡ GitHub ä¸­é…ç½®çš„ Token,ID å¯ç©ºç™½,å¹¶åŠ ä¸Šç®€å•æè¿°å³å¯.</p>
</blockquote>

<p><img src="http://img.hb.aicdn.com/52b78661c0326778df8ea624bb680b59aa11c884106ee-Gos8u3_fw658" alt="" /></p>

<p>ä»¥ä¸Šå°±å®Œæˆäº† GitHub çš„é…ç½®.</p>

<h4 id="freestyle">åˆ›å»ºfreestyleä»»åŠ¡</h4>

<p>ä¸»ç•Œé¢ â€“&gt; ç‚¹å‡»æ–°å»º â€“&gt; è¾“å…¥ä»»åŠ¡åç§°,å¹¶é€‰æ‹©ä»»åŠ¡ç±»å‹,ç„¶åç¡®å®š</p>

<p><img src="http://img.hb.aicdn.com/c51fae690f1e3d46ae3b63c432fd275add8808b524354-J7rfU3_fw658" alt="" /></p>

<ul>
  <li>1.åŸºæœ¬ä¿¡æ¯:å¡«å…¥ GitHub é¡¹ç›®ä¸»é¡µ</li>
</ul>

<p><img src="http://img.hb.aicdn.com/0503e68febf932d309025bba65434d9507d223cde4ae-ECKWwr_fw658" alt="" /></p>

<ul>
  <li>2.é¡¹ç›®æºç ç®¡ç†:</li>
</ul>

<blockquote>
  <p>å¡«å…¥é¡¹ç›®çš„ git åœ°å€â€“&gt;ç‚¹å‡» Add æ·»åŠ  git è´¦æˆ·,ä»¥ä¾¿è¯»å†™è¯¥é¡¹ç›®â€“&gt;Branches to build ç”¨äºç›‘å¬åˆ†æ”¯,**è¡¨ç¤ºç›‘å¬å…¨éƒ¨åˆ†æ”¯â€“&gt;Local subdirectory for repo è¡¨ç¤ºé¡¹ç›®ç›¸å¯¹äºé»˜è®¤è·¯å¾„çš„ä¿å­˜è·¯å¾„,ä¹‹åéƒ½ä¼šåœ¨æ­¤è·¯å¾„è¿›è¡Œæ„å»ºæ‰§è¡Œ.</p>
</blockquote>

<p><img src="http://img.hb.aicdn.com/969a90bcc1d7d12c26164dd7f7ef11b1048a24a3e321-l92EFL_fw658" alt="" /></p>

<ul>
  <li>3.æ„å»ºè§¦å‘å™¨/æ„å»ºç¯å¢ƒ:</li>
</ul>

<blockquote>
  <p>GitHub hook trigger for GITScm polling é€‰é¡¹:å½“ GitHub æœ‰ç‰ˆæœ¬åº“æ›´æ–°æ—¶è§¦å‘ Jenkins è¿›è¡Œæ„å»º
Poll SCM é€‰é¡¹:å®šæœŸæ£€æŸ¥ç‰ˆæœ¬åº“æ˜¯å¦æœ‰æ›´æ–°(ä½¿ç”¨Scheduleè¯­æ³•)</p>
</blockquote>

<p><img src="http://img.hb.aicdn.com/cd592746112fbda093692f630b3b6c8c8e260d4134bac-9nqLy0_fw658" alt="" /></p>

<ul>
  <li>4.æ„å»º</li>
</ul>

<p><img src="http://img.hb.aicdn.com/e0ce275c67b89629017b4a706b2b6cc6b283ed5660c6-0fzKor_fw658" alt="" /></p>

<p>è¿™é‡ŒæŒ‡å®šè„šæœ¬</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="c">#!/usr/bin/env zsh --login</span>

rvm use 2.0.0
ruby --version
bundle
bundle --version
bin/pod
/usr/bin/xcodebuild -scheme <span class="s1">'UITEST'</span> -workspace UITEST.xcworkspace -destination <span class="s2">"platform=iOS Simulator,name=iPhone Retina (4-inch),OS=latest"</span> -configuration Debug clean build <span class="nb">test </span><span class="nv">ONLY_ACTIVE_ARCH</span><span class="o">=</span>NO
</code></pre>
</div>
<ul>
  <li>5\ æ„å»ºåçš„æ“ä½œ
Jenkinsé»˜è®¤åªèƒ½æ„å»ºå‰æ‰§è¡Œshell,ä¸èƒ½æ„å»ºåæ‰§è¡Œshell.å½“æœ‰è¯¥éœ€æ±‚æ—¶ Jenkins çš„ PostBuildScript plugin æ’ä»¶å®ç°è¿™ä¸ªåŠŸèƒ½.</li>
</ul>

<p><img src="http://img.hb.aicdn.com/517fe769dfaed57c8a9e6389d940bbbe1a50bfe83a7c-3uou8P_fw658" alt="" /></p>

<p>ä»¥ä¸Šä¾¿å®Œæˆäº†ä»»åŠ¡çš„é…ç½®.</p>

<h5 id="githubwebhook">é…ç½®Githubä»“åº“çš„Webhook</h5>

<blockquote>
  <p>è¿›å…¥GitHubä¸ŠæŒ‡å®šçš„é¡¹ç›® â€“&gt; setting â€“&gt; WebHooks&amp;Services â€“&gt; add webhook â€“&gt; è¾“å…¥åˆšåˆšéƒ¨ç½²jenkinsçš„æœåŠ¡å™¨çš„IP</p>
</blockquote>

<p>è¿™æ ·,æ¯æ¬¡ push éƒ½ä¼šè§¦å‘ä¸€æ¬¡build.</p>

<p>ç„¶è€Œ,æˆ‘çš„ Jenkins æ˜¯æœ¬åœ°çš„,åœ¨ GitHub å¹¶ä¸èƒ½ç›´æ¥è®¿é—®åˆ°æˆ‘çš„ç”µè„‘,so,è®¾ç½®æ˜¯æ— æ•ˆçš„â€¦.</p>

<h3 id="gitlab">é…ç½® GitLab</h3>

<p><strong>é›†æˆç›®çš„: Gitlab æœ‰æ–°çš„æ¨é€,å°±ä¼šè§¦å‘ Jenkins æ„å»º.æ„å»ºçŠ¶æ€åé¦ˆç»™ Gitlab</strong></p>

<h5 id="section-12">1. å®‰è£…æ’ä»¶</h5>

<blockquote>
  <p><a href="https://docs.gitlab.com/ee/integration/jenkins.html">Gitlabå®˜æ–¹æ•™ç¨‹</a>
<a href="https://docs.gitlab.com/ee/integration/jenkins.html">Gitlab å®˜æ–¹æ•™ç¨‹2</a></p>
</blockquote>

<ul>
  <li>1). å®‰è£… Gitlab æ’ä»¶</li>
</ul>

<blockquote>
  <p>ç³»ç»Ÿç®¡ç† -&gt; ç®¡ç†æ’ä»¶ -&gt; å¯é€‰æ’ä»¶ :ä¸­é€‰æ‹©GitLab Plugin å’Œ Gitlab Hook Plugin è¿™ä¸¤é¡¹ï¼Œç„¶åå®‰è£….</p>
</blockquote>

<ul>
  <li>2). å®‰è£… Xcode æ’ä»¶</li>
</ul>

<blockquote>
  <p>åŒä¸Š,å®‰è£… Xcode integration</p>
</blockquote>

<ul>
  <li>3). å®‰è£…ç­¾åè¯ä¹¦ç®¡ç†æ’ä»¶
OSæ‰“åŒ…å†…æµ‹ç‰ˆæ—¶,éœ€è¦å‘å¸ƒè¯ä¹¦åŠç›¸å…³ç­¾åæ–‡ä»¶,å› æ­¤è¿™ä¸¤ä¸ªæ’ä»¶å¯¹äºç®¡ç†iOSè¯ä¹¦éå¸¸æ–¹ä¾¿.</li>
</ul>

<blockquote>
  <p>åŒä¸Š,å®‰è£… Credentials Plugin å’Œ Keychains and Provisioning Profiles Management</p>
</blockquote>

<h5 id="api-token">2. é…ç½® API Token</h5>

<blockquote>
  <ol>
    <li>
      <p>Gitlabe: Copy the private API token from [ Profile Settings -&gt; Account ]</p>
    </li>
    <li>
      <p>Jenkins: Go to [ Manage Jenkins -&gt; Configure System ] -&gt; [GitLab] ç²˜è´´ Gitlab ä¸»æœºåœ°å€,ä»¥åŠ API Token</p>
    </li>
    <li>
      <p>å¯èƒ½2æ­¥éª¤æ²¡æœ‰ API Token é€‰é¡¹,å› ä¸ºéƒ½å·²ç»é›†æˆåˆ° Credentials ä¸­äº†,æ‰€ä»¥,è¦è¿›å…¥ Credentials ä¸­,ç„¶å æ·»åŠ æ–°çš„å‡­è¯:</p>
    </li>
  </ol>

  <p>é¦–é¡µç‚¹å‡» Credentials -&gt; ç‚¹å‡» System -&gt; ç‚¹å‡»åº•éƒ¨çš„ Glopbal credentials(unrestricted) -&gt; è·³å…¥æ–°çš„é¡µé¢,ç‚¹å‡» Add Credentials -&gt; Kind é€‰æ‹© [GitLab API Token],ç„¶åç²˜è´´ä¸Šè¿°çš„ token ,è¦æ³¨æ„çš„æ˜¯, Description éœ€è¦å†™æ¸…æ¥š,ä¸ç„¶å®¹æ˜“å¼„æ··æ·†(GitHub ä¹Ÿæ·»åŠ äº† Secret text, å®¹æ˜“æ··)</p>

  <p>ä»¥ä¸Šå‰ææ˜¯æœ‰å®‰è£…æ’ä»¶:Plain Credentiles Plugin ,ä»¥åŠç›¸å…³æ’ä»¶. å¦åˆ™ä¸ä¼šæœ‰ gitlab API token è¿™ä¸ªé€‰é¡¹çš„.</p>
</blockquote>

<h5 id="gitlab-">3. é…ç½® Gitlab è´¦å·å¯†ç </h5>

<p>åœ¨ç³»ç»Ÿé…ç½®é‡Œ,æ·»åŠ  ç±»å‹: Username with password -&gt; é…ç½®è´¦å·å¯†ç å³å¯.</p>

<h5 id="ssh">4. é…ç½® SSH</h5>

<p>1.ç›´æ¥è·å–:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>ls ~/.ssh
<span class="gp">$ </span>cat id_rsa <span class="c"># æ˜¾ç¤º</span>
<span class="gp">$ </span>pbcopy &lt; ~/.ssh/id_rsa <span class="c">#å¤åˆ¶</span>
<span class="c"># ç„¶å ç²˜è´´åˆ° Jenkins ä¸­,å¹¶è¾“å…¥æœ€åˆå§‹çš„å¯†ç å³å¯.å¦‚ä¸‹å›¾</span>
</code></pre>
</div>

<p><img src="http://img.hb.aicdn.com/9756ed06006b5d816ac3e4fdc9891249fd7879f116026-K0Lsxk_fw658" alt="" /></p>

<p>2.åˆ›å»ºæ–°çš„ SSH</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>ssh-keygen -t rsa -C â€œYour emailâ€ 
<span class="c"># ç§é’¥id_rsa:æœ¬æœºæ·»åŠ ç§˜é’¥åˆ°ç§˜é’¥ç®¡ç†å™¨:</span>
<span class="gp">$ </span><span class="nb">eval</span> <span class="s2">"</span><span class="k">$(</span>ssh-agent -s<span class="k">)</span><span class="s2">"</span>
<span class="gp">$ </span>ssh-add ~/.ssh/id_rsa
<span class="c"># ç§é’¥copyæ·»åŠ è¿› Jenkinsï¼ˆprivate keyé€‰é¡¹ï¼‰</span>
<span class="gp">$ </span>pbcopy &lt; ~/.ssh/id_rsa
<span class="c"># å…¬é’¥id_rsa.pub:å¤åˆ¶id_rsa.pubé‡Œé¢çš„å…¬é’¥æ·»åŠ åˆ°Gitlabä¸Š  </span>
<span class="gp">$ </span>pbcopy &lt; ~/.ssh/id_rsa.pub

</code></pre>
</div>

<p>SSH æ·»åŠ è·¯å¾„ä¸º:</p>

<blockquote>
  <p>ç³»ç»Ÿç®¡ç† -&gt; ç³»ç»Ÿè®¾ç½® -&gt; Gitlab æ  ç‚¹å‡» Add æ·»åŠ ,æˆ–è€…ä½¿ç”¨å¦‚ä¸‹åœ°å€:</p>

  <p>http://localhost:8080/credentials/store/system/domain/_/</p>
</blockquote>

<h4 id="freestyle-1">åˆ›å»ºfreestyleä»»åŠ¡</h4>

<p>ä¸»ç•Œé¢ â€“&gt; ç‚¹å‡»æ–°å»º â€“&gt; è¾“å…¥ä»»åŠ¡åç§°,å¹¶é€‰æ‹© freestyle ä»»åŠ¡ç±»å‹,ç„¶åç¡®å®š</p>

<ul>
  <li>æºç ç®¡ç†:</li>
</ul>

<blockquote>
  <blockquote>
    <p>è¾“å…¥é¡¹ç›® git åè®®åœ°å€(git@your.gitlab.server:gitlab_group/gitlab_project.git) 
â€“&gt; è¯ä¹¦ç±»å‹é€‰æ‹©:ç›¸åº”çš„ SSH .
â€“&gt;åœ¨é«˜çº§è®¾ç½®ä¸­ï¼Œå°†åç§°è®¾ç½®ä¸ºorigin,å°†Refspecè®¾ç½®ä¸º +refs/heads/<em>:refs/remotes/origin/</em> +refs/merge-requests/<em>/head:refs/remotes/origin/merge-requests/</em></p>
  </blockquote>
</blockquote>

<ul>
  <li></li>
  <li>æ„å»ºè§¦å‘å™¨:Build when a change is pushed to GitLab. æ³¨æ„,è¿™é‡Œçš„åœ°å€,ç²˜è´´åœ¨ Gitlab ä¸Š çš„ WebHook ä¸­</li>
  <li></li>
  <li>æ›´åŠ è¯¦ç»†çš„ä»»åŠ¡é…ç½®,å‚è€ƒæ’ä»¶<a href="https://github.com/jenkinsci/gitlab-plugin#using-it-with-a-job">å®˜æ–¹æ–‡æ¡£</a></li>
</ul>

<h3 id="xcode-builder">Xcode Builder</h3>

<h6 id="xcode-builder-">Xcode Builder è®¾ç½®</h6>

<blockquote>
  <p>ç³»ç»Ÿç®¡ç†â€“&gt;ç³»ç»Ÿè®¾ç½®-&gt;Xcode Builder
é»˜è®¤ path ä¸å˜ -&gt; ç‚¹å‡» Add éœ€å¡«å†™çš„å†…å®¹ï¼š</p>

  <p><img src="http://img.blog.csdn.net/20160216141930768" alt="" /></p>
</blockquote>

<blockquote>
  <blockquote>
    <p>Keychain Nameï¼šiPhone Distribution: *ï¼ˆdisè¯ä¹¦å¸¸ç”¨åï¼‰</p>

    <p>Keychain pathï¼š${HOME}/Library/Keychains/login.keychainï¼ˆdisè¯ä¹¦è·¯å¾„ï¼‰</p>

    <p>Keychain passwordï¼š*</p>

    <p>Add to keychain search path after buildï¼šYes</p>

    <p>Default keychain:iPhone Distribution: *</p>
  </blockquote>
</blockquote>

<ul>
  <li>
    <ol>
      <li>General build settings:</li>
    </ol>
  </li>
</ul>

<blockquote>
  <p>++ å¡«å†™Target åå­—</p>

  <p>++ Clean before build? YES</p>

  <p>++ Pack application and build .ipa? YES</p>

  <p>++ .ipa filename pattern IPA è·¯å¾„:AD_Demo_${SHORT_VERSION}(å›ºå®šå†™æ³•:targetName_${SHORT_VERSION})</p>

  <p>++ Output directory IPAè¾“å‡ºä½ç½® ${WORKSPACE}/build/${BUILD_NUMBER}/</p>

</blockquote>

<ul>
  <li>2.Code signing &amp; OS X keychain options:</li>
</ul>

<p>åœ¨ç³»ç»ŸXcode Builderï¼ˆé’¥åŒ™ä¸²è®¾ç½®ï¼‰å·²é…ç½®,ä¸Šè¾¹å·²é…ç½®</p>
<ul>
  <li>3.Advanced Xcode build options:
    <blockquote>
      <p>++ â€œClean test reports?â€  YES</p>

      <p>++Build output directoryï¼š${WORKSPACE}/build/${BUILD_NUMBER}/</p>

    </blockquote>
  </li>
</ul>

<p><img src="http://img.blog.csdn.net/20160218095046760" alt="" />
<img src="http://img.blog.csdn.net/20160218095059932" alt="" />
<img src="http://img.blog.csdn.net/20160218095117084" alt="" /></p>
<ul>
  <li>
    <ol>
      <li>Versioning æ„å»ºåçš„è®¾ç½® :SHELL è„šæœ¬</li>
    </ol>
  </li>
</ul>

<p><img src="http://img.blog.csdn.net/20160218100247953" alt="" /></p>

<p>1).ç‚¹å‡»å¢åŠ  Shell è„šæœ¬:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="s2">"</span><span class="k">${</span><span class="nv">WORKSPACE</span><span class="k">}</span><span class="s2">/build/</span><span class="k">${</span><span class="nv">BUILD_NUMBER</span><span class="k">}</span><span class="s2">"</span>

<span class="k">for </span>file <span class="k">in</span> <span class="s2">"*.ipa"</span>
<span class="k">do
    </span><span class="nv">PLIST_NAME</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="nv">$file</span><span class="sb">`</span>
<span class="k">done

</span><span class="nv">PLIST_NAME</span><span class="o">=</span><span class="k">${</span><span class="nv">PLIST_NAME</span><span class="p">%.*</span><span class="k">}</span>

<span class="nb">cd</span> <span class="s2">"</span><span class="k">${</span><span class="nv">WORKSPACE</span><span class="k">}</span><span class="s2">/build"</span>
<span class="nb">echo</span> <span class="s2">"PLIST_NAME=</span><span class="nv">$PLIST_NAME</span><span class="s2">"</span> &gt; jenkinsUserGlobal.properties

cat <span class="sh">&lt;&lt; EOF &gt; ${WORKSPACE}/build/${BUILD_NUMBER}/$PLIST_NAME.plist
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;
&lt;plist version="1.0"&gt;
&lt;dict&gt;
        &lt;key&gt;items&lt;/key&gt;
        &lt;array&gt;
                &lt;dict&gt;
                        &lt;key&gt;assets&lt;/key&gt;
                        &lt;array&gt;
                                &lt;dict&gt;
                                        &lt;key&gt;kind&lt;/key&gt;
                                        &lt;string&gt;software-package&lt;/string&gt;
                                        &lt;key&gt;url&lt;/key&gt;
                                        &lt;string&gt;https://127.0.0.1/$PLIST_NAME.ipa&lt;/string&gt;
                                &lt;/dict&gt;
                        &lt;/array&gt;
                        &lt;key&gt;metadata&lt;/key&gt;
                        &lt;dict&gt;
                                &lt;key&gt;bundle-identifier&lt;/key&gt;
                                &lt;string&gt;com.3code.ADDemo&lt;/string&gt;
                                &lt;key&gt;bundle-version&lt;/key&gt;
                                &lt;string&gt;1&lt;/string&gt;
                                &lt;key&gt;kind&lt;/key&gt;
                                &lt;string&gt;software&lt;/string&gt;
                                &lt;key&gt;title&lt;/key&gt;
                                &lt;string&gt;ADDemo&lt;/string&gt;
                        &lt;/dict&gt;
                &lt;/dict&gt;
        &lt;/array&gt;
&lt;/dict&gt;
&lt;/plist&gt;
EOF
</span></code></pre>
</div>

<p>2). ç‚¹å‡»å¢åŠ  Inject environment variables</p>

<p>å¹¶è®¾ç½®:</p>
<blockquote>
  <p>éœ€å¡«å†™çš„å†…å®¹ï¼š(å°†åœ¨Execute shellä¸­ç”Ÿæˆçš„å…¨å±€å˜é‡æ–‡ä»¶åœ°å€æ”¾å…¥ Properties File Pathä¸­)
Properties File Pathï¼š${WORKSPACE}/build/jenkinsUserGlobal.properties</p>
</blockquote>

<p><img src="http://img.blog.csdn.net/20160218100610924" alt="" /></p>

<ul>
  <li>5.æ„å»ºåçš„æ“ä½œ: è®¾ç½®é‚®ä»¶</li>
</ul>

<p><img src="http://img.blog.csdn.net/20160218100726636" alt="" />
è§¦å‘å™¨ï¼šæ„å»ºæˆåŠŸã€å¤±è´¥è§¦å‘(æ‰©å±•ä¸€ä¸‹ï¼šå¤±è´¥ç‚¹â€œé«˜çº§â€è®¾ç½®åªå‘é€ç»™è‡ªå·±) 
<img src="http://img.blog.csdn.net/20160218100837965" alt="" /></p>

<blockquote>
  <p>éœ€å¡«å†™çš„å†…å®¹ï¼š</p>

  <p>Project Recipient Listï¼šé‚®ä»¶æ¥æ”¶äººï¼ˆå¤šä¸ªæ—¶ç”¨â€,â€œåˆ†å‰²ï¼‰</p>

  <p>Project Reply-To Listï¼š$DEFAULT_REPLYTO</p>

  <p>Content Typeï¼šé€‰æ‹©â€HTML(text/html)â€œ</p>

  <p>Default Subjectï¼šæ ‡é¢˜: <strong>${PROJECT_NAME}æ„å»ºé€šçŸ¥:ç¬¬${BUILD_NUMBER}æ¬¡æŒç»­é›†æˆ${PLIST_NAME}æ„å»º${BUILD_STATUS}</strong></p>

  <p>Default Content:ï¼ˆå°†ipaå…¨å±€å˜é‡ä¼ é€’åˆ°é‚®ä»¶ç”Ÿæˆä¸‹è½½é“¾æ¥å’Œé“¾æ¥äºŒç»´ç ï¼‰,å¦‚ä¸‹:</p>
</blockquote>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
<span class="nt">&lt;title&gt;</span>${ENV, var="JOB_NAME"}-ç¬¬${BUILD_NUMBER}æ¬¡æ„å»ºæ—¥å¿—<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>

<span class="nt">&lt;body</span> <span class="na">leftmargin=</span><span class="s">"8"</span> <span class="na">marginwidth=</span><span class="s">"0"</span> <span class="na">topmargin=</span><span class="s">"8"</span> <span class="na">marginheight=</span><span class="s">"4"</span>
    <span class="na">ffset=</span><span class="s">"0"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;table</span> <span class="na">width=</span><span class="s">"95%"</span> <span class="na">cellpadding=</span><span class="s">"0"</span> <span class="na">cellspacing=</span><span class="s">"0"</span>
        <span class="na">style=</span><span class="s">"font-size: 11pt; font-family: Tahoma, Arial, Helvetica, sans-serif"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;tr&gt;</span>
            <span class="nt">&lt;td&gt;&lt;h2&gt;</span>
                    <span class="nt">&lt;font</span> <span class="na">color=</span><span class="s">"#0000FF"</span><span class="nt">&gt;</span>æ„å»ºç»“æœ - ${BUILD_STATUS}<span class="nt">&lt;/font&gt;</span>
                <span class="nt">&lt;/h2&gt;&lt;/td&gt;</span>
        <span class="nt">&lt;/tr&gt;</span>
        <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;&lt;h2&gt;</span>
                    <span class="nt">&lt;font</span> <span class="na">color=</span><span class="s">"#FF0000"</span><span class="nt">&gt;</span>Appä¸‹è½½é“¾æ¥:<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"itms-services://?action=download-manifest&amp;url=https://******/${PLIST_NAME}.plist"</span><span class="nt">&gt;</span>itms-services://?action=download-manifest<span class="err">&amp;</span>url=https://127.0.0.1/${PLIST_NAME}.plist<span class="nt">&lt;/a&gt;&lt;/font&gt;</span>
                <span class="nt">&lt;/h2&gt;&lt;/td&gt;</span>
        <span class="nt">&lt;/tr&gt;</span>
        <span class="nt">&lt;tr&gt;</span>
               <span class="nt">&lt;td&gt;&lt;h2&gt;</span>
                      <span class="nt">&lt;font</span> <span class="na">color=</span><span class="s">"#FF0000"</span><span class="nt">&gt;</span>äºŒç»´ç å›¾ç‰‡:<span class="nt">&lt;/font&gt;</span>
               <span class="nt">&lt;/h2&gt;&lt;/td&gt;</span>
        <span class="nt">&lt;/tr&gt;</span>
        <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>
                    <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"http://qr.liantu.com/api.php?text=itms-services://?action=download-manifest%26url=https://******/${PLIST_NAME}.plist"</span> <span class="na">height=</span><span class="s">"300"</span> <span class="na">width=</span><span class="s">"300"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;/tr&gt;</span>
        <span class="nt">&lt;tr&gt;</span>
            <span class="nt">&lt;td&gt;&lt;br</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;b&gt;&lt;font</span> <span class="na">color=</span><span class="s">"#0B610B"</span><span class="nt">&gt;</span>æ„å»ºä¿¡æ¯<span class="nt">&lt;/font&gt;&lt;/b&gt;</span>
            <span class="nt">&lt;hr</span> <span class="na">size=</span><span class="s">"2"</span> <span class="na">width=</span><span class="s">"100%"</span> <span class="na">align=</span><span class="s">"center"</span> <span class="nt">/&gt;&lt;/td&gt;</span>
        <span class="nt">&lt;/tr&gt;</span>
        <span class="nt">&lt;tr&gt;</span>
            <span class="nt">&lt;td&gt;</span>
                <span class="nt">&lt;ul&gt;</span>
                    <span class="nt">&lt;li&gt;</span>é¡¹ç›®åç§°<span class="ni">&amp;nbsp;</span>ï¼š<span class="ni">&amp;nbsp;</span>${PROJECT_NAME}<span class="nt">&lt;/li&gt;</span>
                    <span class="nt">&lt;li&gt;</span>æ„å»ºç¼–å·<span class="ni">&amp;nbsp;</span>ï¼š<span class="ni">&amp;nbsp;</span>ç¬¬${BUILD_NUMBER}æ¬¡æ„å»º<span class="nt">&lt;/li&gt;</span>
                    <span class="nt">&lt;li&gt;</span>SVN<span class="ni">&amp;nbsp;</span>ç‰ˆæœ¬ï¼š<span class="ni">&amp;nbsp;</span>${SVN_REVISION}<span class="nt">&lt;/li&gt;</span>
                    <span class="nt">&lt;li&gt;</span>è§¦å‘åŸå› ï¼š<span class="ni">&amp;nbsp;</span>${CAUSE}<span class="nt">&lt;/li&gt;</span>
                    <span class="nt">&lt;li&gt;</span>æ„å»ºæ—¥å¿—ï¼š<span class="ni">&amp;nbsp;</span><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"${BUILD_URL}console"</span><span class="nt">&gt;</span>${BUILD_URL}console<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
                    <span class="nt">&lt;li&gt;</span>æ„å»º<span class="ni">&amp;nbsp;&amp;nbsp;</span>Url<span class="ni">&amp;nbsp;</span>ï¼š<span class="ni">&amp;nbsp;</span><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"${BUILD_URL}"</span><span class="nt">&gt;</span>${BUILD_URL}<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
                    <span class="nt">&lt;li&gt;</span>å·¥ä½œç›®å½•<span class="ni">&amp;nbsp;</span>ï¼š<span class="ni">&amp;nbsp;</span><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"${PROJECT_URL}ws"</span><span class="nt">&gt;</span>${PROJECT_URL}ws<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
                    <span class="nt">&lt;li&gt;</span>é¡¹ç›®<span class="ni">&amp;nbsp;&amp;nbsp;</span>Url<span class="ni">&amp;nbsp;</span>ï¼š<span class="ni">&amp;nbsp;</span><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"${PROJECT_URL}"</span><span class="nt">&gt;</span>${PROJECT_URL}<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
                <span class="nt">&lt;/ul&gt;</span>
            <span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;/tr&gt;</span>
        <span class="nt">&lt;tr&gt;</span>
            <span class="nt">&lt;td&gt;&lt;b&gt;&lt;font</span> <span class="na">color=</span><span class="s">"#0B610B"</span><span class="nt">&gt;</span>Changes Since Last
                        Successful Build:<span class="nt">&lt;/font&gt;&lt;/b&gt;</span>
            <span class="nt">&lt;hr</span> <span class="na">size=</span><span class="s">"2"</span> <span class="na">width=</span><span class="s">"100%"</span> <span class="na">align=</span><span class="s">"center"</span> <span class="nt">/&gt;&lt;/td&gt;</span>
        <span class="nt">&lt;/tr&gt;</span>
        <span class="nt">&lt;tr&gt;</span>
            <span class="nt">&lt;td&gt;</span>
                <span class="nt">&lt;ul&gt;</span>
                    <span class="nt">&lt;li&gt;</span>å†å²å˜æ›´è®°å½• : <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"${PROJECT_URL}changes"</span><span class="nt">&gt;</span>${PROJECT_URL}changes<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
                <span class="nt">&lt;/ul&gt;</span> ${CHANGES_SINCE_LAST_SUCCESS,reverse=true, format="Changes for Build #%n:<span class="nt">&lt;br</span> <span class="nt">/&gt;</span>%c<span class="nt">&lt;br</span> <span class="nt">/&gt;</span>",showPaths=true,changesFormat="<span class="nt">&lt;pre&gt;</span>[%a]<span class="nt">&lt;br</span> <span class="nt">/&gt;</span>%m<span class="nt">&lt;/pre&gt;</span>",pathFormat="<span class="ni">&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;</span>%p"}
            <span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;/tr&gt;</span>
        <span class="nt">&lt;tr&gt;</span>
            <span class="nt">&lt;td&gt;&lt;b&gt;</span>Failed Test Results<span class="nt">&lt;/b&gt;</span>
            <span class="nt">&lt;hr</span> <span class="na">size=</span><span class="s">"2"</span> <span class="na">width=</span><span class="s">"100%"</span> <span class="na">align=</span><span class="s">"center"</span> <span class="nt">/&gt;&lt;/td&gt;</span>
        <span class="nt">&lt;/tr&gt;</span>
        <span class="nt">&lt;tr&gt;</span>
            <span class="nt">&lt;td&gt;&lt;pre</span>
                    <span class="na">style=</span><span class="s">"font-size: 11pt; font-family: Tahoma, Arial, Helvetica, sans-serif"</span><span class="nt">&gt;</span>$FAILED_TESTS<span class="nt">&lt;/pre&gt;</span>
                <span class="nt">&lt;br</span> <span class="nt">/&gt;&lt;/td&gt;</span>
        <span class="nt">&lt;/tr&gt;</span>
        <span class="nt">&lt;tr&gt;</span>
            <span class="nt">&lt;td&gt;&lt;b&gt;&lt;font</span> <span class="na">color=</span><span class="s">"#0B610B"</span><span class="nt">&gt;</span>æ„å»ºæ—¥å¿— (æœ€å 100è¡Œ):<span class="nt">&lt;/font&gt;&lt;/b&gt;</span>
            <span class="nt">&lt;hr</span> <span class="na">size=</span><span class="s">"2"</span> <span class="na">width=</span><span class="s">"100%"</span> <span class="na">align=</span><span class="s">"center"</span> <span class="nt">/&gt;&lt;/td&gt;</span>
        <span class="nt">&lt;/tr&gt;</span>
        <span class="nt">&lt;tr&gt;</span>
            <span class="nt">&lt;td&gt;&lt;textarea</span> <span class="na">cols=</span><span class="s">"80"</span> <span class="na">rows=</span><span class="s">"30"</span> <span class="na">readonly=</span><span class="s">"readonly"</span>
                    <span class="na">style=</span><span class="s">"font-family: Courier New"</span><span class="nt">&gt;</span>${BUILD_LOG, maxLines=100}<span class="nt">&lt;/textarea&gt;</span>
            <span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;/tr&gt;</span>
    <span class="nt">&lt;/table&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<p>é‚®ä»¶æˆªå›¾</p>

<p><img src="http://img.blog.csdn.net/20160218103409264" alt="" />
<img src="http://img.blog.csdn.net/20160218103358248" alt="" /></p>

<h3 id="target-">å¤š Target æ‰©å±•</h3>

<h3 id="jenkins-shell-">Jenkins Shell è„šæœ¬</h3>

<p>åœ¨ Jenkins çš„ä»»åŠ¡é‡Œé¢,åœ¨æ„å»º\æ„å»ºå,éƒ½å¯é€‰æ‹© Execute shell ,ä½œä¸ºæ„å»ºå‰æˆ–è€…æ„å»ºåè¦æ‰§è¡Œçš„ shell è„šæœ¬.</p>

<p>python\perl\ruby ç­‰è„šæœ¬å…¶å®ä¹Ÿæ˜¯ shell è„šæœ¬,å› æ­¤è¿™é‡Œçš„ Shell å¯ä»¥æ‰©å±•ä¸º python\perl\ruby
ç­‰ã€‚</p>

<p>å¸¸è§è„šæœ¬å¦‚:</p>

<p>1\æ­¤è„šæœ¬:åœ¨jenkinsæ„å»ºå®Œæˆå,è¿œç¨‹copyé…ç½®æ–‡ä»¶åˆ°é¡¹ç›®ä¸­,å¹¶é‡å¯tomcat</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="c">#datetime: 2017-2-7 17:00</span>
<span class="c">#author:3code</span>
<span class="c">#desc:æ­¤è„šæœ¬ç”¨æ¥åœ¨jenkinsæ„å»ºå®Œæˆåï¼Œè¿œç¨‹copyé…ç½®æ–‡ä»¶åˆ°é¡¹ç›®ä¸­ï¼Œå¹¶é‡å¯tomcat</span>

<span class="c">#copy APIå·¥ç¨‹çš„é…ç½®æ–‡ä»¶</span>
cp -r /data/apache-tomcat-7.0.56/build/API/<span class="k">*</span>  /data/apache-tomcat-7.0.56/webapps/API/WEB-INF/classes

<span class="c">#é‡å¯tomcat</span>
bash /data/apache-tomcat-7.0.56/bin/shutdown.sh

sleep 30s

bash /data/apache-tomcat-7.0.56/bin/startup.sh
</code></pre>
</div>

<p><strong>Tips:</strong></p>
<ul>
  <li>å¯¹äºåˆšæ¥è§¦Jenkinsçš„åŒå­¦å¯èƒ½æœ‰å¾ˆå¤šéœ€è¦é…ç½®çš„åœ°æ–¹ä¸çŸ¥é“è¦æ€ä¹ˆå¡«ï¼Œè¿™æ—¶å¯ä»¥ç‚¹å‡»æ¯ä¸€ä¸ªå¡«ç©ºåçš„ï¼Ÿï¼Œå°±ä¼šå¼¹å‡ºè¯¦ç»†çš„æç¤ºã€‚</li>
  <li>å®˜æ–¹çš„wikiæ˜¯å¾ˆå¥½çš„å…¥é—¨æ•™ç¨‹https://wiki.jenkins-ci.org/display/JENKINS/Home</li>
</ul>

<h3 id="section-13">å…¶ä»–</h3>

<ul>
  <li>Jenkins çš„ç•Œé¢æ˜¯å¯ä»¥è‡ªå®šä¹‰çš„,<a href="https://wiki.jenkins-ci.org/display/JENKINS/Simple+Theme+Plugin">å‚è€ƒæ­¤å¤„</a></li>
  <li><a href="https://runningyoung.github.io/2016/04/01/2016-04-05-jenkins2/">ä¼˜ç§€:Jenkins + Gitlab + è’²å…¬è‹± + é‚®ä»¶é€šçŸ¥</a></li>
  <li><a href="http://blog.csdn.net/fengshi_sh/article/details/50669754">ä¼˜ç§€:jenkins+xcode+svn+ä¸ƒç‰›</a></li>
</ul>

<p><a href="http://www.itgo.me/a/x9151986573431569483">æ„å»ºiOSæŒç»­é›†æˆå¹³å°ï¼ˆä¸‰ï¼‰â€”â€”CIæœåŠ¡å™¨ä¸è‡ªåŠ¨åŒ–éƒ¨ç½²</a>
<a href="http://blog.fir.im/fir_im_weekly160505/">fir.im weekly - ã€Œ æŒç»­é›†æˆ ã€å®è·µæ•™ç¨‹åˆé›†</a>
<a href="http://blog.flow.ci/cicd_difference/">è°ˆè°ˆæŒç»­é›†æˆï¼ŒæŒç»­äº¤ä»˜ï¼ŒæŒç»­éƒ¨ç½²ä¹‹é—´çš„åŒºåˆ«</a>
<a href="http://blog.caoyue.me/post/react-native-travis-ci-ios">ä½¿ç”¨Travis CIè‡ªåŠ¨éƒ¨ç½²React Nativeé¡¹ç›®ï¼ˆiOSç¯‡ï¼‰</a>
<a href="http://www.infoq.com/cn/articles/build-ios-continuous-integration-platform-part3">æ„å»ºiOSæŒç»­é›†æˆå¹³å°ï¼ˆä¸‰ï¼‰â€”â€”CIæœåŠ¡å™¨ä¸è‡ªåŠ¨åŒ–éƒ¨ç½²</a>
â€¦
<a href="https://objccn.io/issue-6-5/">ä¸º iOS å»ºç«‹ Travis CI</a>
<a href="https://gold.xitu.io/entry/57a982d10a2b58005869d8dc">iOS æŒç»­é›†æˆ â€“Travis CI + Fir.im è‡ªåŠ¨ç¼–è¯‘å‘å¸ƒ</a>
<a href="http://yeziahehe.com/2016/08/07/use_travis_ci_for_ios_project/">iOS æŒç»­é›†æˆâ€“Travis CI + Fir.imè‡ªåŠ¨ç¼–è¯‘å‘å¸ƒ</a>
<a href="https://objccn.io/issue-6-5/">ä¸º iOS å»ºç«‹ Travis CI</a>
<a href="https://docs.docker.com/docker-hub/builds/">åœ¨Docker Hubä¸Šé…ç½®è‡ªåŠ¨æ„å»º</a>
<a href="http://www.jianshu.com/p/19c2b13e81fa">åˆ©ç”¨pod trunkå‘å¸ƒç¨‹åº</a>
<a href="http://www.55118885.com/w/166141242.html">ä½¿ç”¨GitLabæ¥å®ç°IOSé¡¹ç›®çš„æŒç»­é›†æˆCI</a>
<a href="http://blog.fir.im/jenkinsgithubfir_cli-xing-ming-ling-cong-yuan-ma-dao-fir-im/">Jenkins + GitHub + fir-cli ä¸€è¡Œå‘½ä»¤ä»æºç åˆ° fir.im</a>
<a href="http://www.2cto.com/kf/201411/356826.html">ç”¨æŒç»­é›†æˆå·¥å…·Travisè¿›è¡Œæ„å»ºå’Œéƒ¨ç½²</a></p>
<h4 id="firim">fir.im</h4>
<p><a href="http://www.jianshu.com/p/f17caec72f0b">ä½¿ç”¨ fir CLIæ’ä»¶ä¸Šä¼  Swift åº”ç”¨è‡³fir.im</a></p>

<h4 id="travis">Travis</h4>
<p>ç›¸å…³çš„æ–‡ç« :<a href="https://blog.jamespan.me/2015/11/01/ci-your-hexo-blog">Travis</a></p>

<blockquote>
  <p><a href="http://ios.jobbole.com/87803/">ä½¿ç”¨ TestFlight è¿›è¡Œ App Beta ç‰ˆæµ‹è¯•</a>
<a href="http://www.jianshu.com/p/27545c2d4d8b">ä½¿ç”¨TestFlightè¿›è¡ŒAppæ„å»ºç‰ˆæœ¬æµ‹è¯•</a>
<a href="https://onevcat.com/2012/01/testflight/">onevcat testflight</a>
æŒç»­éƒ¨ç½²æ˜¯æŒ‡å½“äº¤ä»˜çš„ä»£ç é€šè¿‡è¯„å®¡ä¹‹åï¼Œè‡ªåŠ¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒä¸­ã€‚æŒç»­éƒ¨ç½²æ˜¯æŒç»­äº¤ä»˜çš„æœ€é«˜é˜¶æ®µã€‚è¿™æ„å‘³ç€ï¼Œæ‰€æœ‰é€šè¿‡äº†ä¸€ç³»åˆ—çš„è‡ªåŠ¨åŒ–æµ‹è¯•çš„æ”¹åŠ¨éƒ½å°†è‡ªåŠ¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒã€‚å®ƒä¹Ÿå¯ä»¥è¢«ç§°ä¸ºâ€œContinuous Releaseâ€ã€‚</p>
</blockquote>

<h2 id="section-14">è‡ªåŠ¨å‘å¸ƒ</h2>

<ul>
  <li>Fastlane æ˜¯ä¸€ç»„å·¥å…·å¥—ä»¶,æ—¨åœ¨å®ç°iOSåº”ç”¨å‘å¸ƒæµç¨‹çš„è‡ªåŠ¨åŒ–ï¼Œå¹¶ä¸”æä¾›ä¸€ä¸ªè¿è¡Œè‰¯å¥½çš„æŒç»­éƒ¨ç½²æµç¨‹.</li>
  <li>ä½¿ç”¨åœºæ™¯: push æ—¶æ‰§è¡Œå•å…ƒæµ‹è¯•,é›†æˆæµ‹è¯•;åˆ›å»ºå±å¹•æˆªå›¾å‘ç»™å®¢æˆ·;æ„å»ºåˆ†å‘ Beta ç‰ˆæœ¬;æ„å»ºå¹¶åˆ†å‘åˆ° appstore;</li>
  <li>æ”¯æŒä¸Jenkinså’ŒCocoaPodsï¼Œxctoolsç­‰å…¶ä»–ç¬¬ä¸‰æ–¹å·¥å…·çš„é›†æˆ</li>
  <li>åšå®¢æ•™ç¨‹:http://www.infoq.com/cn/news/2015/01/fastlane-ios-continuous-deploy</li>
  <li>å®˜æ–¹æ•™ç¨‹:https://docs.fastlane.tools/getting-started/ios/screenshots/</li>
</ul>


        </article>
        <hr>

        
        
            
            
        
            
            
                
                    
                        
                        <h2 id="similar_posts">ç›¸ä¼¼æ–‡ç« </h2>
                        <ul>
                        
                        <li class="relatedPost">
                            <a href="http://localhost:4000/2017/02/07/AD-Fastlane/"> æŒç»­é›†æˆç³»åˆ— - Fastlaneçš„é»‘é­”æ³•:è‡ªåŠ¨æ‰“åŒ…ç¼–è¯‘ä¸Šä¼  AppStore
                            
                            </a>
                        </li>
                        
                        
                    
                
                    
                
            
        
            
            
                
                    
                
                    
                
            
        
            
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
        
            
            
                
                    
                
                    
                
            
        
            
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
        
            
            
                
                    
                
                    
                
            
        
            
            
                
                    
                
                    
                
            
        
            
            
                
                    
                
                    
                
            
        
            
            
                
                    
                
                    
                
            
        
        
            </ul>
        

        <div class="post-recent">
    <div class="pre">
        
        <p><strong>ä¸Šä¸€ç¯‡</strong> <a href="/2017/02/08/AD-jenkins/">Ad Jenkins</a></p>
        
    </div>
    <div class="nex">

        
    </div>
</div>


        <h2 id="comments">è¯„è®º</h2>
        
<!-- å¤šè¯´è¯„è®ºæ¡† start -->
<div class="ds-thread" data-thread-key="http://localhost:4000/2017/02/08/AD-jenkins/" data-title=" æŒç»­é›†æˆç³»åˆ— - CI + Jenkinsçš„é­”æ³•ä¸–ç•Œ" data-url="http://localhost:4000/2017/02/08/AD-jenkins/"></div>
<!-- å¤šè¯´è¯„è®ºæ¡† end -->
<!-- å¤šè¯´å…¬å…±JSä»£ç  start (ä¸€ä¸ªç½‘é¡µåªéœ€æ’å…¥ä¸€æ¬¡) -->
<script type="text/javascript">
    var duoshuoQuery = {
        short_name: "mythkiven"
    };
    (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';
        ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
</script>
<!-- å¤šè¯´å…¬å…±JSä»£ç  end -->






    </div>
    <button class="anchor"><i class="fa fa-anchor"></i></button>
    <div class="right">
        <div class="wrap">

            <!-- Content -->
            <div class="side content">
                <div>
                    å†…å®¹
                </div>
                <ul id="content-side" class="content-ul">
                    <li><a href="#similar_posts">ç›¸ä¼¼æ–‡ç« </a></li>
                    <li><a href="#comments">è¯„è®º</a></li>
                </ul>
            </div>
            <!-- å…¶ä»–divæ¡†æ”¾åˆ°è¿™é‡Œ -->
            <!-- <div class="side">bbbb</div> -->
        </div>
    </div>
</div>
<script>
/**
 * target _blank
 */
(function() {
    var aTags = document.querySelectorAll('article a:not([id])')
    for (var i = 0; i < aTags.length; i++) {
        aTags[i].setAttribute('target', '_blank')
    }
}());
</script>
<script src="/js/pageContent.js " charset="utf-8"></script>


    <footer class="site-footer">


    <div class="wrapper">

        <p class="description">
             3è¡Œä»£ç çš„æŠ€æœ¯åšå®¢ 
        </p>
        <p class="contact">
            Contact me at:  
            <a href="mailto:mythziven@gmail.com" title="email"><i class="fa fa-envelope-o" aria-hidden="true"></i></a>   -->
<!--            <a href="mailto:mythziven@gmail.com" title="email"><i class="fa fa-envelope-o" aria-hidden="true"></i></a>-->
<!--            <a href="mailto:mythziven@gmail.com" title="email"><i class="fa fa-envelope-o" aria-hidden="true"></i></a>        -->


        </p>
        <p>
            æœ¬ç«™æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡ï¼Œæœ¬ç«™è®¿å®¢æ•°<span id="busuanzi_value_site_uv"></span>äººæ¬¡ï¼Œæœ¬æ–‡æ€»é˜…è¯»é‡<span id="busuanzi_value_page_pv"></span>æ¬¡
        </p>
        <p class="power">
        
            <span>
                Site powered by <a href="https://jekyllrb.com/">Jekyll</a> & <a href="https://pages.github.com/">Github Pages</a>.
            </span>

          <!--   <span>
                Theme designed by <a href="https://github.com/mythkiven">MyKiven</a>.
            </span> -->

        </p>
    </div>
</footer>
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <div class="back-to-top">
    <a href="#top" class="scroll">
        <i class="fa fa-arrow-up" aria-hidden="true"></i>
    </a>
</div>

    <script src=" /js/main.js " charset="utf-8"></script>
    <script src=" /js/scroll.min.js " charset="utf-8"></script>
  </body>

</html>

<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>3è¡Œä»£ç </title>
    <meta name="description" content="">

    <link rel="shortcut icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="stylesheet" href="/css/fontawesome/css/font-awesome.min.css ">
    <link rel="stylesheet" href="/css/main.css ">
    <link rel="canonical" href="http://localhost:4000/">
    <link rel="alternate" type="application/rss+xml" title="3è¡Œä»£ç " href="http://localhost:4000/feed.xml ">


<script>
    // ç™¾åº¦ç»Ÿè®¡ä»£ç 
    var _hmt = _hmt || [];
    (function() {
     var hm = document.createElement("script");
     hm.src = "//hm.baidu.com/hm.js?d9432112fb859bf7276f8399641fb0c5";
     var s = document.getElementsByTagName("script")[0];
     s.parentNode.insertBefore(hm, s);
     })();
    </script>




    <script>
    // google analytics
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-85978943-1', 'auto');
      ga('send', 'pageview');

    </script>

</head>


  <body>

    <header id="top">
    <div class="wrapper">
        <a href="/" class="brand">3è¡Œä»£ç </a>
        <small>æŠ€æœ¯åšå®¢</small>
        <button id="headerMenu" class="menu"><i class="fa fa-bars"></i></button>
        <nav id="headerNav">
            <ul>
                
                <li>
                    
                    <a class="active" href="/">
                        
                        <i class="fa fa-home"></i>Home
                    </a>
                </li>


                
                    
                    <li>
                        
                        <a href="/archive/">
                        
                            <i class="fa fa-archive"></i>Archives
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/category/">
                        
                            <i class="fa fa-th-list"></i>Categories
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/tag/">
                        
                            <i class="fa fa-tags"></i>Tags
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/collection/">
                        
                            <i class="fa fa-bookmark"></i>Collections
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/about/">
                        
                            <i class="fa fa-heart"></i>About
                        </a>
                    </li>
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </ul>
        </nav>
    </div>
</header>


        <div class="page clearfix" index>
    <div class="left">
        <h1>Welcome to 3code.info!</h1>
        <small>è®°å½•ç”Ÿæ´»</small>
        <hr>
        <ul>
            
              <li>
                <h2>
                  <a class="post-link" href="/2017/01/18/SDiffuseMenu/">Swift ç‰ˆ AwesomeMenu çš„æ”¹å†™ä¹‹æ—…:SDiffuseMenu</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2017-01-18
                    </div>
                    <div class="label-card">
                        <i class="fa fa-user"></i>3è¡Œä»£ç 
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">â€¢</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#Swift3.0" title="Category: Swift3.0" rel="category">Swift3.0</a>
    
  

  <!-- <span class="point">â€¢</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">â€¢</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#Swift3.0" title="Tag: Swift3.0" rel="tag">Swift3.0</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#swift--awesomemenu-sdiffusemenu" id="markdown-toc-swift--awesomemenu-sdiffusemenu">Swift ç‰ˆ AwesomeMenu çš„æ”¹å†™ä¹‹æ—…:SDiffuseMenu</a></li>
  <li><a href="#section" id="markdown-toc-section">ç‰ˆæœ¬è®°å½•</a></li>
  <li><a href="#section-1" id="markdown-toc-section-1">ä¸€ã€ä½¿ç”¨æ–¹æ³•ï¼š</a>    <ul>
      <li><a href="#section-2" id="markdown-toc-section-2">1ã€æ·»åŠ åè®®</a></li>
      <li><a href="#section-3" id="markdown-toc-section-3">2ã€è®¾ç½®èœå•çš„é€‰é¡¹æŒ‰é’®æ•°æ®</a></li>
      <li><a href="#section-4" id="markdown-toc-section-4">3ã€è®¾ç½®èœå•æŒ‰é’®</a></li>
      <li><a href="#sdiffusemenu" id="markdown-toc-sdiffusemenu">4ã€æ·»åŠ  SDiffuseMenu</a></li>
      <li><a href="#section-5" id="markdown-toc-section-5">5ã€åŠ¨ç”»é…ç½®</a></li>
      <li><a href="#section-6" id="markdown-toc-section-6">6ã€åŠ¨ç”»è¿‡ç¨‹ç›‘å¬</a></li>
    </ul>
  </li>
  <li><a href="#swift" id="markdown-toc-swift">äºŒã€Swiftè½¬å†™ä¹‹æ—…</a>    <ul>
      <li><a href="#capropertyanimation" id="markdown-toc-capropertyanimation">1ã€CAPropertyAnimationåŠ¨ç”»</a></li>
      <li><a href="#section-7" id="markdown-toc-section-7">2ã€åŠ¨ç”»åˆ†æ</a>        <ul>
          <li><a href="#section-8" id="markdown-toc-section-8">2.1ã€å•ä¸ªé€‰é¡¹å…³é—­åŠ¨ç”»åˆ†æï¼š</a></li>
          <li><a href="#section-9" id="markdown-toc-section-9">2.2ã€æ•´ä½“åŠ¨ç”»çš„æ§åˆ¶</a></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h2 id="swift--awesomemenu-sdiffusemenu">Swift ç‰ˆ AwesomeMenu çš„æ”¹å†™ä¹‹æ—…:SDiffuseMenu</h2>

<blockquote>
  <p>æœ¬åŠ¨ç”»æ˜¯ Swift ç‰ˆçš„ AwesomeMenu,å¦‚éœ€OCç‰ˆè¿˜è¯·ç§»æ­¥<a href="https://github.com/levey/AwesomeMenu">è¿™é‡Œ</a>ã€‚</p>

  <p>SDiffuseMenu å½“å‰ç‰ˆæœ¬ V1.1.0,ä»£ç <a href="https://github.com/mythkiven/DiffuseMenu_Swift">è¯·æˆ³è¿™é‡Œ</a></p>

  <p>æˆ‘æ˜¯åˆšè½¬ Swift ä¸ä¹…,ä»£ç ä¸è¶³ä¹‹å¤„è¿˜è¯·å¤§ç¥å¤šå¤šæŒ‡æ•™ğŸ˜ğŸ˜</p>
</blockquote>

<p><strong>åŠ¨ç”»æ•ˆæœå¦‚ä¸‹:</strong></p>

<p><img src="https://github.com/mythkiven/DiffuseMenu_Swift/blob/master/Source/SDiffuseMenu.gif" alt="" /></p>

<p><strong>é…ç½®å›¾å¦‚ä¸‹:</strong></p>

<p><img src="https://github.com/mythkiven/DiffuseMenu_Swift/blob/master/Source/settingAngle.png" alt="" /></p>

<h2 id="section">ç‰ˆæœ¬è®°å½•</h2>

<p>SDiffuseMenu å½“å‰ä¸º V1.1.0 ç‰ˆæœ¬,å†å²ç‰ˆæœ¬è¯¦æƒ…<a href="https://github.com/mythkiven/DiffuseMenu_Swift/blob/master/Source/Revision History.md">è¯·æˆ³ä¸€ä¸‹</a></p>

<h2 id="section-1">ä¸€ã€ä½¿ç”¨æ–¹æ³•ï¼š</h2>

<p>æ·»åŠ åè®®(åŠ¨ç”»çŠ¶æ€å›è°ƒ) -&gt; è®¾ç½®é€‰é¡¹æ•°ç»„ -&gt; è®¾ç½®èœå•æŒ‰é’® -&gt; åŠ¨ç”»å±æ€§é…ç½® -&gt; .addSubview(menu)</p>

<h4 id="section-2">1ã€æ·»åŠ åè®®</h4>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span><span class="p">,</span> <span class="kt">SDiffuseMenuDelegate</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">menu</span><span class="p">:</span> <span class="kt">SDiffuseMenu</span><span class="o">!</span>
<span class="p">}</span>
</code></pre>
</div>

<h4 id="section-3">2ã€è®¾ç½®èœå•çš„é€‰é¡¹æŒ‰é’®æ•°æ®</h4>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="c1">// åŠ è½½å›¾ç‰‡</span>
<span class="k">guard</span> <span class="k">let</span> <span class="nv">storyMenuItemImage</span>            <span class="o">=</span>  <span class="kt">UIImage</span><span class="p">(</span><span class="nv">named</span><span class="p">:</span><span class="s">"menuitem-normal.png"</span><span class="p">)</span>         <span class="k">else</span> <span class="p">{</span> <span class="nf">fatalError</span><span class="p">(</span><span class="s">"å›¾ç‰‡åŠ è½½å¤±è´¥"</span><span class="p">)</span> <span class="p">}</span>
<span class="k">guard</span> <span class="k">let</span> <span class="nv">storyMenuItemImagePressed</span>     <span class="o">=</span>  <span class="kt">UIImage</span><span class="p">(</span><span class="nv">named</span><span class="p">:</span><span class="s">"menuitem-highlighted.png"</span><span class="p">)</span>    <span class="k">else</span> <span class="p">{</span> <span class="nf">fatalError</span><span class="p">(</span><span class="s">"å›¾ç‰‡åŠ è½½å¤±è´¥"</span><span class="p">)</span> <span class="p">}</span>
<span class="k">guard</span> <span class="k">let</span> <span class="nv">starImage</span>                     <span class="o">=</span>  <span class="kt">UIImage</span><span class="p">(</span><span class="nv">named</span><span class="p">:</span><span class="s">"star.png"</span><span class="p">)</span>                    <span class="k">else</span> <span class="p">{</span> <span class="nf">fatalError</span><span class="p">(</span><span class="s">"å›¾ç‰‡åŠ è½½å¤±è´¥"</span><span class="p">)</span> <span class="p">}</span>
<span class="k">guard</span> <span class="k">let</span> <span class="nv">starItemNormalImage</span>           <span class="o">=</span>  <span class="kt">UIImage</span><span class="p">(</span><span class="nv">named</span><span class="p">:</span><span class="s">"addbutton-normal.png"</span><span class="p">)</span>        <span class="k">else</span> <span class="p">{</span> <span class="nf">fatalError</span><span class="p">(</span><span class="s">"å›¾ç‰‡åŠ è½½å¤±è´¥"</span><span class="p">)</span> <span class="p">}</span>
<span class="k">guard</span> <span class="k">let</span> <span class="nv">starItemLightedImage</span>          <span class="o">=</span>  <span class="kt">UIImage</span><span class="p">(</span><span class="nv">named</span><span class="p">:</span><span class="s">"addbutton-highlighted.png"</span><span class="p">)</span>   <span class="k">else</span> <span class="p">{</span> <span class="nf">fatalError</span><span class="p">(</span><span class="s">"å›¾ç‰‡åŠ è½½å¤±è´¥"</span><span class="p">)</span> <span class="p">}</span>
<span class="k">guard</span> <span class="k">let</span> <span class="nv">starItemContentImage</span>          <span class="o">=</span>  <span class="kt">UIImage</span><span class="p">(</span><span class="nv">named</span><span class="p">:</span><span class="s">"plus-normal.png"</span><span class="p">)</span>             <span class="k">else</span> <span class="p">{</span> <span class="nf">fatalError</span><span class="p">(</span><span class="s">"å›¾ç‰‡åŠ è½½å¤±è´¥"</span><span class="p">)</span> <span class="p">}</span>
<span class="k">guard</span> <span class="k">let</span> <span class="nv">starItemContentLightedImage</span>   <span class="o">=</span>  <span class="kt">UIImage</span><span class="p">(</span><span class="nv">named</span><span class="p">:</span><span class="s">"plus-highlighted.png"</span><span class="p">)</span>        <span class="k">else</span> <span class="p">{</span> <span class="nf">fatalError</span><span class="p">(</span><span class="s">"å›¾ç‰‡åŠ è½½å¤±è´¥"</span><span class="p">)</span> <span class="p">}</span>

<span class="k">var</span> <span class="nv">menus</span> <span class="o">=</span> <span class="p">[</span><span class="kt">SDiffuseMenuItem</span><span class="p">]()</span>

<span class="k">for</span> <span class="n">_</span> <span class="k">in</span> <span class="mi">0</span> <span class="o">..&lt;</span> <span class="mi">6</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">starMenuItem</span> <span class="o">=</span>  <span class="kt">SDiffuseMenuItem</span><span class="p">(</span><span class="nv">image</span><span class="p">:</span> <span class="n">storyMenuItemImage</span><span class="p">,</span>
                                         <span class="nv">highlightedImage</span><span class="p">:</span> <span class="n">storyMenuItemImagePressed</span><span class="p">,</span> 
                                         <span class="nv">contentImage</span><span class="p">:</span> <span class="n">starImage</span><span class="p">,</span>
                                         <span class="nv">highlightedContentImage</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
    <span class="n">menus</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="n">starMenuItem</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
</div>

<h4 id="section-4">3ã€è®¾ç½®èœå•æŒ‰é’®</h4>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">startItem</span> <span class="o">=</span> <span class="kt">SDiffuseMenuItem</span><span class="p">(</span><span class="nv">image</span><span class="p">:</span> <span class="n">starItemNormalImage</span><span class="p">,</span>
                                 <span class="nv">highlightedImage</span><span class="p">:</span> <span class="n">starItemLightedImage</span><span class="p">,</span>
                                 <span class="nv">contentImage</span><span class="p">:</span> <span class="n">starItemContentImage</span><span class="p">,</span>
                                 <span class="nv">highlightedContentImage</span><span class="p">:</span> <span class="n">starItemContentLightedImage</span><span class="p">)</span>
</code></pre>
</div>

<h4 id="sdiffusemenu">4ã€æ·»åŠ  SDiffuseMenu</h4>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">menuRect</span>  <span class="o">=</span> <span class="kt">CGRect</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="n">menuView</span><span class="o">.</span><span class="n">bounds</span><span class="o">.</span><span class="n">size</span><span class="o">.</span><span class="n">width</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>
                           <span class="nv">y</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="n">menuView</span><span class="o">.</span><span class="n">bounds</span><span class="o">.</span><span class="n">size</span><span class="o">.</span><span class="n">width</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>
                           <span class="nv">width</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="n">menuView</span><span class="o">.</span><span class="n">bounds</span><span class="o">.</span><span class="n">size</span><span class="o">.</span><span class="n">width</span><span class="p">,</span>
                           <span class="nv">height</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="n">menuView</span><span class="o">.</span><span class="n">bounds</span><span class="o">.</span><span class="n">size</span><span class="o">.</span><span class="n">width</span><span class="p">)</span>
<span class="n">menu</span>          <span class="o">=</span>  <span class="kt">SDiffuseMenu</span><span class="p">(</span><span class="nv">frame</span><span class="p">:</span> <span class="n">menuRect</span><span class="p">,</span>
                          <span class="nv">startItem</span><span class="p">:</span> <span class="n">startItem</span><span class="p">,</span>
                         <span class="nv">menusArray</span><span class="p">:</span> <span class="n">menus</span> <span class="k">as</span> <span class="kt">NSArray</span><span class="p">,</span>
                          <span class="nv">grapyType</span><span class="p">:</span> <span class="kt">SDiffuseMenu</span><span class="o">.</span><span class="kt">SDiffuseMenuGrapyType</span><span class="o">.</span><span class="n">arc</span><span class="p">)</span>
<span class="n">menu</span><span class="o">.</span><span class="n">center</span>   <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="n">menuView</span><span class="o">.</span><span class="n">center</span>
<span class="n">menu</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="k">self</span>
<span class="k">self</span><span class="o">.</span><span class="n">menuView</span><span class="o">.</span><span class="nf">addSubview</span><span class="p">(</span><span class="n">menu</span><span class="p">)</span>
</code></pre>
</div>

<h4 id="section-5">5ã€åŠ¨ç”»é…ç½®</h4>

<ul>
  <li>å¦‚æœé…ç½®å¼§çº¿å½¢åŠ¨ç”»,åˆ™åŠ¨ç”»ä¸­å¼§çº¿åŠå¾„å˜åŒ–ä¸º:0â€“&gt; æœ€å¤§ farRadiusâ€“&gt; æœ€å° nearRadiusâ€“&gt; ç»“æŸ endRadius</li>
  <li>å¦‚æœé…ç½®ç›´çº¿å½¢åŠ¨ç”»,åˆ™åŠ¨ç”»ä¸­åŠå¾„å°±æ˜¯ç›´çº¿æ®µçš„é•¿åº¦,å˜åŒ–ä¸º:0â€“&gt; æœ€å¤§ farRadiusâ€“&gt; æœ€å° nearRadiusâ€“&gt;ç»“æŸ endRadius</li>
</ul>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="c1">// åŠ¨ç”»æ—¶é•¿</span>
<span class="n">menu</span><span class="o">.</span><span class="n">animationDuration</span>  <span class="o">=</span> <span class="kt">CFTimeInterval</span><span class="p">(</span><span class="n">animationDrationValue</span><span class="o">.</span><span class="n">text</span><span class="o">!</span><span class="p">)</span>
<span class="c1">// æœ€å°åŠå¾„</span>
<span class="n">menu</span><span class="o">.</span><span class="n">nearRadius</span>         <span class="o">=</span> <span class="kt">CGFloat</span><span class="p">((</span><span class="n">nearRadiusValue</span><span class="o">.</span><span class="n">text</span><span class="o">!</span> <span class="k">as</span> <span class="kt">NSString</span><span class="p">)</span><span class="o">.</span><span class="n">floatValue</span><span class="p">)</span>
<span class="c1">// ç»“æŸåŠå¾„</span>
<span class="n">menu</span><span class="o">.</span><span class="n">endRadius</span>          <span class="o">=</span> <span class="kt">CGFloat</span><span class="p">((</span><span class="n">endRadiusValue</span><span class="o">.</span><span class="n">text</span><span class="o">!</span> <span class="k">as</span> <span class="kt">NSString</span><span class="p">)</span><span class="o">.</span><span class="n">floatValue</span><span class="p">)</span>
<span class="c1">// æœ€å¤§åŠå¾„</span>
<span class="n">menu</span><span class="o">.</span><span class="n">farRadius</span>          <span class="o">=</span> <span class="kt">CGFloat</span><span class="p">((</span><span class="n">farRadiusValue</span><span class="o">.</span><span class="n">text</span><span class="o">!</span> <span class="k">as</span> <span class="kt">NSString</span><span class="p">)</span><span class="o">.</span><span class="n">floatValue</span><span class="p">)</span>
<span class="c1">// å•ä¸ªåŠ¨ç”»é—´éš”æ—¶é—´</span>
<span class="n">menu</span><span class="o">.</span><span class="n">timeOffset</span>         <span class="o">=</span> <span class="kt">CFTimeInterval</span><span class="p">(</span><span class="n">timeOffSetValue</span><span class="o">.</span><span class="n">text</span><span class="o">!</span><span class="p">)</span><span class="o">!</span>
<span class="c1">// æ•´ä½“è§’åº¦</span>
<span class="n">menu</span><span class="o">.</span><span class="n">menuWholeAngle</span>     <span class="o">=</span> <span class="kt">CGFloat</span><span class="p">((</span><span class="n">menuWholeAngleValue</span><span class="o">.</span><span class="n">text</span><span class="o">!</span> <span class="k">as</span> <span class="kt">NSString</span><span class="p">)</span><span class="o">.</span><span class="n">floatValue</span><span class="p">)</span>
<span class="c1">// æ•´ä½“åç§»è§’åº¦</span>
<span class="n">menu</span><span class="o">.</span><span class="n">rotateAngle</span>        <span class="o">=</span> <span class="kt">CGFloat</span><span class="p">((</span><span class="n">rotateAngleValue</span><span class="o">.</span><span class="n">text</span><span class="o">!</span> <span class="k">as</span> <span class="kt">NSString</span><span class="p">)</span><span class="o">.</span><span class="n">floatValue</span><span class="p">)</span>
<span class="c1">// å±•å¼€æ—¶è‡ªæ—‹è§’åº¦</span>
<span class="n">menu</span><span class="o">.</span><span class="n">expandRotation</span>     <span class="o">=</span> <span class="kt">CGFloat</span><span class="p">(</span><span class="kt">M_PI</span><span class="p">)</span>
<span class="c1">// ç»“æŸæ—¶è‡ªæ—‹è§’åº¦</span>
<span class="n">menu</span><span class="o">.</span><span class="n">closeRotation</span>      <span class="o">=</span> <span class="kt">CGFloat</span><span class="p">(</span><span class="kt">M_PI</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>
<span class="c1">// æ˜¯å¦æ—‹è½¬èœå•æŒ‰é’®</span>
<span class="n">menu</span><span class="o">.</span><span class="n">rotateAddButton</span>    <span class="o">=</span> <span class="n">rotateAddButton</span><span class="o">.</span><span class="n">isOn</span>
<span class="c1">// èœå•æŒ‰é’®æ—‹è½¬è§’åº¦</span>
<span class="n">menu</span><span class="o">.</span><span class="n">rotateAddButtonAngle</span> <span class="o">=</span> <span class="kt">CGFloat</span><span class="p">((</span><span class="n">rotateAddButtonAngleValue</span><span class="o">.</span><span class="n">text</span><span class="o">!</span> <span class="k">as</span> <span class="kt">NSString</span><span class="p">)</span><span class="o">.</span><span class="n">floatValue</span><span class="p">)</span>
<span class="c1">// èœå•å±•ç¤ºçš„å½¢çŠ¶:ç›´çº¿ or å¼§å½¢</span>
<span class="n">menu</span><span class="o">.</span><span class="n">sDiffuseMenuGrapyType</span> <span class="o">=</span> <span class="n">isLineGrapyType</span><span class="o">.</span><span class="n">isOn</span> <span class="o">==</span> <span class="kc">true</span> <span class="p">?</span> <span class="o">.</span><span class="nv">line</span> <span class="p">:</span> <span class="o">.</span><span class="n">arc</span>

<span class="c1">// ä¸ºæ–¹ä¾¿ä½¿ç”¨,V1.1.0ç‰ˆæœ¬å·²æšä¸¾å¸¸è§æ–¹ä½,å¯ç›´æ¥ä½¿ç”¨,æ— éœ€å†æ¬¡è®¾ç½® rotateAngle &amp;&amp; menuWholeAngle</span>
<span class="c1">// è‹¥å¯¹äº rotateAngle\menuWholeAngle ä¸ç†Ÿæ‚‰,å»ºè®®æŸ¥çœ‹ source ç›®å½•ä¸‹çš„é…ç½®å›¾ç‰‡</span>
<span class="n">menu</span><span class="o">.</span><span class="n">sDiffuseMenuDirection</span> <span class="o">=</span> <span class="o">.</span><span class="n">above</span> <span class="c1">// ä¸Šæ–¹180Â°</span>
<span class="c1">//        menu.sDiffuseMenuDirection = .left // å·¦æ–¹180Â°</span>
<span class="c1">//        menu.sDiffuseMenuDirection = .below // ä¸‹æ–¹180Â°</span>
<span class="c1">//        menu.sDiffuseMenuDirection = .right // å³æ–¹180Â°</span>
<span class="c1">//        menu.sDiffuseMenuDirection = .upperRight // å³ä¸Šæ–¹90Â°</span>
<span class="c1">//        menu.sDiffuseMenuDirection = .lowerRight // å³ä¸‹æ–¹90Â°</span>
<span class="c1">//        menu.sDiffuseMenuDirection = .upperLeft // å·¦ä¸Šæ–¹90Â°</span>
<span class="c1">//        menu.sDiffuseMenuDirection = .lowerLeft // å·¦ä¸‹æ–¹90Â°</span>
</code></pre>
</div>

<h4 id="section-6">6ã€åŠ¨ç”»è¿‡ç¨‹ç›‘å¬</h4>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">func</span> <span class="kt">SDiffuseMenuDidSelectMenuItem</span><span class="p">(</span><span class="n">_</span> <span class="nv">menu</span><span class="p">:</span> <span class="kt">SDiffuseMenu</span><span class="p">,</span> <span class="n">didSelectIndex</span> <span class="nv">index</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"é€‰ä¸­æŒ‰é’® at index:</span><span class="se">\(</span><span class="n">index</span><span class="se">)</span><span class="s"> is: </span><span class="se">\(</span><span class="n">menu</span><span class="o">.</span><span class="nf">menuItemAtIndex</span><span class="p">(</span><span class="n">index</span><span class="p">)</span><span class="se">)</span><span class="s"> "</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="kt">SDiffuseMenuDidClose</span><span class="p">(</span><span class="n">_</span> <span class="nv">menu</span><span class="p">:</span> <span class="kt">SDiffuseMenu</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"èœå•å…³é—­åŠ¨ç”»ç»“æŸ"</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="kt">SDiffuseMenuDidOpen</span><span class="p">(</span><span class="n">_</span> <span class="nv">menu</span><span class="p">:</span> <span class="kt">SDiffuseMenu</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"èœå•å±•å¼€åŠ¨ç”»ç»“æŸ"</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="kt">SDiffuseMenuWillOpen</span><span class="p">(</span><span class="n">_</span> <span class="nv">menu</span><span class="p">:</span> <span class="kt">SDiffuseMenu</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"èœå•å°†è¦å±•å¼€"</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="kt">SDiffuseMenuWillClose</span><span class="p">(</span><span class="n">_</span> <span class="nv">menu</span><span class="p">:</span> <span class="kt">SDiffuseMenu</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"èœå•å°†è¦å…³é—­"</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
</div>

<h2 id="swift">äºŒã€Swiftè½¬å†™ä¹‹æ—…</h2>

<p>æ€»çš„æ¥è¯´,åŠ¨ç”»çš„åŸç†è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„,ä¸»è¦æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹æ˜¯ CABasicAnimationã€CAKeyframeAnimation ä»¥åŠäº‹ä»¶å“åº”é“¾ç›¸å…³çŸ¥è¯†,ä¸‹è¾¹åˆ†ä¸¤éƒ¨åˆ†ä»‹ç»</p>

<h3 id="capropertyanimation">1ã€CAPropertyAnimationåŠ¨ç”»</h3>

<p><img src="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/Animation_Types_Timing/Art/animations_info_2x.png" alt="" /></p>

<p>åœ¨ SDiffuseMenu ä¸­åŠ¨ç”»ç”¨ CAPropertyAnimation çš„å­ç±» CABasicAnimation å’Œ CAKeyframeAnimation æ¥å®ç°,å…³äºè¿™ä¸¤ä¸ªå­ç±»ç®€è¿°å¦‚ä¸‹:</p>

<ul>
  <li>CABasicAnimation å…¶å®å¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§ç‰¹æ®Šçš„å…³é”®å¸§åŠ¨ç”»,åªæœ‰å¤´å°¾ä¸¤ä¸ªå…³é”®å¸§,å¯å®ç°ç§»åŠ¨ã€æ—‹è½¬ã€ç¼©æ”¾ç­‰åŸºæœ¬åŠ¨ç”»;</li>
  <li>CAKeyframeAnimation åˆ™å¯ä»¥æ”¯æŒä»»æ„å¤šä¸ªå…³é”®å¸§,å…³é”®å¸§æœ‰ä¸¤ç§æ–¹å¼æ¥æŒ‡å®š,ä½¿ç”¨pathæˆ–values;</li>
  <li>
    <ul>
      <li>path å¯ä»¥æ˜¯ CGPathRefã€CGMutablePathRef æˆ–è€…è´å¡å°”æ›²çº¿,æ³¨æ„çš„æ˜¯:è®¾ç½®äº† path ä¹‹å values å°±æ— æ•ˆäº†;values åˆ™ç›¸å¯¹çµæ´», å¯ä»¥æŒ‡å®šä»»æ„å…³é”®å¸§å¸§å€¼;</li>
    </ul>
  </li>
  <li>
    <ul>
      <li>keyTimes å¯ä»¥ä¸º values ä¸­çš„å…³é”®å¸§è®¾ç½®ä¸€ä¸€å¯¹åº”å¯¹åº”çš„æ—¶é—´ç‚¹,å…¶å–å€¼èŒƒå›´ä¸º0åˆ°1.0,keyTimes æ²¡æœ‰è®¾ç½®çš„æ—¶å€™,å„ä¸ªå…³é”®å¸§çš„æ—¶é—´æ˜¯å¹³åˆ†çš„;</li>
    </ul>
  </li>
  <li>
    <ul>
      <li>..</li>
    </ul>
  </li>
</ul>

<blockquote>
  <p>æ›´å¤šçš„åŠ¨ç”»çŸ¥è¯†è¯·æˆ³æ­¤å¤„ <a href="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/CoreAnimation_guide/Introduction/Introduction.html#//apple_ref/doc/uid/TP40004514">CoreAnimation_guide</a></p>
  <blockquote>

    <p>ç›¸å…³çš„æŒ‡å—ã€ç¤ºä¾‹ä»£ç å¯ä»¥é€šè¿‡ç‚¹å‡»é¡µé¢å³ä¸Šè§’æœç´¢æŒ‰é’®è¿›è¡Œæœç´¢,å®˜æ–¹æ–‡æ¡£å¤§å¤šç‚¹åˆ°ä¸ºæ­¢,æŒºé€‚åˆå…¥é—¨å­¦ä¹ çš„,æ›´æ·±çš„è¿˜éœ€è¦åœ¨å®è·µä¸­æ‘¸ç´¢æ€»ç»“</p>
  </blockquote>
</blockquote>

<h3 id="section-7">2ã€åŠ¨ç”»åˆ†æ</h3>

<p>åœ¨ V1.1.0 ç‰ˆæœ¬ä¸­,å·²æ‰©å±•åŠ¨ç”»çš„å½¢çŠ¶:æ–°åŠ å…¥ç›´çº¿å‹,å…¶åŸç†åŠè®¡ç®—æ–¹æ³•åŒå¼§çº¿å½¢,ä¸‹æ–‡ä¸åšè¿‡å¤šä»‹ç»,è¯¦æƒ…å‚è§ç‰ˆæœ¬è®°å½•</p>

<p>ä¸è®ºå¤šä¹ˆå¤æ‚çš„åŠ¨ç”»,éƒ½æ˜¯ç”±ç®€å•çš„åŠ¨ç”»ç»„æˆçš„,å¤§å®¶å…ˆçœ‹ä¸‹ SDiffuseMenu ä¸­å•é€‰é¡¹åŠ¨ç”»ï¼š</p>

<p><img src="https://github.com/mythkiven/DiffuseMenu_Swift/blob/master/Source/singleItemAnimation.gif" alt="" /></p>

<p>ä»”ç»†åˆ†æå‘ç°å¯ä»¥å°†æ•´ä¸ªåŠ¨ç”»å¯ä»¥æ‹†åˆ†ä¸ºä¸‰å¤§éƒ¨åˆ†:</p>

<ul>
  <li>èœå•æŒ‰é’®çš„è‡ªæ—‹è½¬,é€šè¿‡ transform å±æ€§å³å¯å®ç°;</li>
  <li>é€‰é¡¹æŒ‰é’®çš„æ•´ä½“å±•å¼€åŠ¨ç”»,å®é™…æ˜¯åœ¨å®šæ—¶å™¨ä¸­ä¾æ¬¡æ·»åŠ å•ä¸ªé€‰é¡¹æŒ‰é’®çš„åŠ¨ç”»ç»„,æ§åˆ¶ timeInterval æ¥å®ç°åŠ¨ç”»çš„å…ˆåæ‰§è¡Œé¡ºåº;</li>
  <li>å•ä¸ªé€‰é¡¹æŒ‰é’®çš„åŠ¨ç”»åˆ™æ‹†åˆ†ä¸º3éƒ¨åˆ†:å±•å¼€åŠ¨ç”»ã€ç»“æŸåŠ¨ç”»å’Œç‚¹å‡»åŠ¨ç”»,éƒ½æ˜¯åŠ¨ç”»ç»„,ä¸‹è¾¹ä»¥ç»“æŸåŠ¨ç”»ä¸ºä¾‹,ç®€å•ä»‹ç»å…¶å®ç°è¿‡ç¨‹</li>
</ul>

<h4 id="section-8">2.1ã€å•ä¸ªé€‰é¡¹å…³é—­åŠ¨ç”»åˆ†æï¼š</h4>

<p>å•é€‰é¡¹æŒ‰é’®å…³é—­åŠ¨ç”»è¿‡ç¨‹å¦‚ä¸‹:</p>

<p><img src="https://ooo.0o0.ooo/2017/01/20/58817b4e6ba40.png" alt="" /></p>

<p><strong>1ã€è‡ªæ—‹</strong></p>

<p>å¤§å®¶ä»”ç»†çœ‹ä¼šå‘ç°å±•å¼€åŠ¨ç”»å’Œç»“æŸåŠ¨ç”»çš„è‡ªæ—‹è½¬æ˜¯æœ‰å·®å¼‚çš„,å› ä¸ºå…³é”®å¸§è®¾ç½®çš„ä¸åŒ</p>

<p>å±•å¼€åŠ¨ç”»ä¸­è®¾ç½®çš„å…³é”®å¸§å¦‚ä¸‹,0.1å¯¹åº”å±•å¼€è§’åº¦0Â°,0.3å¯¹åº” expandRotation è‡ªæ—‹è§’åº¦,0.4å¯¹åº”0Â°,æ‰€ä»¥åœ¨0.3 -&gt; 0.4çš„æ—¶é—´ä¼šå‡ºç°è¾ƒå¿«é€Ÿçš„è‡ªæ—‹</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="n">rotateAnimation</span><span class="o">.</span><span class="n">values</span>   <span class="o">=</span> <span class="p">[</span><span class="kt">CGFloat</span><span class="p">(</span><span class="mf">0.0</span><span class="p">),</span>
                           <span class="kt">CGFloat</span><span class="p">(</span><span class="n">expandRotation</span><span class="p">),</span>
                           <span class="kt">CGFloat</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)]</span>

<span class="n">rotateAnimation</span><span class="o">.</span><span class="n">keyTimes</span> <span class="o">=</span> <span class="p">[</span><span class="kt">NSNumber</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="mf">0.1</span> <span class="k">as</span> <span class="kt">Float</span><span class="p">),</span>
                           <span class="kt">NSNumber</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="mf">0.3</span> <span class="k">as</span> <span class="kt">Float</span><span class="p">),</span>
                           <span class="kt">NSNumber</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="mf">0.4</span> <span class="k">as</span> <span class="kt">Float</span><span class="p">)]</span>
</code></pre>
</div>

<p>è€Œå…³é—­çš„åŠ¨ç”»ä¸­,è®¾ç½®ä¸º0 -&gt; 0.4 æ…¢é€Ÿè‡ªæ—‹,0.4 -&gt; 0.5 å¿«é€Ÿè‡ªæ—‹</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="n">rotateAnimation</span><span class="o">.</span><span class="n">values</span>   <span class="o">=</span> <span class="p">[</span><span class="kt">CGFloat</span><span class="p">(</span><span class="mf">0.0</span><span class="p">),</span>
                           <span class="kt">CGFloat</span><span class="p">(</span><span class="n">closeRotation</span><span class="p">),</span>
                           <span class="kt">CGFloat</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)]</span>

<span class="n">rotateAnimation</span><span class="o">.</span><span class="n">keyTimes</span> <span class="o">=</span> <span class="p">[</span><span class="kt">NSNumber</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="mf">0.0</span> <span class="k">as</span> <span class="kt">Float</span><span class="p">),</span>
                           <span class="kt">NSNumber</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="mf">0.4</span> <span class="k">as</span> <span class="kt">Float</span><span class="p">),</span>
                           <span class="kt">NSNumber</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="mf">0.5</span> <span class="k">as</span> <span class="kt">Float</span><span class="p">)]</span>
</code></pre>
</div>

<p><strong>2ã€ç§»åŠ¨</strong></p>

<p>ç§»åŠ¨çš„æ§åˆ¶åœ¨äº path æ˜¯æ€æ ·è®¾å®šçš„,ä»£ç ä¸­æˆ‘å†™äº†ä¸¤ç§æ–¹æ³•,å…¶ä¸­ä¸€ç§è¢«æ³¨é‡Šæ‰</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">positionAnimation</span>      <span class="o">=</span>  <span class="kt">CAKeyframeAnimation</span><span class="p">(</span><span class="nv">keyPath</span><span class="p">:</span> <span class="s">"position"</span><span class="p">)</span>
<span class="n">positionAnimation</span><span class="o">.</span><span class="n">duration</span> <span class="o">=</span> <span class="n">animationDuration</span>
</code></pre>
</div>

<p>1)\ä½¿ç”¨è´å¡å°”æ›²çº¿ä½œä¸º path,ä»ä»£ç ä¸­å¯ä»¥æ˜æ˜¾çš„çœ‹å‡ºç§»åŠ¨çš„è·¯å¾„: endPoint -&gt; farPoint -&gt; startPoint</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">path</span> <span class="o">=</span> <span class="kt">UIBezierPath</span><span class="o">.</span><span class="nf">init</span><span class="p">()</span>
<span class="n">path</span><span class="o">.</span><span class="nf">move</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="kt">CGPoint</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="n">item</span><span class="o">.</span><span class="n">endPoint</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="nv">y</span><span class="p">:</span> <span class="n">item</span><span class="o">.</span><span class="n">endPoint</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>
<span class="n">path</span><span class="o">.</span><span class="nf">addLine</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="kt">CGPoint</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="n">item</span><span class="o">.</span><span class="n">farPoint</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="nv">y</span><span class="p">:</span> <span class="n">item</span><span class="o">.</span><span class="n">farPoint</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>
<span class="n">path</span><span class="o">.</span><span class="nf">addLine</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="kt">CGPoint</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="n">item</span><span class="o">.</span><span class="n">startPoint</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="nv">y</span><span class="p">:</span> <span class="n">item</span><span class="o">.</span><span class="n">startPoint</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>
<span class="n">positionAnimation</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">cgPath</span>
</code></pre>
</div>

<p>2)\ä½¿ç”¨ CGPathRef æˆ– GCMutablePathRef è®¾ç½®è·¯å¾„</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">path</span> <span class="o">=</span>  <span class="kt">CGMutablePath</span><span class="p">()</span>
<span class="n">path</span><span class="o">.</span><span class="nf">move</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="kt">CGPoint</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="n">item</span><span class="o">.</span><span class="n">endPoint</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="nv">y</span><span class="p">:</span> <span class="n">item</span><span class="o">.</span><span class="n">endPoint</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>
<span class="n">path</span><span class="o">.</span><span class="nf">addLine</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="kt">CGPoint</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="n">item</span><span class="o">.</span><span class="n">farPoint</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="nv">y</span><span class="p">:</span> <span class="n">item</span><span class="o">.</span><span class="n">farPoint</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>
<span class="n">path</span><span class="o">.</span><span class="nf">addLine</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="kt">CGPoint</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="n">item</span><span class="o">.</span><span class="n">startPoint</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="nv">y</span><span class="p">:</span> <span class="n">item</span><span class="o">.</span><span class="n">startPoint</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>
<span class="n">positionAnimation</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">path</span>
</code></pre>
</div>

<p>è‡ªæ—‹å’Œå¹³ç§»éƒ½æœ‰äº†,æ¥ä¸‹æ¥è¦åŠ å…¥åˆ°åŠ¨ç”»ç»„ä¸­ï¼š</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">animationgroup</span>              <span class="o">=</span>  <span class="kt">CAAnimationGroup</span><span class="p">()</span>
<span class="n">animationgroup</span><span class="o">.</span><span class="n">animations</span>       <span class="o">=</span> <span class="p">[</span><span class="n">positionAnimation</span><span class="p">,</span> <span class="n">rotateAnimation</span><span class="p">]</span>
<span class="n">animationgroup</span><span class="o">.</span><span class="n">duration</span>         <span class="o">=</span> <span class="n">animationDuration</span>
<span class="c1">// åŠ¨ç”»ç»“æŸå,layerä¿æŒæœ€ç»ˆçš„çŠ¶æ€</span>
<span class="n">animationgroup</span><span class="o">.</span><span class="n">fillMode</span>         <span class="o">=</span> <span class="n">kCAFillModeForwards</span>
<span class="c1">// é€Ÿåº¦æ§åˆ¶æˆ‘è®¾ç½®çš„å¦‚æ­¤,å¤§å®¶æ ¹æ®éœ€è¦è‡ªè¡Œä¿®æ”¹å³å¯</span>
<span class="n">animationgroup</span><span class="o">.</span><span class="n">timingFunction</span>   <span class="o">=</span> <span class="kt">CAMediaTimingFunction</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span><span class="n">kCAMediaTimingFunctionEaseIn</span><span class="p">)</span>
<span class="c1">// ä»£ç†æ˜¯ä¸ºäº†è·å–åˆ°åŠ¨ç”»ç»“æŸçš„ä¿¡å·</span>
<span class="n">animationgroup</span><span class="o">.</span><span class="n">delegate</span>         <span class="o">=</span> <span class="k">self</span>
</code></pre>
</div>

<p>æœ€æ·»åŠ è¿› layer å³å¯</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="n">item</span><span class="o">.</span><span class="n">layer</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">animationgroup</span><span class="p">,</span><span class="nv">forKey</span><span class="p">:</span> <span class="s">"Close"</span><span class="p">)</span>
</code></pre>
</div>
<p>å…¶ä½™çš„åŠ¨ç”»åŸç†å’Œä¸Šè¿°çš„å…³é—­åŠ¨ç”»å…¶å®æ˜¯ä¸€æ ·çš„,åŸºäºå±æ€§çš„åŠ¨ç”»,é€šè¿‡æ“ä½œå¸§æ¥å®ç°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœ,å°ä¼™ä¼´ä»¬ç›´æ¥çœ‹ä»£ç å§~</p>

<h4 id="section-9">2.2ã€æ•´ä½“åŠ¨ç”»çš„æ§åˆ¶</h4>

<p>æ³¨æ„,æ•´ä½“åŠ¨ç”»çš„æ§åˆ¶ä»¥ä¸Šå¹¶æœªè¡¨è¿°,åœ¨è¿™ä¸ªåœ°æ–¹ä¹Ÿéœ€è¦æ³¨æ„ä¸‹,ä¸ºäº†è®©æ•´ä½“åŠ¨ç”»åœ¨ä¸€ä¸ªåˆé€‚çš„è§’åº¦å±•ç¤ºå‡ºæ¥,å°±éœ€è¦ä»æ•´ä½“ä¸Šæ§åˆ¶è§’åº¦</p>

<p><img src="https://ooo.0o0.ooo/2017/01/16/587c8c512c911.png" alt="" />
<img src="https://ooo.0o0.ooo/2017/01/16/587c8c7530072.png" alt="" />
<img src="https://ooo.0o0.ooo/2017/01/16/587c8c8635998.png" alt="" /></p>

<p>ä»ä¸Šå›¾ä¸­å¯ä»¥çœ‹å‡º,æ•´ä½“çš„è§’åº¦æ˜¯ç”± menuWholeAngle å’Œ rotateAngle å…±åŒæ§åˆ¶çš„</p>

<ul>
  <li>menuWholeAngle: æ§åˆ¶æ•´ä½“åŠ¨ç”»çš„èŒƒå›´è§’åº¦;</li>
  <li>rotateAngle: ç”¨äºæ§åˆ¶æ•´ä½“çš„åç§»è§’åº¦</li>
</ul>


                </div>
                <div class="read-all">
                    <a  href="/2017/01/18/SDiffuseMenu/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2016/12/11/swift_X_Initialization_Deinitialization/">Swift3.0_X_æ„é€ è¿‡ç¨‹å’Œææ„è¿‡ç¨‹ </a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2016-12-11
                    </div>
                    <div class="label-card">
                        <i class="fa fa-user"></i>3è¡Œä»£ç 
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">â€¢</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#Swift3.0" title="Category: Swift3.0" rel="category">Swift3.0</a>
    
  

  <!-- <span class="point">â€¢</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">â€¢</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#Swift3.0" title="Tag: Swift3.0" rel="tag">Swift3.0</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#section" id="markdown-toc-section">æ„é€ è¿‡ç¨‹</a>    <ul>
      <li><a href="#section-1" id="markdown-toc-section-1">å­˜å‚¨å±æ€§çš„åˆå§‹èµ‹å€¼</a></li>
      <li><a href="#section-2" id="markdown-toc-section-2">è‡ªå®šä¹‰æ„é€ è¿‡ç¨‹</a></li>
      <li><a href="#section-3" id="markdown-toc-section-3">é»˜è®¤æ„é€ å™¨</a></li>
    </ul>
  </li>
</ul>

<h1 id="section">æ„é€ è¿‡ç¨‹</h1>

<ul>
  <li>æ„é€ è¿‡ç¨‹æ˜¯ä½¿ç”¨ç±»ã€ç»“æ„ä½“æˆ–æšä¸¾ç±»å‹çš„å®ä¾‹ä¹‹å‰çš„å‡†å¤‡è¿‡ç¨‹ï¼›</li>
  <li>é€šè¿‡å®šä¹‰æ„é€ å™¨æ¥å®ç°æ„é€ è¿‡ç¨‹ï¼Œè¿™äº›æ„é€ å™¨å¯ä»¥çœ‹åšæ˜¯ç”¨æ¥åˆ›å»ºç‰¹å®šç±»å‹æ–°å®ä¾‹çš„ç‰¹æ®Šæ–¹æ³•ï¼›</li>
  <li>ä¸OCä¸­çš„æ„é€ å™¨ä¸åŒï¼ŒSwiftçš„æ„é€ å™¨æ— éœ€è¿”å›å€¼ï¼Œå®ƒä»¬çš„ä¸»è¦ä»»åŠ¡æ˜¯ä¿è¯æ–°å®ä¾‹åœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨å‰å®Œæˆæ­£ç¡®çš„åˆå§‹åŒ–ï¼›</li>
  <li>ç±»çš„å®ä¾‹ä¹Ÿå¯ä»¥é€šè¿‡å®šä¹‰ææ„å™¨åœ¨å®ä¾‹é‡Šæ”¾ä¹‹å‰æ‰§è¡Œç‰¹å®šçš„æ¸…é™¤å·¥ä½œ</li>
</ul>

<h3 id="section-1">å­˜å‚¨å±æ€§çš„åˆå§‹èµ‹å€¼</h3>

<ul>
  <li>ç±»å’Œç»“æ„ä½“åœ¨åˆ›å»ºå®ä¾‹æ—¶ï¼Œå¿…é¡»ä¸ºæ‰€æœ‰å­˜å‚¨å‹å±æ€§è®¾ç½®åˆé€‚çš„åˆå§‹å€¼ï¼›</li>
  <li>å¯ä»¥åœ¨æ„é€ å™¨ä¸­ä¸ºå­˜å‚¨å‹å±æ€§èµ‹åˆå€¼ï¼Œä¹Ÿå¯ä»¥åœ¨å®šä¹‰å±æ€§æ—¶ä¸ºå…¶è®¾ç½®é»˜è®¤å€¼ï¼›</li>
  <li>å½“ä¸ºå­˜å‚¨å‹å±æ€§è®¾ç½®é»˜è®¤å€¼æˆ–è€…åœ¨æ„é€ å™¨ä¸­ä¸ºå…¶èµ‹å€¼æ—¶ï¼Œå®ƒä»¬çš„å€¼æ˜¯è¢«ç›´æ¥è®¾ç½®çš„ï¼Œä¸ä¼šè§¦å‘ä»»ä½•å±æ€§è§‚å¯Ÿè€…</li>
</ul>

<p>1ã€æ„é€ å™¨</p>

<p>ä»¥å…³é”®å­—initå‘½åï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// åœ¨æ­¤å¤„æ‰§è¡Œæ„é€ è¿‡ç¨‹</span>
<span class="p">}</span>
</code></pre>
</div>

<p>æ¡ˆä¾‹ï¼š</p>

<p>è¿™ä¸ªç»“æ„ä½“å®šä¹‰äº†ä¸€ä¸ªä¸å¸¦å‚æ•°çš„æ„é€ å™¨initï¼Œå¹¶åœ¨é‡Œé¢å°†å­˜å‚¨å‹å±æ€§temperatureçš„å€¼åˆå§‹åŒ–ä¸º32.0</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="c1">// ä¿å­˜åæ°æ¸©åº¦çš„ç»“æ„ä½“Fahrenheit</span>
<span class="kd">struct</span> <span class="kt">Fahrenheit</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">temperature</span><span class="p">:</span> <span class="kt">Double</span>
    <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">temperature</span> <span class="o">=</span> <span class="mf">32.0</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">var</span> <span class="nv">f</span> <span class="o">=</span> <span class="kt">Fahrenheit</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"The default temperature is </span><span class="se">\(</span><span class="n">f</span><span class="o">.</span><span class="n">temperature</span><span class="se">)</span><span class="s">Â° Fahrenheit"</span><span class="p">)</span>
<span class="c1">// æ‰“å° "The default temperature is 32.0Â° Fahrenheitâ€</span>
</code></pre>
</div>

<p>2ã€é»˜è®¤å±æ€§å€¼</p>

<p>å¦‚å‰æ‰€è¿°ï¼Œå¯ä»¥åœ¨æ„é€ å™¨ä¸­ä¸ºå­˜å‚¨å‹å±æ€§è®¾ç½®åˆå§‹å€¼ã€‚åŒæ ·ï¼Œä¹Ÿå¯ä»¥åœ¨å±æ€§å£°æ˜æ—¶ä¸ºå…¶è®¾ç½®é»˜è®¤å€¼</p>

<p>æ³¨æ„ï¼šå¦‚æœä¸€ä¸ªå±æ€§æ€»æ˜¯ä½¿ç”¨ç›¸åŒçš„åˆå§‹å€¼ï¼Œé‚£ä¹ˆä¸ºå…¶è®¾ç½®ä¸€ä¸ªé»˜è®¤å€¼æ¯”æ¯æ¬¡éƒ½åœ¨æ„é€ å™¨ä¸­èµ‹å€¼è¦å¥½ã€‚ä¸¤ç§æ–¹æ³•çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡ä½¿ç”¨é»˜è®¤å€¼è®©å±æ€§çš„åˆå§‹åŒ–å’Œå£°æ˜ç»“åˆå¾—æ›´ç´§å¯†ã€‚ä½¿ç”¨é»˜è®¤å€¼èƒ½è®©æ„é€ å™¨æ›´ç®€æ´ã€æ›´æ¸…æ™°ï¼Œä¸”èƒ½é€šè¿‡é»˜è®¤å€¼è‡ªåŠ¨æ¨å¯¼å‡ºå±æ€§çš„ç±»å‹ï¼›åŒæ—¶ï¼Œå®ƒä¹Ÿèƒ½å……åˆ†åˆ©ç”¨é»˜è®¤æ„é€ å™¨ã€æ„é€ å™¨ç»§æ‰¿ç­‰ç‰¹æ€§ï¼Œåç»­ç« èŠ‚å°†è®²åˆ°ã€‚</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="c1">// å¯ä»¥ä½¿ç”¨æ›´ç®€å•çš„æ–¹å¼åœ¨å®šä¹‰ç»“æ„ä½“Fahrenheitæ—¶ä¸ºå±æ€§temperatureè®¾ç½®é»˜è®¤å€¼ï¼š</span>
<span class="kd">struct</span> <span class="kt">Fahrenheit</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">temperature</span> <span class="o">=</span> <span class="mf">32.0</span>
<span class="p">}</span>
</code></pre>
</div>

<h3 id="section-2">è‡ªå®šä¹‰æ„é€ è¿‡ç¨‹</h3>

<p>å¯ä»¥é€šè¿‡è¾“å…¥å‚æ•°å’Œå¯é€‰ç±»å‹çš„å±æ€§æ¥è‡ªå®šä¹‰æ„é€ è¿‡ç¨‹ï¼Œä¹Ÿå¯ä»¥åœ¨æ„é€ è¿‡ç¨‹ä¸­ä¿®æ”¹å¸¸é‡å±æ€§ã€‚</p>

<p>1ã€æ„é€ å‚æ•°ï¼š</p>

<p>è‡ªå®šä¹‰æ„é€ è¿‡ç¨‹æ—¶ï¼Œå¯ä»¥åœ¨å®šä¹‰ä¸­æä¾›æ„é€ å‚æ•°ï¼ŒæŒ‡å®šæ‰€éœ€å€¼çš„ç±»å‹å’Œåå­—ã€‚</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="c1">// é¢ä¾‹å­ä¸­å®šä¹‰äº†ä¸€ä¸ªåŒ…å«æ‘„æ°åº¦æ¸©åº¦çš„ç»“æ„ä½“Celsiusã€‚å®ƒå®šä¹‰äº†ä¸¤ä¸ªä¸åŒçš„æ„é€ å™¨ï¼šinit(fromFahrenheit:)å’Œinit(fromKelvin:)ï¼ŒäºŒè€…åˆ†åˆ«é€šè¿‡æ¥å—ä¸åŒæ¸©æ ‡ä¸‹çš„æ¸©åº¦å€¼æ¥åˆ›å»ºæ–°çš„å®ä¾‹ï¼š</span>

<span class="kd">struct</span> <span class="kt">Celsius</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">temperatureInCelsius</span><span class="p">:</span> <span class="kt">Double</span>
    <span class="c1">// æ„é€ å‚æ•°ï¼Œå…¶å¤–éƒ¨åå­—ä¸ºfromFahrenheit,å†…éƒ¨åå­—ä¸ºfahrenheit</span>
    <span class="nf">init</span><span class="p">(</span><span class="n">fromFahrenheit</span> <span class="nv">fahrenheit</span><span class="p">:</span> <span class="kt">Double</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">temperatureInCelsius</span> <span class="o">=</span> <span class="p">(</span><span class="n">fahrenheit</span> <span class="o">-</span> <span class="mf">32.0</span><span class="p">)</span> <span class="o">/</span> <span class="mf">1.8</span>
    <span class="p">}</span>
    <span class="c1">// æ„é€ å‚æ•°ï¼Œå…¶å¤–éƒ¨åå­—ä¸ºfromKelvinï¼Œå†…éƒ¨åå­—ä¸ºkelvin</span>
    <span class="nf">init</span><span class="p">(</span><span class="n">fromKelvin</span> <span class="nv">kelvin</span><span class="p">:</span> <span class="kt">Double</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">temperatureInCelsius</span> <span class="o">=</span> <span class="n">kelvin</span> <span class="o">-</span> <span class="mf">273.15</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">let</span> <span class="nv">boilingPointOfWater</span> <span class="o">=</span> <span class="kt">Celsius</span><span class="p">(</span><span class="nv">fromFahrenheit</span><span class="p">:</span> <span class="mf">212.0</span><span class="p">)</span>
<span class="c1">// boilingPointOfWater.temperatureInCelsius æ˜¯ 100.0</span>
<span class="k">let</span> <span class="nv">freezingPointOfWater</span> <span class="o">=</span> <span class="kt">Celsius</span><span class="p">(</span><span class="nv">fromKelvin</span><span class="p">:</span> <span class="mf">273.15</span><span class="p">)</span>
<span class="c1">// freezingPointOfWater.temperatureInCelsius æ˜¯ 0.0</span>
</code></pre>
</div>

<p>2ã€å‚æ•°çš„å†…éƒ¨åç§°å’Œå¤–éƒ¨åç§°ï¼š</p>

<p>è·Ÿå‡½æ•°å’Œæ–¹æ³•å‚æ•°ç›¸åŒï¼Œæ„é€ å‚æ•°ä¹Ÿæ‹¥æœ‰ä¸€ä¸ªåœ¨æ„é€ å™¨å†…éƒ¨ä½¿ç”¨çš„å‚æ•°åå­—å’Œä¸€ä¸ªåœ¨è°ƒç”¨æ„é€ å™¨æ—¶ä½¿ç”¨çš„å¤–éƒ¨å‚æ•°åå­—ã€‚</p>

<p>å½“ä¸­æœ‰å¤šä¸ªæ„é€ å™¨æ—¶ï¼Œéœ€è¦é€šè¿‡å¤–éƒ¨åç§°æ¥è¯†åˆ«ä¸åŒçš„æ„é€ å™¨ï¼šåœ¨è°ƒç”¨æ„é€ å™¨æ—¶ï¼Œä¸»è¦é€šè¿‡æ„é€ å™¨ä¸­çš„å‚æ•°åå’Œç±»å‹æ¥ç¡®å®šåº”è¯¥è¢«è°ƒç”¨çš„æ„é€ å™¨ã€‚æ­£å› ä¸ºå‚æ•°å¦‚æ­¤é‡è¦ï¼Œå¦‚æœä½ åœ¨å®šä¹‰æ„é€ å™¨æ—¶æ²¡æœ‰æä¾›å‚æ•°çš„å¤–éƒ¨åå­—ï¼ŒSwift ä¼šä¸ºæ„é€ å™¨çš„æ¯ä¸ªå‚æ•°è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªè·Ÿå†…éƒ¨åå­—ç›¸åŒçš„å¤–éƒ¨åã€‚</p>

<p>ä»¥ä¸‹ä¾‹å­ä¸­å®šä¹‰äº†ä¸€ä¸ªç»“æ„ä½“Colorï¼Œå®ƒåŒ…å«äº†ä¸‰ä¸ªå¸¸é‡ï¼šredã€greenå’Œblueã€‚è¿™äº›å±æ€§å¯ä»¥å­˜å‚¨0.0åˆ°1.0ä¹‹é—´çš„å€¼ï¼Œç”¨æ¥æŒ‡ç¤ºé¢œè‰²ä¸­çº¢ã€ç»¿ã€è“æˆåˆ†çš„å«é‡ã€‚</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="c1">// Coloræä¾›äº†ä¸€ä¸ªæ„é€ å™¨ï¼Œå…¶ä¸­åŒ…å«ä¸‰ä¸ªDoubleç±»å‹çš„æ„é€ å‚æ•°ã€‚Colorä¹Ÿå¯ä»¥æä¾›ç¬¬äºŒä¸ªæ„é€ å™¨ï¼Œå®ƒåªåŒ…å«åä¸ºwhiteçš„Doubleç±»å‹çš„å‚æ•°ï¼Œå®ƒè¢«ç”¨äºç»™ä¸Šè¿°ä¸‰ä¸ªæ„é€ å‚æ•°èµ‹äºˆåŒæ ·çš„å€¼ã€‚</span>

<span class="kd">struct</span> <span class="kt">Color</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">red</span><span class="p">,</span> <span class="n">green</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="kt">Double</span>
    <span class="nf">init</span><span class="p">(</span><span class="nv">red</span><span class="p">:</span> <span class="kt">Double</span><span class="p">,</span> <span class="nv">green</span><span class="p">:</span> <span class="kt">Double</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="kt">Double</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">red</span>   <span class="o">=</span> <span class="n">red</span>
        <span class="k">self</span><span class="o">.</span><span class="n">green</span> <span class="o">=</span> <span class="n">green</span>
        <span class="k">self</span><span class="o">.</span><span class="n">blue</span>  <span class="o">=</span> <span class="n">blue</span>
    <span class="p">}</span>
    <span class="nf">init</span><span class="p">(</span><span class="nv">white</span><span class="p">:</span> <span class="kt">Double</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">red</span>   <span class="o">=</span> <span class="n">white</span>
        <span class="n">green</span> <span class="o">=</span> <span class="n">white</span>
        <span class="n">blue</span>  <span class="o">=</span> <span class="n">white</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>ä¸¤ç§æ„é€ å™¨éƒ½èƒ½ç”¨äºåˆ›å»ºä¸€ä¸ªæ–°çš„Colorå®ä¾‹ï¼Œä½ éœ€è¦ä¸ºæ„é€ å™¨æ¯ä¸ªå¤–éƒ¨å‚æ•°ä¼ å€¼ï¼š</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">magenta</span> <span class="o">=</span> <span class="kt">Color</span><span class="p">(</span><span class="nv">red</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="nv">green</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">halfGray</span> <span class="o">=</span> <span class="kt">Color</span><span class="p">(</span><span class="nv">white</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">)</span>
</code></pre>
</div>
<p>æ³¨æ„ï¼Œå¦‚æœä¸é€šè¿‡å¤–éƒ¨å‚æ•°åå­—ä¼ å€¼ï¼Œä½ æ˜¯æ²¡æ³•è°ƒç”¨è¿™ä¸ªæ„é€ å™¨çš„ã€‚åªè¦æ„é€ å™¨å®šä¹‰äº†æŸä¸ªå¤–éƒ¨å‚æ•°åï¼Œä½ å°±å¿…é¡»ä½¿ç”¨å®ƒï¼Œå¿½ç•¥å®ƒå°†å¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼š</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">veryGreen</span> <span class="o">=</span> <span class="kt">Color</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="c1">// æŠ¥ç¼–è¯‘æ—¶é”™è¯¯ï¼Œéœ€è¦å¤–éƒ¨åç§°</span>
</code></pre>
</div>

<p>3ã€ä¸å¸¦å¤–éƒ¨åçš„æ„é€ å™¨å‚æ•°ï¼š</p>

<p>å¦‚æœä½ ä¸å¸Œæœ›ä¸ºæ„é€ å™¨çš„æŸä¸ªå‚æ•°æä¾›å¤–éƒ¨åå­—ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿(_)æ¥æ˜¾å¼æè¿°å®ƒçš„å¤–éƒ¨åï¼Œä»¥æ­¤é‡å†™ä¸Šé¢æ‰€è¯´çš„é»˜è®¤è¡Œä¸ºã€‚</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="n">ä¸‹é¢æ˜¯ä¹‹å‰Celsiusä¾‹å­çš„æ‰©å±•</span><span class="err">ï¼Œ</span><span class="n">è·Ÿä¹‹å‰ç›¸æ¯”æ·»åŠ äº†ä¸€ä¸ªå¸¦æœ‰Doubleç±»å‹å‚æ•°çš„æ„é€ å™¨</span><span class="err">ï¼Œ</span><span class="n">å…¶å¤–éƒ¨åç”¨_ä»£æ›¿</span><span class="err">ï¼š</span>

<span class="kd">struct</span> <span class="kt">Celsius</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">temperatureInCelsius</span><span class="p">:</span> <span class="kt">Double</span>
    <span class="nf">init</span><span class="p">(</span><span class="n">fromFahrenheit</span> <span class="nv">fahrenheit</span><span class="p">:</span> <span class="kt">Double</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">temperatureInCelsius</span> <span class="o">=</span> <span class="p">(</span><span class="n">fahrenheit</span> <span class="o">-</span> <span class="mf">32.0</span><span class="p">)</span> <span class="o">/</span> <span class="mf">1.8</span>
    <span class="p">}</span>
    <span class="nf">init</span><span class="p">(</span><span class="n">fromKelvin</span> <span class="nv">kelvin</span><span class="p">:</span> <span class="kt">Double</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">temperatureInCelsius</span> <span class="o">=</span> <span class="n">kelvin</span> <span class="o">-</span> <span class="mf">273.15</span>
    <span class="p">}</span>
    <span class="nf">init</span><span class="p">(</span><span class="n">_</span> <span class="nv">celsius</span><span class="p">:</span> <span class="kt">Double</span><span class="p">){</span>
        <span class="n">temperatureInCelsius</span> <span class="o">=</span> <span class="n">celsius</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">let</span> <span class="nv">bodyTemperature</span> <span class="o">=</span> <span class="kt">Celsius</span><span class="p">(</span><span class="mf">37.0</span><span class="p">)</span>
<span class="c1">// bodyTemperature.temperatureInCelsius ä¸º 37.0</span>
<span class="c1">// è°ƒç”¨Celsius(37.0)æ„å›¾æ˜ç¡®ï¼Œä¸éœ€è¦å¤–éƒ¨å‚æ•°åç§°ã€‚</span>
</code></pre>
</div>

<p>4ã€å¯é€‰å±æ€§ç±»å‹</p>

<p>å¦‚æœå®šåˆ¶çš„ç±»å‹åŒ…å«ä¸€ä¸ªé€»è¾‘ä¸Šå…è®¸å–å€¼ä¸ºç©ºçš„å­˜å‚¨å‹å±æ€§â€”â€”æ— è®ºæ˜¯å› ä¸ºå®ƒæ— æ³•åœ¨åˆå§‹åŒ–æ—¶èµ‹å€¼ï¼Œè¿˜æ˜¯å› ä¸ºå®ƒåœ¨ä¹‹åæŸä¸ªæ—¶é—´ç‚¹å¯ä»¥èµ‹å€¼ä¸ºç©ºâ€”â€”ä½ éƒ½éœ€è¦å°†å®ƒå®šä¹‰ä¸ºå¯é€‰ç±»å‹ã€‚å¯é€‰ç±»å‹çš„å±æ€§å°†è‡ªåŠ¨åˆå§‹åŒ–ä¸ºnilï¼Œè¡¨ç¤ºè¿™ä¸ªå±æ€§æ˜¯æœ‰æ„åœ¨åˆå§‹åŒ–æ—¶è®¾ç½®ä¸ºç©ºçš„ã€‚</p>

<p>ä¸‹é¢ä¾‹å­ä¸­å®šä¹‰äº†ç±»SurveyQuestionï¼Œå®ƒåŒ…å«ä¸€ä¸ªå¯é€‰å­—ç¬¦ä¸²å±æ€§responseï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">SurveyQuestion</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">text</span><span class="p">:</span> <span class="kt">String</span>
    <span class="k">var</span> <span class="nv">response</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span>
    <span class="nf">init</span><span class="p">(</span><span class="nv">text</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">text</span>
    <span class="p">}</span>
    <span class="kd">func</span> <span class="nf">ask</span><span class="p">()</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">let</span> <span class="nv">cheeseQuestion</span> <span class="o">=</span> <span class="kt">SurveyQuestion</span><span class="p">(</span><span class="nv">text</span><span class="p">:</span> <span class="s">"Do you like cheese?"</span><span class="p">)</span>
<span class="n">cheeseQuestion</span><span class="o">.</span><span class="nf">ask</span><span class="p">()</span>
<span class="c1">// æ‰“å° "Do you like cheese?"</span>
<span class="n">cheeseQuestion</span><span class="o">.</span><span class="n">response</span> <span class="o">=</span> <span class="s">"Yes, I do like cheese."</span>

<span class="c1">// è°ƒæŸ¥é—®é¢˜çš„ç­”æ¡ˆåœ¨å›ç­”å‰æ˜¯æ— æ³•ç¡®å®šçš„ï¼Œå› æ­¤æˆ‘ä»¬å°†å±æ€§responseå£°æ˜ä¸ºString?ç±»å‹ï¼Œæˆ–è€…è¯´æ˜¯å¯é€‰å­—ç¬¦ä¸²ç±»å‹ã€‚å½“SurveyQuestionå®ä¾‹åŒ–æ—¶ï¼Œå®ƒå°†è‡ªåŠ¨èµ‹å€¼ä¸ºnilï¼Œè¡¨æ˜æ­¤å­—ç¬¦ä¸²æš‚æ—¶è¿˜æ²¡æœ‰å€¼ã€‚</span>
</code></pre>
</div>

<p>5ã€æ„é€ è¿‡ç¨‹ä¸­å¸¸é‡å±æ€§çš„ä¿®æ”¹</p>

<p>ä½ å¯ä»¥åœ¨æ„é€ è¿‡ç¨‹ä¸­çš„ä»»æ„æ—¶é—´ç‚¹ç»™å¸¸é‡å±æ€§æŒ‡å®šä¸€ä¸ªå€¼ï¼Œåªè¦åœ¨æ„é€ è¿‡ç¨‹ç»“æŸæ—¶æ˜¯ä¸€ä¸ªç¡®å®šçš„å€¼ã€‚ä¸€æ—¦å¸¸é‡å±æ€§è¢«èµ‹å€¼ï¼Œå®ƒå°†æ°¸è¿œä¸å¯æ›´æ”¹ã€‚</p>

<p>æ³¨æ„ï¼šå¯¹äºç±»çš„å®ä¾‹æ¥è¯´ï¼Œå®ƒçš„å¸¸é‡å±æ€§åªèƒ½åœ¨å®šä¹‰å®ƒçš„ç±»çš„æ„é€ è¿‡ç¨‹ä¸­ä¿®æ”¹ï¼›ä¸èƒ½åœ¨å­ç±»ä¸­ä¿®æ”¹ã€‚</p>

<h3 id="section-3">é»˜è®¤æ„é€ å™¨</h3>

<p>å¦‚æœç»“æ„ä½“æˆ–ç±»çš„æ‰€æœ‰å±æ€§éƒ½æœ‰é»˜è®¤å€¼ï¼ŒåŒæ—¶æ²¡æœ‰è‡ªå®šä¹‰çš„æ„é€ å™¨ï¼Œé‚£ä¹ˆ Swift ä¼šç»™è¿™äº›ç»“æ„ä½“æˆ–ç±»æä¾›ä¸€ä¸ªé»˜è®¤æ„é€ å™¨ã€‚è¿™ä¸ªé»˜è®¤æ„é€ å™¨å°†ç®€å•åœ°åˆ›å»ºä¸€ä¸ªæ‰€æœ‰å±æ€§å€¼éƒ½è®¾ç½®ä¸ºé»˜è®¤å€¼çš„å®ä¾‹ã€‚</p>

<p>æ¡ˆä¾‹:ä¸‹é¢ä¾‹å­ä¸­åˆ›å»ºäº†ä¸€ä¸ªç±»ShoppingListItemï¼Œå®ƒå°è£…äº†è´­ç‰©æ¸…å•ä¸­çš„æŸä¸€ç‰©å“çš„å±æ€§ï¼šåå­—ï¼ˆnameï¼‰ã€æ•°é‡ï¼ˆquantityï¼‰å’Œè´­ä¹°çŠ¶æ€ purchase stateï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">ShoppingListItem</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">name</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span>
    <span class="k">var</span> <span class="nv">quantity</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">var</span> <span class="nv">purchased</span> <span class="o">=</span> <span class="kc">false</span>
<span class="p">}</span>
<span class="k">var</span> <span class="nv">item</span> <span class="o">=</span> <span class="kt">ShoppingListItem</span><span class="p">()</span>
</code></pre>
</div>
<p>ç”±äºShoppingListItemç±»ä¸­çš„æ‰€æœ‰å±æ€§éƒ½æœ‰é»˜è®¤å€¼ï¼Œä¸”å®ƒæ˜¯æ²¡æœ‰çˆ¶ç±»çš„åŸºç±»ï¼Œå®ƒå°†è‡ªåŠ¨è·å¾—ä¸€ä¸ªå¯ä»¥ä¸ºæ‰€æœ‰å±æ€§è®¾ç½®é»˜è®¤å€¼çš„é»˜è®¤æ„é€ å™¨ï¼ˆå°½ç®¡ä»£ç ä¸­æ²¡æœ‰æ˜¾å¼ä¸ºnameå±æ€§è®¾ç½®é»˜è®¤å€¼ï¼Œä½†ç”±äºnameæ˜¯å¯é€‰å­—ç¬¦ä¸²ç±»å‹ï¼Œå®ƒå°†é»˜è®¤è®¾ç½®ä¸ºnilï¼‰ã€‚ä¸Šé¢ä¾‹å­ä¸­ä½¿ç”¨é»˜è®¤æ„é€ å™¨åˆ›é€ äº†ä¸€ä¸ªShoppingListItemç±»çš„å®ä¾‹ï¼ˆä½¿ç”¨ShoppingListItem()å½¢å¼çš„æ„é€ å™¨è¯­æ³•ï¼‰ï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™å˜é‡itemã€‚</p>

<p>2ã€ç»“æ„ä½“çš„é€ä¸€æˆå‘˜æ„é€ å™¨</p>

<p>é™¤äº†ä¸Šé¢æåˆ°çš„é»˜è®¤æ„é€ å™¨ï¼Œå¦‚æœç»“æ„ä½“æ²¡æœ‰æä¾›è‡ªå®šä¹‰çš„æ„é€ å™¨ï¼Œå®ƒä»¬å°†è‡ªåŠ¨è·å¾—ä¸€ä¸ªé€ä¸€æˆå‘˜æ„é€ å™¨ï¼Œå³ä½¿ç»“æ„ä½“çš„å­˜å‚¨å‹å±æ€§æ²¡æœ‰é»˜è®¤å€¼ã€‚</p>

<p>é€ä¸€æˆå‘˜æ„é€ å™¨æ˜¯ç”¨æ¥åˆå§‹åŒ–ç»“æ„ä½“æ–°å®ä¾‹é‡Œæˆå‘˜å±æ€§çš„å¿«æ·æ–¹æ³•ã€‚æˆ‘ä»¬åœ¨è°ƒç”¨é€ä¸€æˆå‘˜æ„é€ å™¨æ—¶ï¼Œé€šè¿‡ä¸æˆå‘˜å±æ€§åç›¸åŒçš„å‚æ•°åè¿›è¡Œä¼ å€¼æ¥å®Œæˆå¯¹æˆå‘˜å±æ€§çš„åˆå§‹èµ‹å€¼ã€‚</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="c1">// ç»“æ„ä½“Sizeè‡ªåŠ¨è·å¾—äº†ä¸€ä¸ªé€ä¸€æˆå‘˜æ„é€ å™¨init(width:height:)ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥ä¸ºSizeåˆ›å»ºæ–°çš„å®ä¾‹ï¼š</span>

<span class="kd">struct</span> <span class="kt">Size</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">width</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="p">}</span>
<span class="k">let</span> <span class="nv">twoByTwo</span> <span class="o">=</span> <span class="kt">Size</span><span class="p">(</span><span class="nv">width</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">)</span>
</code></pre>
</div>


                </div>
                <div class="read-all">
                    <a  href="/2016/12/11/swift_X_Initialization_Deinitialization/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2016/12/10/swift_IX_Methods_Subscripts_Inheritance/">Swift3.0_IX_æ–¹æ³•ã€ä¸‹æ ‡å’Œç»§æ‰¿ </a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2016-12-10
                    </div>
                    <div class="label-card">
                        <i class="fa fa-user"></i>3è¡Œä»£ç 
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">â€¢</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#Swift3.0" title="Category: Swift3.0" rel="category">Swift3.0</a>
    
  

  <!-- <span class="point">â€¢</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">â€¢</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#Swift3.0" title="Tag: Swift3.0" rel="tag">Swift3.0</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#methods" id="markdown-toc-methods">æ–¹æ³• Methods</a>    <ul>
      <li><a href="#section" id="markdown-toc-section">ç±»å‹æ–¹æ³•</a></li>
    </ul>
  </li>
  <li><a href="#subscripts" id="markdown-toc-subscripts">ä¸‹æ ‡ Subscripts</a></li>
  <li><a href="#inheritance" id="markdown-toc-inheritance">ç»§æ‰¿ Inheritance</a>    <ul>
      <li><a href="#section-1" id="markdown-toc-section-1">å®šä¹‰åŸºç±»</a></li>
      <li><a href="#section-2" id="markdown-toc-section-2">å­ç±»ç”Ÿæˆ</a>        <ul>
          <li><a href="#section-3" id="markdown-toc-section-3">é‡å†™</a></li>
          <li><a href="#section-4" id="markdown-toc-section-4">é˜²æ­¢é‡å†™</a></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h1 id="methods">æ–¹æ³• Methods</h1>

<p>æ–¹æ³•æ˜¯ä¸æŸäº›ç‰¹å®šç±»å‹ç›¸å…³è”çš„å‡½æ•°ã€‚</p>

<ul>
  <li>ç±»ã€ç»“æ„ä½“ã€æšä¸¾éƒ½å¯ä»¥å®šä¹‰å®ä¾‹æ–¹æ³•ï¼›</li>
  <li>
    <p>å®ä¾‹æ–¹æ³•ä¸ºç»™å®šç±»å‹çš„å®ä¾‹å°è£…äº†å…·ä½“çš„ä»»åŠ¡ä¸åŠŸèƒ½ï¼›</p>
  </li>
  <li>ç±»ã€ç»“æ„ä½“ã€æšä¸¾ä¹Ÿå¯ä»¥å®šä¹‰ç±»å‹æ–¹æ³•ï¼›</li>
  <li>
    <p>ç±»å‹æ–¹æ³•ä¸ç±»å‹æœ¬èº«ç›¸å…³è”ï¼Œä¸ OCä¸­çš„ç±»æ–¹æ³•ç±»ä¼¼ï¼›</p>
  </li>
  <li>ç»“æ„ä½“å’Œæšä¸¾èƒ½å¤Ÿå®šä¹‰æ–¹æ³•æ˜¯ Swift ä¸ C/OCçš„ä¸»è¦åŒºåˆ«ä¹‹ä¸€ï¼›</li>
  <li>åœ¨OCä¸­ï¼Œç±»æ˜¯å”¯ä¸€èƒ½å®šä¹‰æ–¹æ³•çš„ç±»å‹ï¼›ï¼›</li>
  <li>ä½†åœ¨Swiftä¸­ï¼Œä¸ä»…èƒ½é€‰æ‹©æ˜¯å¦è¦å®šä¹‰ä¸€ä¸ªç±»/ç»“æ„ä½“/æšä¸¾ï¼Œè¿˜èƒ½çµæ´»åœ°åœ¨åˆ›å»ºçš„ç±»å‹ï¼ˆç±»/ç»“æ„ä½“/æšä¸¾ï¼‰ä¸Šå®šä¹‰æ–¹æ³•ã€‚</li>
</ul>

<p>1ã€å®ä¾‹æ–¹æ³•</p>

<ul>
  <li>å®ä¾‹æ–¹æ³•æ˜¯å±äºæŸä¸ªç‰¹å®šç±»ã€ç»“æ„ä½“æˆ–è€…æšä¸¾ç±»å‹å®ä¾‹çš„æ–¹æ³•ï¼›</li>
  <li>å®ä¾‹æ–¹æ³•æä¾›è®¿é—®å’Œä¿®æ”¹å®ä¾‹å±æ€§çš„æ–¹æ³•æˆ–æä¾›ä¸å®ä¾‹ç›®çš„ç›¸å…³çš„åŠŸèƒ½ï¼Œå¹¶ä»¥æ­¤æ¥æ”¯æ’‘å®ä¾‹çš„åŠŸèƒ½ã€‚å®ä¾‹æ–¹æ³•çš„è¯­æ³•ä¸å‡½æ•°å®Œå…¨ä¸€è‡´</li>
  <li>å®ä¾‹æ–¹æ³•è¦å†™åœ¨å®ƒæ‰€å±çš„ç±»å‹çš„å‰åå¤§æ‹¬å·ä¹‹é—´</li>
  <li>å®ä¾‹æ–¹æ³•èƒ½å¤Ÿéšå¼è®¿é—®å®ƒæ‰€å±ç±»å‹çš„æ‰€æœ‰çš„å…¶ä»–å®ä¾‹æ–¹æ³•å’Œå±æ€§</li>
  <li>å®ä¾‹æ–¹æ³•åªèƒ½è¢«å®ƒæ‰€å±çš„ç±»çš„æŸä¸ªç‰¹å®šå®ä¾‹è°ƒç”¨</li>
  <li>å®ä¾‹æ–¹æ³•ä¸èƒ½è„±ç¦»äºç°å­˜çš„å®ä¾‹è€Œè¢«è°ƒç”¨
æ¡ˆä¾‹ï¼š</li>
</ul>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="c1">// Counterç±»ï¼Œå®ƒå¯ç”¨äºè®¡ç®—æ¬¡æ•°çš„åŠ¨ä½œæ—¶å‘ç”Ÿçš„æ•°é‡ï¼š</span>

<span class="kd">class</span> <span class="kt">Counter</span> <span class="p">{</span>
    <span class="c1">// æœ¬Counterç±»è¿˜å£°æ˜ä¸€ä¸ªå˜é‡å±æ€§countï¼Œä»¥è·Ÿè¸ªå½“å‰è®¡æ•°å™¨å€¼ã€‚</span>
    <span class="k">var</span> <span class="nv">count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="c1">// å®ä¾‹æ–¹æ³•:increment()é€’å¢è®¡æ•°å™¨1</span>
    <span class="kd">func</span> <span class="nf">increment</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="p">}</span>
    <span class="c1">// å®ä¾‹æ–¹æ³•:increment(by: Int) å°†è®¡æ•°å™¨å¢åŠ æŒ‡å®šçš„æ•´æ•°å€¼</span>
    <span class="kd">func</span> <span class="nf">increment</span><span class="p">(</span><span class="n">by</span> <span class="nv">amount</span><span class="p">:</span><span class="kt">Int</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">count</span> <span class="o">+=</span> <span class="n">amount</span>
    <span class="p">}</span>
    <span class="c1">// reset() å°†è®¡æ•°å™¨é‡ç½®ä¸ºé›¶</span>
    <span class="kd">func</span> <span class="nf">reset</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">counter</span> <span class="o">=</span> <span class="kt">Counter</span><span class="p">()</span>
<span class="c1">// the initial counter value is 0</span>
<span class="n">counter</span><span class="o">.</span><span class="nf">increment</span><span class="p">()</span>
<span class="c1">// the counter's value is now 1</span>
<span class="n">counter</span><span class="o">.</span><span class="nf">increment</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="mi">5</span><span class="p">)</span>
<span class="c1">// the counter's value is now 6</span>
<span class="n">counter</span><span class="o">.</span><span class="nf">reset</span><span class="p">()</span>
<span class="c1">// the counter's value is now 0</span>
</code></pre>
</div>

<p>å‡½æ•°å‚æ•°å¯ä»¥åŒæ—¶æœ‰ä¸€ä¸ªå±€éƒ¨åç§°ï¼ˆåœ¨å‡½æ•°ä½“å†…éƒ¨ä½¿ç”¨ï¼‰å’Œä¸€ä¸ªå¤–éƒ¨åç§°ï¼ˆåœ¨è°ƒç”¨å‡½æ•°æ—¶ä½¿ç”¨ï¼‰(é€šè¿‡å‚æ•°æ ‡ç­¾ï¼Œå‚æ•°åç§°æ˜¯å®ç°)ã€‚æ–¹æ³•å‚æ•°ä¹Ÿä¸€æ ·ï¼Œå› ä¸ºæ–¹æ³•å°±æ˜¯å‡½æ•°ï¼Œåªæ˜¯è¿™ä¸ªå‡½æ•°ä¸æŸä¸ªç±»å‹ç›¸å…³è”äº†ã€‚</p>

<p>2ã€ selfå±æ€§</p>

<ul>
  <li>ç±»å‹çš„æ¯ä¸€ä¸ªå®ä¾‹éƒ½æœ‰ä¸€ä¸ªéšå«å±æ€§å«åšselfï¼Œselfå®Œå…¨ç­‰åŒäºè¯¥å®ä¾‹æœ¬èº«ï¼›</li>
  <li>ä½ å¯ä»¥åœ¨ä¸€ä¸ªå®ä¾‹çš„å®ä¾‹æ–¹æ³•ä¸­ä½¿ç”¨è¿™ä¸ªéšå«çš„selfå±æ€§æ¥å¼•ç”¨å½“å‰å®ä¾‹ï¼›</li>
  <li>ä¸€èˆ¬ä¸ç”¨åœ¨ç±»å‹å®ä¾‹é‡Œé¢å†™self,Swifté»˜è®¤æŒ‡å½“å‰å®ä¾‹çš„å±æ€§æˆ–è€…æ–¹æ³•ï¼›</li>
  <li>ä¸€èˆ¬ä½¿ç”¨selfç”¨äºä¸¥è°¨çš„åŒºåˆ†å‚æ•°å’Œå±æ€§ã€‚
```swift
// ä¸Šé¢ä¾‹å­ä¸­çš„incrementæ–¹æ³•è¿˜å¯ä»¥è¿™æ ·å†™ï¼š
func increment() {
  self.count += 1
}</li>
</ul>

<p>// åŒºåˆ†å‚æ•°å’Œå±æ€§
struct Point {
    // x,yæ˜¯å±æ€§
    var x = 0.0, y = 0.0
    // xæ˜¯å‚æ•°
    func isToTheRightOfX(x: Double) -&gt; Bool {
        // è¦è¿›è¡ŒåŒºåˆ†:å¦åˆ™Swiftä¼šè®¤ä¸ºXéƒ½æ˜¯å‚æ•°ã€‚
        return self.x &gt; x
    }
}
let somePoint = Point(x: 4.0, y: 5.0)
if somePoint.isToTheRightOfX(1.0) {
    print(â€œThis point is to the right of the line where x == 1.0â€)
}
// æ‰“å° â€œThis point is to the right of the line where x == 1.0â€</p>
<div class="highlighter-rouge"><pre class="highlight"><code>
3ã€åœ¨å®ä¾‹æ–¹æ³•ä¸­ä¿®æ”¹å€¼ç±»å‹

- ç»“æ„ä½“å’Œæšä¸¾æ˜¯å€¼ç±»å‹ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå€¼ç±»å‹çš„å±æ€§ä¸èƒ½åœ¨å®ƒçš„å®ä¾‹æ–¹æ³•ä¸­è¢«ä¿®æ”¹ï¼›
- ä½†æ˜¯ï¼Œå¦‚æœä½ ç¡®å®éœ€è¦åœ¨æŸä¸ªç‰¹å®šçš„æ–¹æ³•ä¸­ä¿®æ”¹ç»“æ„ä½“æˆ–è€…æšä¸¾çš„å±æ€§ï¼Œä½ å¯ä»¥ä¸ºè¿™ä¸ªæ–¹æ³•é€‰æ‹©å¯å˜(mutating)è¡Œä¸ºï¼Œç„¶åå°±å¯ä»¥ä»å…¶æ–¹æ³•å†…éƒ¨æ”¹å˜å®ƒçš„å±æ€§ï¼›
- å¹¶ä¸”è¿™ä¸ªæ–¹æ³•åšçš„ä»»ä½•æ”¹å˜éƒ½ä¼šåœ¨æ–¹æ³•æ‰§è¡Œç»“æŸæ—¶å†™å›åˆ°åŸå§‹ç»“æ„ä¸­ï¼›
- æ–¹æ³•è¿˜å¯ä»¥ç»™å®ƒéšå«çš„selfå±æ€§èµ‹äºˆä¸€ä¸ªå…¨æ–°çš„å®ä¾‹ï¼Œè¿™ä¸ªæ–°å®ä¾‹åœ¨æ–¹æ³•ç»“æŸæ—¶ä¼šæ›¿æ¢ç°å­˜å®ä¾‹ï¼›
- è¦ä½¿ç”¨å¯å˜æ–¹æ³•ï¼Œå°†å…³é”®å­—mutating æ”¾åˆ°æ–¹æ³•çš„funcå…³é”®å­—ä¹‹å‰å°±å¯ä»¥äº†ï¼š

```swift
struct Point {
    var x = 0.0, y = 0.0
    mutating func moveBy(x deltaX: Double, y deltaY: Double) {
        x += deltaX
        y += deltaY
    }
}
var somePoint = Point(x: 1.0, y: 1.0)
somePoint.moveBy(x: 2.0, y: 3.0)
print("The point is now at (\(somePoint.x), \(somePoint.y))")
// Prints "The point is now at (3.0, 4.0)"
</code></pre>
</div>

<p>æ³¨æ„ï¼šä¸èƒ½åœ¨ç»“æ„ä½“ç±»å‹çš„å¸¸é‡ç±»å‹ä¸Šè°ƒç”¨å¯å˜æ–¹æ³•ï¼Œå› ä¸ºå…¶å±æ€§ä¸èƒ½è¢«æ”¹å˜ï¼Œå³ä½¿å±æ€§æ˜¯å˜é‡å±æ€§ã€‚</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">fixedPoint</span> <span class="o">=</span> <span class="kt">Point</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="mf">3.0</span><span class="p">,</span> <span class="nv">y</span><span class="p">:</span> <span class="mf">3.0</span><span class="p">)</span>
<span class="n">fixedPoint</span><span class="o">.</span><span class="nf">moveByX</span><span class="p">(</span><span class="mf">2.0</span><span class="p">,</span> <span class="nv">y</span><span class="p">:</span> <span class="mf">3.0</span><span class="p">)</span>
<span class="c1">// è¿™é‡Œå°†ä¼šæŠ¥å‘Šä¸€ä¸ªé”™è¯¯</span>
</code></pre>
</div>

<p>4ã€åœ¨å¯å˜æ–¹æ³•ä¸­ç»™selfèµ‹å€¼</p>

<p>å¯å˜æ–¹æ³•èƒ½å¤Ÿèµ‹ç»™éšå«å±æ€§selfä¸€ä¸ªå…¨æ–°çš„å®ä¾‹ã€‚ä¸Šé¢Pointçš„ä¾‹å­å¯ä»¥ç”¨ä¸‹é¢çš„æ–¹å¼æ”¹å†™ï¼š</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">Point</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">x</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="k">mutating</span> <span class="kd">func</span> <span class="nf">moveBy</span><span class="p">(</span><span class="n">x</span> <span class="nv">deltaX</span><span class="p">:</span> <span class="kt">Double</span><span class="p">,</span> <span class="n">y</span> <span class="nv">deltaY</span><span class="p">:</span> <span class="kt">Double</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span> <span class="o">=</span> <span class="kt">Point</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">deltaX</span><span class="p">,</span> <span class="nv">y</span><span class="p">:</span> <span class="n">y</span> <span class="o">+</span> <span class="n">deltaY</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// æ–°ç‰ˆçš„å¯å˜æ–¹æ³•moveBy(x:y:)åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ç»“æ„ä½“å®ä¾‹ï¼Œå®ƒçš„ x å’Œ y çš„å€¼éƒ½è¢«è®¾å®šä¸ºç›®æ ‡å€¼ã€‚è°ƒç”¨è¿™ä¸ªç‰ˆæœ¬çš„æ–¹æ³•å’Œè°ƒç”¨ä¸Šä¸ªç‰ˆæœ¬çš„æœ€ç»ˆç»“æœæ˜¯ä¸€æ ·çš„ã€‚</span>
</code></pre>
</div>

<p>æšä¸¾çš„å¯å˜æ–¹æ³•å¯ä»¥æŠŠselfè®¾ç½®ä¸ºåŒä¸€æšä¸¾ç±»å‹ä¸­ä¸åŒçš„æˆå‘˜ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">enum</span> <span class="kt">TriStateSwitch</span> <span class="p">{</span>
    <span class="k">case</span> <span class="kt">Off</span><span class="p">,</span> <span class="kt">Low</span><span class="p">,</span> <span class="kt">High</span>
    <span class="k">mutating</span> <span class="kd">func</span> <span class="nf">next</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">switch</span> <span class="k">self</span> <span class="p">{</span>
        <span class="k">case</span> <span class="o">.</span><span class="kt">Off</span><span class="p">:</span>
            <span class="k">self</span> <span class="o">=</span> <span class="o">.</span><span class="kt">Low</span>
        <span class="k">case</span> <span class="o">.</span><span class="kt">Low</span><span class="p">:</span>
            <span class="k">self</span> <span class="o">=</span> <span class="o">.</span><span class="kt">High</span>
        <span class="k">case</span> <span class="o">.</span><span class="kt">High</span><span class="p">:</span>
            <span class="k">self</span> <span class="o">=</span> <span class="o">.</span><span class="kt">Off</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">var</span> <span class="nv">ovenLight</span> <span class="o">=</span> <span class="kt">TriStateSwitch</span><span class="o">.</span><span class="kt">Low</span>
<span class="n">ovenLight</span><span class="o">.</span><span class="nf">next</span><span class="p">()</span>
<span class="c1">// ovenLight ç°åœ¨ç­‰äº .High</span>
<span class="n">ovenLight</span><span class="o">.</span><span class="nf">next</span><span class="p">()</span>
<span class="c1">// ovenLight ç°åœ¨ç­‰äº .Off</span>
</code></pre>
</div>
<p>ä¸Šé¢çš„ä¾‹å­ä¸­å®šä¹‰äº†ä¸€ä¸ªä¸‰æ€å¼€å…³çš„æšä¸¾ã€‚æ¯æ¬¡è°ƒç”¨next()æ–¹æ³•æ—¶ï¼Œå¼€å…³åœ¨ä¸åŒçš„ç”µæºçŠ¶æ€ï¼ˆOffï¼ŒLowï¼ŒHighï¼‰ä¹‹é—´å¾ªç¯åˆ‡æ¢ã€‚</p>

<h3 id="section">ç±»å‹æ–¹æ³•</h3>

<ul>
  <li>å®ä¾‹æ–¹æ³•æ˜¯è¢«æŸä¸ªç±»å‹çš„å®ä¾‹è°ƒç”¨çš„æ–¹æ³•ï¼›</li>
  <li>ä¹Ÿå¯ä»¥å®šä¹‰åœ¨ç±»å‹æœ¬èº«ä¸Šè°ƒç”¨çš„æ–¹æ³•ï¼Œè¿™ç§æ–¹æ³•å°±å«åšç±»å‹æ–¹æ³•ï¼›</li>
  <li>åœ¨æ–¹æ³•çš„funcå…³é”®å­—ä¹‹å‰åŠ ä¸Šå…³é”®å­—staticï¼Œæ¥æŒ‡å®šç±»å‹æ–¹æ³•ï¼›</li>
  <li>ç±»è¿˜å¯ä»¥ç”¨å…³é”®å­—classæ¥å…è®¸å­ç±»é‡å†™çˆ¶ç±»çš„æ–¹æ³•å®ç°ï¼›</li>
  <li>ç±»å‹æ–¹æ³•å’Œå®ä¾‹æ–¹æ³•ä¸€æ ·ç”¨ç‚¹è¯­æ³•è°ƒç”¨ï¼›</li>
</ul>

<p>æ³¨æ„ï¼š
åœ¨OCä¸­ï¼Œåªèƒ½ä¸ºOCçš„ç±»ç±»å‹ï¼ˆclassesï¼‰å®šä¹‰ç±»å‹æ–¹æ³•ã€‚åœ¨Swiftä¸­ï¼Œä½ å¯ä»¥ä¸ºæ‰€æœ‰çš„ç±»ã€ç»“æ„ä½“å’Œæšä¸¾å®šä¹‰ç±»å‹æ–¹æ³•ã€‚æ¯ä¸€ä¸ªç±»å‹æ–¹æ³•éƒ½è¢«å®ƒæ‰€æ”¯æŒçš„ç±»å‹æ˜¾å¼åŒ…å«ã€‚</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">SomeClass</span> <span class="p">{</span>
    <span class="kd">class</span> <span class="kd">func</span> <span class="nf">someTypeMethod</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// åœ¨è¿™é‡Œå®ç°ç±»å‹æ–¹æ³•</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kt">SomeClass</span><span class="o">.</span><span class="nf">someTypeMethod</span><span class="p">()</span>
</code></pre>
</div>

<ul>
  <li>åœ¨ç±»å‹æ–¹æ³•çš„æ–¹æ³•ä½“ï¼ˆbodyï¼‰ä¸­ï¼ŒselfæŒ‡å‘è¿™ä¸ªç±»å‹æœ¬èº«ï¼Œè€Œä¸æ˜¯ç±»å‹çš„æŸä¸ªå®ä¾‹ï¼›</li>
  <li>è¿™æ„å‘³ç€å¯ä»¥ç”¨selfæ¥æ¶ˆé™¤ç±»å‹å±æ€§å’Œç±»å‹æ–¹æ³•å‚æ•°ä¹‹é—´çš„æ­§ä¹‰ï¼›</li>
  <li>ä¸€ä¸ªç±»å‹æ–¹æ³•å¯ä»¥ç›´æ¥é€šè¿‡ç±»å‹æ–¹æ³•çš„åç§°è°ƒç”¨æœ¬ç±»ä¸­çš„å…¶å®ƒç±»å‹æ–¹æ³•ï¼Œè€Œæ— éœ€åœ¨æ–¹æ³•åç§°å‰é¢åŠ ä¸Šç±»å‹åç§°ï¼›</li>
  <li>ç±»ä¼¼åœ°ï¼Œåœ¨ç»“æ„ä½“å’Œæšä¸¾ä¸­ï¼Œä¹Ÿèƒ½å¤Ÿç›´æ¥é€šè¿‡ç±»å‹å±æ€§çš„åç§°è®¿é—®æœ¬ç±»ä¸­çš„ç±»å‹å±æ€§ï¼Œè€Œä¸éœ€è¦å‰é¢åŠ ä¸Šç±»å‹åç§°ï¼›</li>
</ul>

<p>æ¡ˆä¾‹ï¼š
ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªåä¸ºLevelTrackerç»“æ„ä½“ã€‚å®ƒç›‘æµ‹ç©å®¶çš„æ¸¸æˆå‘å±•æƒ…å†µï¼ˆæ¸¸æˆçš„ä¸åŒå±‚æ¬¡æˆ–é˜¶æ®µï¼‰ã€‚è¿™æ˜¯ä¸€ä¸ªå•äººæ¸¸æˆï¼Œä½†ä¹Ÿå¯ä»¥å­˜å‚¨å¤šä¸ªç©å®¶åœ¨åŒä¸€è®¾å¤‡ä¸Šçš„æ¸¸æˆä¿¡æ¯ã€‚æ¸¸æˆåˆå§‹æ—¶ï¼Œæ‰€æœ‰çš„æ¸¸æˆç­‰çº§ï¼ˆé™¤äº†ç­‰çº§ 1ï¼‰éƒ½è¢«é”å®šã€‚æ¯æ¬¡æœ‰ç©å®¶å®Œæˆä¸€ä¸ªç­‰çº§ï¼Œè¿™ä¸ªç­‰çº§å°±å¯¹è¿™ä¸ªè®¾å¤‡ä¸Šçš„æ‰€æœ‰ç©å®¶è§£é”ã€‚</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="c1">// LevelTrackerç»“æ„ä½“ç”¨ç±»å‹å±æ€§å’Œæ–¹æ³•ç›‘æµ‹æ¸¸æˆçš„å“ªä¸ªç­‰çº§å·²ç»è¢«è§£é”ã€‚å®ƒè¿˜ç›‘æµ‹æ¯ä¸ªç©å®¶çš„å½“å‰ç­‰çº§ã€‚</span>

<span class="kd">struct</span> <span class="kt">LevelTracker</span> <span class="p">{</span>
    <span class="c1">// ç±»å‹å±æ€§ï¼šhighestUnlockedLevelç›‘æµ‹ç©å®¶å·²è§£é”çš„æœ€é«˜ç­‰çº§</span>
    <span class="kd">static</span> <span class="k">var</span> <span class="nv">highestUnlockedLevel</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="c1">// å®ä¾‹å±æ€§:currentLevelæ¥ç›‘æµ‹æ¯ä¸ªç©å®¶å½“å‰çš„ç­‰çº§</span>
    <span class="k">var</span> <span class="nv">currentLevel</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="c1">// ç±»å‹æ–¹æ³•ï¼šä¸€æ—¦æ–°ç­‰çº§è¢«è§£é”ï¼Œå®ƒä¼šæ›´æ–°highestUnlockedLevelçš„å€¼</span>
    <span class="kd">static</span> <span class="kd">func</span> <span class="nf">unlock</span><span class="p">(</span><span class="n">_</span> <span class="nv">level</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="n">level</span> <span class="o">&gt;</span> <span class="n">highestUnlockedLevel</span> <span class="p">{</span> <span class="n">highestUnlockedLevel</span> <span class="o">=</span> <span class="n">level</span> <span class="p">}</span>
    <span class="p">}</span>
    <span class="c1">// å¦‚æœæŸä¸ªç»™å®šçš„ç­‰çº§å·²ç»è¢«è§£é”ï¼Œå®ƒå°†è¿”å›true</span>
    <span class="kd">static</span> <span class="kd">func</span> <span class="nf">isUnlocked</span><span class="p">(</span><span class="n">_</span> <span class="nv">level</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>
        <span class="c1">// å°½ç®¡æ²¡æœ‰ä½¿ç”¨ç±»ä¼¼LevelTracker.highestUnlockedLevelçš„å†™æ³•ï¼Œè¿™ä¸ªç±»å‹æ–¹æ³•è¿˜æ˜¯èƒ½å¤Ÿè®¿é—®ç±»å‹å±æ€§highestUnlockedLevel</span>
        <span class="k">return</span> <span class="n">level</span> <span class="o">&lt;=</span> <span class="n">highestUnlockedLevel</span>
    <span class="p">}</span>
    
    <span class="c1">// å®ä¾‹æ–¹æ³•ï¼Œç®¡ç†currentLevelå±æ€§</span>
    <span class="c1">// è¿™ä¸ªæ–¹æ³•ä¼šåœ¨æ›´æ–°currentLevelä¹‹å‰æ£€æŸ¥æ‰€è¯·æ±‚çš„æ–°ç­‰çº§æ˜¯å¦å·²ç»è§£é”</span>
    <span class="kd">@discardableResult</span>
    <span class="k">mutating</span> <span class="kd">func</span> <span class="nf">advance</span><span class="p">(</span><span class="n">to</span> <span class="nv">level</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>
        <span class="k">if</span> <span class="kt">LevelTracker</span><span class="o">.</span><span class="nf">isUnlocked</span><span class="p">(</span><span class="n">level</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">currentLevel</span> <span class="o">=</span> <span class="n">level</span>
            <span class="k">return</span> <span class="kc">true</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kc">false</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="c1">// åœ¨è°ƒç”¨advance(to:)æ—¶å€™å¿½ç•¥è¿”å›å€¼ï¼Œä¸ä¼šäº§ç”Ÿç¼–è¯‘è­¦å‘Šï¼Œæ‰€ä»¥å‡½æ•°è¢«æ ‡æ³¨ä¸º@ discardableResultå±æ€§</span>
    <span class="c1">//@discardableResult å°†æ­¤å±æ€§åº”ç”¨äºå‡½æ•°æˆ–æ–¹æ³•å£°æ˜ä»¥åœ¨ä¸ä½¿ç”¨å…¶ç»“æœçš„æƒ…å†µä¸‹è°ƒç”¨è¿”å›å€¼çš„å‡½æ•°æˆ–æ–¹æ³•æ—¶æŠ‘åˆ¶ç¼–è¯‘å™¨è­¦å‘Šã€‚</span>
<span class="p">}</span>
</code></pre>
</div>

<p>ä¸‹é¢ï¼ŒPlayerç±»ä½¿ç”¨LevelTrackeræ¥ç›‘æµ‹å’Œæ›´æ–°æ¯ä¸ªç©å®¶çš„å‘å±•è¿›åº¦ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">Player</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">tracker</span> <span class="o">=</span> <span class="kt">LevelTracker</span><span class="p">()</span>
    <span class="k">let</span> <span class="nv">playerName</span><span class="p">:</span> <span class="kt">String</span>
    <span class="kd">func</span> <span class="nf">complete</span><span class="p">(</span><span class="nv">level</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">LevelTracker</span><span class="o">.</span><span class="nf">unlock</span><span class="p">(</span><span class="n">level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">tracker</span><span class="o">.</span><span class="nf">advance</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="n">level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nf">init</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">playerName</span> <span class="o">=</span> <span class="n">name</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>
<p>Playerç±»åˆ›å»ºä¸€ä¸ªæ–°çš„LevelTrackerå®ä¾‹æ¥ç›‘æµ‹è¿™ä¸ªç”¨æˆ·çš„è¿›åº¦ã€‚å®ƒæä¾›äº†complete(level:)æ–¹æ³•ï¼Œä¸€æ—¦ç©å®¶å®ŒæˆæŸä¸ªæŒ‡å®šç­‰çº§å°±è°ƒç”¨å®ƒã€‚è¿™ä¸ªæ–¹æ³•ä¸ºæ‰€æœ‰ç©å®¶è§£é”ä¸‹ä¸€ç­‰çº§ï¼Œå¹¶ä¸”å°†å½“å‰ç©å®¶çš„è¿›åº¦æ›´æ–°ä¸ºä¸‹ä¸€ç­‰çº§ã€‚</p>

<p>è¿˜å¯ä»¥ä¸ºä¸€ä¸ªæ–°çš„ç©å®¶åˆ›å»ºä¸€ä¸ªPlayerçš„å®ä¾‹ï¼Œç„¶åçœ‹è¿™ä¸ªç©å®¶å®Œæˆç­‰çº§ä¸€æ—¶å‘ç”Ÿäº†ä»€ä¹ˆï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">var</span> <span class="nv">player</span> <span class="o">=</span> <span class="kt">Player</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"Argyrios"</span><span class="p">)</span>
<span class="n">player</span><span class="o">.</span><span class="nf">complete</span><span class="p">(</span><span class="nv">level</span><span class="p">:</span> <span class="mi">1</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"highest unlocked level is now </span><span class="se">\(</span><span class="kt">LevelTracker</span><span class="o">.</span><span class="n">highestUnlockedLevel</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="c1">// æ‰“å° "highest unlocked level is now 2"</span>
</code></pre>
</div>

<h1 id="subscripts">ä¸‹æ ‡ Subscripts</h1>

<ul>
  <li>ä¸‹æ ‡å¯ä»¥å®šä¹‰åœ¨ç±»ã€ç»“æ„ä½“å’Œæšä¸¾ä¸­ï¼Œæ˜¯è®¿é—®é›†åˆï¼Œåˆ—è¡¨æˆ–åºåˆ—ä¸­å…ƒç´ çš„å¿«æ·æ–¹å¼ï¼›</li>
  <li>å¯ä»¥ä½¿ç”¨ä¸‹æ ‡çš„ç´¢å¼•ï¼Œè®¾ç½®å’Œè·å–å€¼ï¼Œè€Œä¸éœ€è¦å†è°ƒç”¨å¯¹åº”çš„å­˜å–æ–¹æ³•ï¼›</li>
  <li>ä¸¾ä¾‹ï¼šç”¨ä¸‹æ ‡è®¿é—®ä¸€ä¸ªArrayå®ä¾‹ä¸­çš„å…ƒç´ å¯ä»¥å†™ä½œsomeArray[index]ï¼›</li>
  <li>ä¸¾ä¾‹ï¼šè®¿é—®Dictionaryå®ä¾‹ä¸­çš„å…ƒç´ å¯ä»¥å†™ä½œsomeDictionary[key]ï¼›</li>
  <li>ä¸€ä¸ªç±»å‹å¯ä»¥å®šä¹‰å¤šä¸ªä¸‹æ ‡ï¼Œé€šè¿‡ä¸åŒç´¢å¼•ç±»å‹è¿›è¡Œé‡è½½ã€‚ä¸‹æ ‡ä¸é™äºä¸€ç»´ï¼Œä½ å¯ä»¥å®šä¹‰å…·æœ‰å¤šä¸ªå…¥å‚çš„ä¸‹æ ‡æ»¡è¶³è‡ªå®šä¹‰ç±»å‹çš„éœ€æ±‚ã€‚</li>
</ul>

<p>1ã€ä¸‹æ ‡è¯­æ³•</p>

<p>ä¸‹æ ‡å…è®¸ä½ é€šè¿‡åœ¨å®ä¾‹åç§°åé¢çš„æ–¹æ‹¬å·ä¸­ä¼ å…¥ä¸€ä¸ªæˆ–è€…å¤šä¸ªç´¢å¼•å€¼æ¥å¯¹å®ä¾‹è¿›è¡Œå­˜å–ã€‚è¯­æ³•ç±»ä¼¼äºå®ä¾‹æ–¹æ³•è¯­æ³•å’Œè®¡ç®—å‹å±æ€§è¯­æ³•çš„æ··åˆã€‚ä¸å®šä¹‰å®ä¾‹æ–¹æ³•ç±»ä¼¼ï¼Œå®šä¹‰ä¸‹æ ‡ä½¿ç”¨subscriptå…³é”®å­—ï¼ŒæŒ‡å®šä¸€ä¸ªæˆ–å¤šä¸ªè¾“å…¥å‚æ•°å’Œè¿”å›ç±»å‹ï¼›ä¸å®ä¾‹æ–¹æ³•ä¸åŒçš„æ˜¯ï¼Œä¸‹æ ‡å¯ä»¥è®¾å®šä¸ºè¯»å†™æˆ–åªè¯»ã€‚è¿™ç§è¡Œä¸ºç”± getter å’Œ setter å®ç°ï¼Œæœ‰ç‚¹ç±»ä¼¼è®¡ç®—å‹å±æ€§ï¼š</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="nf">subscript</span><span class="p">(</span><span class="nv">index</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
    <span class="k">get</span> <span class="p">{</span>
      <span class="c1">// è¿”å›ä¸€ä¸ªé€‚å½“çš„ Int ç±»å‹çš„å€¼</span>
    <span class="p">}</span>

    <span class="nf">set</span><span class="p">(</span><span class="n">newValue</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// æ‰§è¡Œé€‚å½“çš„èµ‹å€¼æ“ä½œ</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// å¦‚åŒè®¡ç®—å‹å±æ€§ï¼Œå¯ä»¥ä¸æŒ‡å®š setter çš„å‚æ•°ï¼ˆnewValueï¼‰ã€‚å¦‚æœä¸æŒ‡å®šå‚æ•°ï¼Œsetter ä¼šæä¾›ä¸€ä¸ªåä¸ºnewValueçš„é»˜è®¤å‚æ•°</span>
</code></pre>
</div>

<p>åªè¯»ä¸‹æ ‡ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="c1">// å¦‚åŒåªè¯»è®¡ç®—å‹å±æ€§ï¼Œå¯ä»¥çœç•¥åªè¯»ä¸‹æ ‡çš„getå…³é”®å­—ï¼š</span>
<span class="nf">subscript</span><span class="p">(</span><span class="nv">index</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
    <span class="c1">// è¿”å›ä¸€ä¸ªé€‚å½“çš„ Int ç±»å‹çš„å€¼</span>
<span class="p">}</span>
</code></pre>
</div>

<p>åªè¯»ä¸‹æ ‡çš„å®ç°ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="c1">// è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªTimesTableç»“æ„ä½“ï¼Œç”¨æ¥è¡¨ç¤ºä¼ å…¥æ•´æ•°çš„ä¹˜æ³•è¡¨ï¼š</span>
<span class="kd">struct</span> <span class="kt">TimesTable</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">multiplier</span><span class="p">:</span> <span class="kt">Int</span>
    <span class="nf">subscript</span><span class="p">(</span><span class="nv">index</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">multiplier</span> <span class="o">*</span> <span class="n">index</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">let</span> <span class="nv">threeTimesTable</span> <span class="o">=</span> <span class="kt">TimesTable</span><span class="p">(</span><span class="nv">multiplier</span><span class="p">:</span> <span class="mi">3</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"six times three is </span><span class="se">\(</span><span class="n">threeTimesTable</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="c1">// æ‰“å° "six times three is 18"</span>

<span class="c1">// åœ¨ä¸Šä¾‹ä¸­ï¼Œåˆ›å»ºäº†ä¸€ä¸ªTimesTableå®ä¾‹ï¼Œç”¨æ¥è¡¨ç¤ºæ•´æ•°3çš„ä¹˜æ³•è¡¨ã€‚æ•°å€¼3è¢«ä¼ é€’ç»™ç»“æ„ä½“çš„æ„é€ å‡½æ•°ï¼Œä½œä¸ºå®ä¾‹æˆå‘˜multiplierçš„å€¼ã€‚</span>
</code></pre>
</div>

<p>2ã€ä¸‹æ ‡ç”¨æ³•</p>

<p>ä¸‹æ ‡çš„ç¡®åˆ‡å«ä¹‰å–å†³äºä½¿ç”¨åœºæ™¯ã€‚ä¸‹æ ‡é€šå¸¸ä½œä¸ºè®¿é—®é›†åˆï¼Œåˆ—è¡¨æˆ–åºåˆ—ä¸­å…ƒç´ çš„å¿«æ·æ–¹å¼ã€‚ä½ å¯ä»¥é’ˆå¯¹è‡ªå·±ç‰¹å®šçš„ç±»æˆ–ç»“æ„ä½“çš„åŠŸèƒ½æ¥è‡ªç”±åœ°ä»¥æœ€æ°å½“çš„æ–¹å¼å®ç°ä¸‹æ ‡ã€‚</p>

<p>æ¡ˆä¾‹ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="c1">// Swift çš„Dictionaryç±»å‹å®ç°ä¸‹æ ‡ç”¨äºå¯¹å…¶å®ä¾‹ä¸­å‚¨å­˜çš„å€¼è¿›è¡Œå­˜å–æ“ä½œã€‚ä¸ºå­—å…¸è®¾å€¼æ—¶ï¼Œåœ¨ä¸‹æ ‡ä¸­ä½¿ç”¨å’Œå­—å…¸çš„é”®ç±»å‹ç›¸åŒçš„é”®ï¼Œå¹¶æŠŠä¸€ä¸ªå’Œå­—å…¸çš„å€¼ç±»å‹ç›¸åŒçš„å€¼èµ‹ç»™è¿™ä¸ªä¸‹æ ‡ï¼š</span>

<span class="k">var</span> <span class="nv">numberOfLegs</span> <span class="o">=</span> <span class="p">[</span><span class="s">"spider"</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="s">"ant"</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="s">"cat"</span><span class="p">:</span> <span class="mi">4</span><span class="p">]</span>
<span class="n">numberOfLegs</span><span class="p">[</span><span class="s">"bird"</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
</code></pre>
</div>
<p>æ³¨æ„:Swift çš„Dictionaryç±»å‹çš„ä¸‹æ ‡æ¥å—å¹¶è¿”å›å¯é€‰ç±»å‹çš„å€¼ã€‚ä¸Šä¾‹ä¸­çš„numberOfLegså­—å…¸é€šè¿‡ä¸‹æ ‡è¿”å›çš„æ˜¯ä¸€ä¸ªInt?æˆ–è€…è¯´â€œå¯é€‰çš„intâ€ã€‚Dictionaryç±»å‹ä¹‹æ‰€ä»¥å¦‚æ­¤å®ç°ä¸‹æ ‡ï¼Œæ˜¯å› ä¸ºä¸æ˜¯æ¯ä¸ªé”®éƒ½æœ‰ä¸ªå¯¹åº”çš„å€¼ï¼ŒåŒæ—¶è¿™ä¹Ÿæä¾›äº†ä¸€ç§é€šè¿‡é”®åˆ é™¤å¯¹åº”å€¼çš„æ–¹å¼ï¼Œåªéœ€å°†é”®å¯¹åº”çš„å€¼èµ‹å€¼ä¸ºnilå³å¯ã€‚</p>

<p>3ã€ä¸‹æ ‡é€‰é¡¹</p>

<p>ä¸‹æ ‡å¯ä»¥æ¥å—ä»»æ„æ•°é‡çš„å…¥å‚ï¼Œå¹¶ä¸”è¿™äº›å…¥å‚å¯ä»¥æ˜¯ä»»æ„ç±»å‹ã€‚ä¸‹æ ‡çš„è¿”å›å€¼ä¹Ÿå¯ä»¥æ˜¯ä»»æ„ç±»å‹ã€‚ä¸‹æ ‡å¯ä»¥ä½¿ç”¨å˜é‡å‚æ•°å’Œå¯å˜å‚æ•°ï¼Œä½†ä¸èƒ½ä½¿ç”¨è¾“å…¥è¾“å‡ºå‚æ•°ï¼Œä¹Ÿä¸èƒ½ç»™å‚æ•°è®¾ç½®é»˜è®¤å€¼ã€‚</p>

<p>ä¸‹æ ‡çš„é‡è½½ï¼šä¸€ä¸ªç±»æˆ–ç»“æ„ä½“å¯ä»¥æ ¹æ®è‡ªèº«éœ€è¦æä¾›å¤šä¸ªä¸‹æ ‡å®ç°ï¼Œä½¿ç”¨ä¸‹æ ‡æ—¶å°†é€šè¿‡å…¥å‚çš„æ•°é‡å’Œç±»å‹è¿›è¡ŒåŒºåˆ†ï¼Œè‡ªåŠ¨åŒ¹é…åˆé€‚çš„ä¸‹æ ‡ï¼Œè¿™å°±æ˜¯ä¸‹æ ‡çš„é‡è½½ã€‚</p>

<p>è™½ç„¶æ¥å—å•ä¸€å…¥å‚çš„ä¸‹æ ‡æ˜¯æœ€å¸¸è§çš„ï¼Œä½†ä¹Ÿå¯ä»¥æ ¹æ®æƒ…å†µå®šä¹‰æ¥å—å¤šä¸ªå…¥å‚çš„ä¸‹æ ‡ã€‚ä¾‹å¦‚ä¸‹ä¾‹å®šä¹‰äº†ä¸€ä¸ªMatrixç»“æ„ä½“ï¼Œç”¨äºè¡¨ç¤ºä¸€ä¸ªDoubleç±»å‹çš„äºŒç»´çŸ©é˜µã€‚Matrixç»“æ„ä½“çš„ä¸‹æ ‡æ¥å—ä¸¤ä¸ªæ•´å‹å‚æ•°ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">Matrix</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">rows</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="nv">columns</span><span class="p">:</span> <span class="kt">Int</span>
    <span class="k">var</span> <span class="nv">grid</span><span class="p">:</span> <span class="p">[</span><span class="kt">Double</span><span class="p">]</span>
    <span class="nf">init</span><span class="p">(</span><span class="nv">rows</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="nv">columns</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">rows</span> <span class="o">=</span> <span class="n">rows</span>
        <span class="k">self</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">columns</span>
        <span class="n">grid</span> <span class="o">=</span> <span class="kt">Array</span><span class="p">(</span><span class="nv">count</span><span class="p">:</span> <span class="n">rows</span> <span class="o">*</span> <span class="n">columns</span><span class="p">,</span> <span class="nv">repeatedValue</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="kd">func</span> <span class="nf">indexIsValidForRow</span><span class="p">(</span><span class="nv">row</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="nv">column</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">row</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">row</span> <span class="o">&lt;</span> <span class="n">rows</span> <span class="o">&amp;&amp;</span> <span class="n">column</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">column</span> <span class="o">&lt;</span> <span class="n">columns</span>
    <span class="p">}</span>
    <span class="nf">subscript</span><span class="p">(</span><span class="nv">row</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="nv">column</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Double</span> <span class="p">{</span>
        <span class="k">get</span> <span class="p">{</span>
            <span class="nf">assert</span><span class="p">(</span><span class="nf">indexIsValidForRow</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="nv">column</span><span class="p">:</span> <span class="n">column</span><span class="p">),</span> <span class="s">"Index out of range"</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">grid</span><span class="p">[(</span><span class="n">row</span> <span class="o">*</span> <span class="n">columns</span><span class="p">)</span> <span class="o">+</span> <span class="n">column</span><span class="p">]</span>
        <span class="p">}</span>
        <span class="k">set</span> <span class="p">{</span>
            <span class="nf">assert</span><span class="p">(</span><span class="nf">indexIsValidForRow</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="nv">column</span><span class="p">:</span> <span class="n">column</span><span class="p">),</span> <span class="s">"Index out of range"</span><span class="p">)</span>
            <span class="n">grid</span><span class="p">[(</span><span class="n">row</span> <span class="o">*</span> <span class="n">columns</span><span class="p">)</span> <span class="o">+</span> <span class="n">column</span><span class="p">]</span> <span class="o">=</span> <span class="n">newValue</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>Matrixæä¾›äº†ä¸€ä¸ªæ¥å—ä¸¤ä¸ªå…¥å‚çš„æ„é€ æ–¹æ³•ï¼Œå…¥å‚åˆ†åˆ«æ˜¯rowså’Œcolumnsï¼Œåˆ›å»ºäº†ä¸€ä¸ªè¶³å¤Ÿå®¹çº³rows * columnsä¸ªDoubleç±»å‹çš„å€¼çš„æ•°ç»„ã€‚é€šè¿‡ä¼ å…¥æ•°ç»„é•¿åº¦å’Œåˆå§‹å€¼0.0åˆ°æ•°ç»„çš„æ„é€ å™¨ï¼Œå°†çŸ©é˜µä¸­æ¯ä¸ªä½ç½®çš„å€¼åˆå§‹åŒ–ä¸º0.0</p>

<p>ä½ å¯ä»¥é€šè¿‡ä¼ å…¥åˆé€‚çš„rowå’Œcolumnçš„æ•°é‡æ¥æ„é€ ä¸€ä¸ªæ–°çš„Matrixå®ä¾‹ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">var</span> <span class="nv">matrix</span> <span class="o">=</span> <span class="kt">Matrix</span><span class="p">(</span><span class="nv">rows</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nv">columns</span><span class="p">:</span> <span class="mi">2</span><span class="p">)</span>
</code></pre>
</div>
<p>ä¸Šä¾‹ä¸­åˆ›å»ºäº†ä¸€ä¸ªMatrixå®ä¾‹æ¥è¡¨ç¤ºä¸¤è¡Œä¸¤åˆ—çš„çŸ©é˜µã€‚è¯¥Matrixå®ä¾‹çš„gridæ•°ç»„æŒ‰ç…§ä»å·¦ä¸Šåˆ°å³ä¸‹çš„é˜…è¯»é¡ºåºå°†çŸ©é˜µæ‰å¹³åŒ–å­˜å‚¨ï¼š
<img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/subscriptMatrix01_2x.png" alt="" /></p>

<p>å°†rowå’Œcolumnçš„å€¼ä¼ å…¥ä¸‹æ ‡æ¥ä¸ºçŸ©é˜µè®¾å€¼ï¼Œä¸‹æ ‡çš„å…¥å‚ä½¿ç”¨é€—å·åˆ†éš”ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="n">matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.5</span>
<span class="n">matrix</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mf">3.2</span>
</code></pre>
</div>
<p>ä¸Šé¢ä¸¤æ¡è¯­å¥åˆ†åˆ«è°ƒç”¨ä¸‹æ ‡çš„ setter å°†çŸ©é˜µå³ä¸Šè§’ä½ç½®ï¼ˆå³rowä¸º0ã€columnä¸º1çš„ä½ç½®ï¼‰çš„å€¼è®¾ç½®ä¸º1.5ï¼Œå°†çŸ©é˜µå·¦ä¸‹è§’ä½ç½®ï¼ˆå³rowä¸º1ã€columnä¸º0çš„ä½ç½®ï¼‰çš„å€¼è®¾ç½®ä¸º3.2ï¼š</p>

<p><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/subscriptMatrix02_2x.png" alt="" /></p>

<p>Matrixä¸‹æ ‡çš„ getter å’Œ setter ä¸­éƒ½å«æœ‰æ–­è¨€ï¼Œç”¨æ¥æ£€æŸ¥ä¸‹æ ‡å…¥å‚rowå’Œcolumnçš„å€¼æ˜¯å¦æœ‰æ•ˆã€‚ä¸ºäº†æ–¹ä¾¿è¿›è¡Œæ–­è¨€ï¼ŒMatrixåŒ…å«äº†ä¸€ä¸ªåä¸ºindexIsValidForRow(_:column:)çš„ä¾¿åˆ©æ–¹æ³•ï¼Œç”¨æ¥æ£€æŸ¥å…¥å‚rowå’Œcolumnçš„å€¼æ˜¯å¦åœ¨çŸ©é˜µèŒƒå›´å†…ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">indexIsValidForRow</span><span class="p">(</span><span class="nv">row</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="nv">column</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">row</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">row</span> <span class="o">&lt;</span> <span class="n">rows</span> <span class="o">&amp;&amp;</span> <span class="n">column</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">column</span> <span class="o">&lt;</span> <span class="n">columns</span>
<span class="p">}</span>
</code></pre>
</div>
<p>æ–­è¨€åœ¨ä¸‹æ ‡è¶Šç•Œæ—¶è§¦å‘ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">someValue</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="c1">// æ–­è¨€å°†ä¼šè§¦å‘ï¼Œå› ä¸º [2, 2] å·²ç»è¶…è¿‡äº† matrix çš„èŒƒå›´</span>
</code></pre>
</div>

<h1 id="inheritance">ç»§æ‰¿ Inheritance</h1>

<p>ä¸€ä¸ªç±»å¯ä»¥ç»§æ‰¿å¦ä¸€ä¸ªç±»çš„æ–¹æ³•ï¼Œå±æ€§å’Œå…¶å®ƒç‰¹æ€§ã€‚å½“ä¸€ä¸ªç±»ç»§æ‰¿å…¶å®ƒç±»æ—¶ï¼Œç»§æ‰¿ç±»å«å­ç±»ï¼Œè¢«ç»§æ‰¿ç±»å«è¶…ç±»ï¼ˆæˆ–çˆ¶ç±»ï¼‰ã€‚åœ¨ Swift ä¸­ï¼Œç»§æ‰¿æ˜¯åŒºåˆ†ã€Œç±»ã€ä¸å…¶å®ƒç±»å‹çš„ä¸€ä¸ªåŸºæœ¬ç‰¹å¾ã€‚</p>

<p>åœ¨ Swift ä¸­ï¼Œç±»å¯ä»¥è°ƒç”¨å’Œè®¿é—®è¶…ç±»çš„æ–¹æ³•ï¼Œå±æ€§å’Œä¸‹æ ‡ï¼Œå¹¶ä¸”å¯ä»¥é‡å†™è¿™äº›æ–¹æ³•ï¼Œå±æ€§å’Œä¸‹æ ‡æ¥ä¼˜åŒ–æˆ–ä¿®æ”¹å®ƒä»¬çš„è¡Œä¸ºã€‚Swift ä¼šæ£€æŸ¥ä½ çš„é‡å†™å®šä¹‰åœ¨è¶…ç±»ä¸­æ˜¯å¦æœ‰åŒ¹é…çš„å®šä¹‰ï¼Œä»¥æ­¤ç¡®ä¿ä½ çš„é‡å†™è¡Œä¸ºæ˜¯æ­£ç¡®çš„ã€‚</p>

<p>å¯ä»¥ä¸ºç±»ä¸­ç»§æ‰¿æ¥çš„å±æ€§æ·»åŠ å±æ€§è§‚å¯Ÿå™¨ï¼Œè¿™æ ·ä¸€æ¥ï¼Œå½“å±æ€§å€¼æ”¹å˜æ—¶ï¼Œç±»å°±ä¼šè¢«é€šçŸ¥åˆ°ã€‚å¯ä»¥ä¸ºä»»ä½•å±æ€§æ·»åŠ å±æ€§è§‚å¯Ÿå™¨ï¼Œæ— è®ºå®ƒåŸæœ¬è¢«å®šä¹‰ä¸ºå­˜å‚¨å‹å±æ€§è¿˜æ˜¯è®¡ç®—å‹å±æ€§ã€‚</p>

<h3 id="section-1">å®šä¹‰åŸºç±»</h3>

<p>ä¸ç»§æ‰¿äºå…¶å®ƒç±»çš„ç±»ï¼Œç§°ä¹‹ä¸ºåŸºç±»ã€‚</p>

<p>æ³¨æ„ï¼šSwiftä¸­çš„ç±»å¹¶ä¸æ˜¯ä»ä¸€ä¸ªé€šç”¨çš„åŸºç±»ç»§æ‰¿è€Œæ¥ã€‚å¦‚æœä½ ä¸ä¸ºä½ å®šä¹‰çš„ç±»æŒ‡å®šä¸€ä¸ªè¶…ç±»çš„è¯ï¼Œè¿™ä¸ªç±»å°±è‡ªåŠ¨æˆä¸ºåŸºç±»ã€‚</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="c1">// VehicleåŸºç±»ä¹Ÿå®šä¹‰äº†ä¸€ä¸ªåä¸ºmakeNoiseçš„æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•å®é™…ä¸Šä¸ä¸ºVehicleå®ä¾‹åšä»»ä½•äº‹ï¼Œä½†ä¹‹åå°†ä¼šè¢«Vehicleçš„å­ç±»å®šåˆ¶ï¼š</span>

<span class="kd">class</span> <span class="kt">Vehicle</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">currentSpeed</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="k">var</span> <span class="nv">description</span><span class="p">:</span> <span class="kt">String</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s">"traveling at </span><span class="se">\(</span><span class="n">currentSpeed</span><span class="se">)</span><span class="s"> miles per hour"</span>
    <span class="p">}</span>
    <span class="kd">func</span> <span class="nf">makeNoise</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ä»€ä¹ˆä¹Ÿä¸åš-å› ä¸ºè½¦è¾†ä¸ä¸€å®šä¼šæœ‰å™ªéŸ³</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>å¯ä»¥ç”¨åˆå§‹åŒ–è¯­æ³•åˆ›å»ºä¸€ä¸ªVehicleçš„æ–°å®ä¾‹ï¼Œå³ç±»ååé¢è·Ÿä¸€ä¸ªç©ºæ‹¬å·</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">someVehicle</span> <span class="o">=</span> <span class="kt">Vehicle</span><span class="p">()</span>
</code></pre>
</div>

<h2 id="section-2">å­ç±»ç”Ÿæˆ</h2>

<p>å­ç±»ç”ŸæˆæŒ‡çš„æ˜¯åœ¨ä¸€ä¸ªå·²æœ‰ç±»çš„åŸºç¡€ä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„ç±»ã€‚å­ç±»ç»§æ‰¿è¶…ç±»çš„ç‰¹æ€§ï¼Œå¹¶ä¸”å¯ä»¥è¿›ä¸€æ­¥å®Œå–„ã€‚ä½ è¿˜å¯ä»¥ä¸ºå­ç±»æ·»åŠ æ–°çš„ç‰¹æ€§ã€‚</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">SomeClass</span><span class="p">:</span> <span class="kt">SomeSuperclass</span> <span class="p">{</span>
    <span class="c1">// è¿™é‡Œæ˜¯å­ç±»çš„å®šä¹‰</span>
<span class="p">}</span>
</code></pre>
</div>
<p>æ¡ˆä¾‹ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">Bicycle</span><span class="p">:</span> <span class="kt">Vehicle</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">hasBasket</span> <span class="o">=</span> <span class="kc">false</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">bicycle</span> <span class="o">=</span> <span class="kt">Bicycle</span><span class="p">()</span>
<span class="n">bicycle</span><span class="o">.</span><span class="n">hasBasket</span> <span class="o">=</span> <span class="kc">true</span>

<span class="c1">// å¯ä»¥ä¿®æ”¹Bicycleå®ä¾‹æ‰€ç»§æ‰¿çš„currentSpeedå±æ€§ï¼Œå’ŒæŸ¥è¯¢å®ä¾‹æ‰€ç»§æ‰¿çš„descriptionå±æ€§ï¼š</span>
<span class="n">bicycle</span><span class="o">.</span><span class="n">currentSpeed</span> <span class="o">=</span> <span class="mf">15.0</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"Bicycle: </span><span class="se">\(</span><span class="n">bicycle</span><span class="o">.</span><span class="n">description</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="c1">// æ‰“å° "Bicycle: traveling at 15.0 miles per hour"</span>

<span class="c1">// å­ç±»è¿˜å¯ä»¥ç»§ç»­è¢«å…¶å®ƒç±»ç»§æ‰¿ï¼Œä¸‹é¢çš„ç¤ºä¾‹ä¸ºBicycleåˆ›å»ºäº†ä¸€ä¸ªåä¸ºTandemï¼ˆåŒäººè‡ªè¡Œè½¦ï¼‰çš„å­ç±»ï¼š</span>
<span class="kd">class</span> <span class="kt">Tandem</span><span class="p">:</span> <span class="kt">Bicycle</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">currentNumberOfPassengers</span> <span class="o">=</span> <span class="mi">0</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">tandem</span> <span class="o">=</span> <span class="kt">Tandem</span><span class="p">()</span>
<span class="n">tandem</span><span class="o">.</span><span class="n">hasBasket</span> <span class="o">=</span> <span class="kc">true</span>
<span class="n">tandem</span><span class="o">.</span><span class="n">currentNumberOfPassengers</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">tandem</span><span class="o">.</span><span class="n">currentSpeed</span> <span class="o">=</span> <span class="mf">22.0</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"Tandem: </span><span class="se">\(</span><span class="n">tandem</span><span class="o">.</span><span class="n">description</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="c1">// æ‰“å°ï¼š"Tandem: traveling at 22.0 miles per hour"</span>
</code></pre>
</div>

<h3 id="section-3">é‡å†™</h3>

<p>å­ç±»å¯ä»¥ä¸ºç»§æ‰¿æ¥çš„å®ä¾‹æ–¹æ³•ï¼Œç±»æ–¹æ³•ï¼Œå®ä¾‹å±æ€§ï¼Œæˆ–ä¸‹æ ‡æä¾›è‡ªå·±å®šåˆ¶çš„å®ç°ã€‚è¿™ç§è¡Œä¸ºå«é‡å†™ã€‚</p>

<p>å¦‚æœè¦é‡å†™æŸä¸ªç‰¹æ€§ï¼Œéœ€è¦åœ¨é‡å†™å®šä¹‰çš„å‰é¢åŠ ä¸Šoverrideå…³é”®å­—ã€‚è¿™ä¹ˆåšï¼Œå°±è¡¨æ˜äº†ä½ æ˜¯æƒ³æä¾›ä¸€ä¸ªé‡å†™ç‰ˆæœ¬ï¼Œè€Œéé”™è¯¯åœ°æä¾›äº†ä¸€ä¸ªç›¸åŒçš„å®šä¹‰ã€‚æ„å¤–çš„é‡å†™è¡Œä¸ºå¯èƒ½ä¼šå¯¼è‡´ä¸å¯é¢„çŸ¥çš„é”™è¯¯ï¼Œä»»ä½•ç¼ºå°‘overrideå…³é”®å­—çš„é‡å†™éƒ½ä¼šåœ¨ç¼–è¯‘æ—¶è¢«è¯Šæ–­ä¸ºé”™è¯¯ã€‚</p>

<p>overrideå…³é”®å­—ä¼šæé†’ Swift ç¼–è¯‘å™¨å»æ£€æŸ¥è¯¥ç±»çš„è¶…ç±»ï¼ˆæˆ–å…¶ä¸­ä¸€ä¸ªçˆ¶ç±»ï¼‰æ˜¯å¦æœ‰åŒ¹é…é‡å†™ç‰ˆæœ¬çš„å£°æ˜ã€‚è¿™ä¸ªæ£€æŸ¥å¯ä»¥ç¡®ä¿ä½ çš„é‡å†™å®šä¹‰æ˜¯æ­£ç¡®çš„ã€‚</p>

<p>1ã€ è®¿é—®è¶…ç±»çš„æ–¹æ³•ï¼Œå±æ€§åŠä¸‹æ ‡</p>

<p>å½“ä½ åœ¨å­ç±»ä¸­é‡å†™è¶…ç±»çš„æ–¹æ³•ï¼Œå±æ€§æˆ–ä¸‹æ ‡æ—¶ï¼Œæœ‰æ—¶åœ¨ä½ çš„é‡å†™ç‰ˆæœ¬ä¸­ä½¿ç”¨å·²ç»å­˜åœ¨çš„è¶…ç±»å®ç°ä¼šå¤§æœ‰è£¨ç›Šã€‚æ¯”å¦‚ï¼Œä½ å¯ä»¥å®Œå–„å·²æœ‰å®ç°çš„è¡Œä¸ºï¼Œæˆ–åœ¨ä¸€ä¸ªç»§æ‰¿æ¥çš„å˜é‡ä¸­å­˜å‚¨ä¸€ä¸ªä¿®æ”¹è¿‡çš„å€¼ã€‚</p>

<p>åœ¨åˆé€‚çš„åœ°æ–¹ï¼Œä½ å¯ä»¥é€šè¿‡ä½¿ç”¨superå‰ç¼€æ¥è®¿é—®è¶…ç±»ç‰ˆæœ¬çš„æ–¹æ³•ï¼Œå±æ€§æˆ–ä¸‹æ ‡ï¼š</p>
<ul>
  <li>åœ¨æ–¹æ³•someMethod()çš„é‡å†™å®ç°ä¸­ï¼Œå¯ä»¥é€šè¿‡super.someMethod()æ¥è°ƒç”¨è¶…ç±»ç‰ˆæœ¬çš„someMethod()æ–¹æ³•ã€‚</li>
  <li>åœ¨å±æ€§somePropertyçš„ getter æˆ– setter çš„é‡å†™å®ç°ä¸­ï¼Œå¯ä»¥é€šè¿‡super.somePropertyæ¥è®¿é—®è¶…ç±»ç‰ˆæœ¬çš„somePropertyå±æ€§ã€‚</li>
  <li>åœ¨ä¸‹æ ‡çš„é‡å†™å®ç°ä¸­ï¼Œå¯ä»¥é€šè¿‡super[someIndex]æ¥è®¿é—®è¶…ç±»ç‰ˆæœ¬ä¸­çš„ç›¸åŒä¸‹æ ‡ã€‚</li>
</ul>

<p>2ã€é‡å†™æ–¹æ³•</p>

<p>åœ¨å­ç±»ä¸­ï¼Œä½ å¯ä»¥é‡å†™ç»§æ‰¿æ¥çš„å®ä¾‹æ–¹æ³•æˆ–ç±»æ–¹æ³•ï¼Œæä¾›ä¸€ä¸ªå®šåˆ¶æˆ–æ›¿ä»£çš„æ–¹æ³•å®ç°</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="c1">// å®šä¹‰äº†Vehicleçš„ä¸€ä¸ªæ–°çš„å­ç±»ï¼Œå«Trainï¼Œå®ƒé‡å†™äº†ä»Vehicleç±»ç»§æ‰¿æ¥çš„makeNoise()æ–¹æ³•</span>
<span class="kd">class</span> <span class="kt">Train</span><span class="p">:</span> <span class="kt">Vehicle</span> <span class="p">{</span>
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">makeNoise</span><span class="p">()</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Choo Choo"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>3ã€é‡å†™å±æ€§</p>

<p>ä½ å¯ä»¥é‡å†™ç»§æ‰¿æ¥çš„å®ä¾‹å±æ€§æˆ–ç±»å‹å±æ€§ï¼Œæä¾›è‡ªå·±å®šåˆ¶çš„ getter å’Œ setterï¼Œæˆ–æ·»åŠ å±æ€§è§‚å¯Ÿå™¨ä½¿é‡å†™çš„å±æ€§å¯ä»¥è§‚å¯Ÿå±æ€§å€¼ä»€ä¹ˆæ—¶å€™å‘ç”Ÿæ”¹å˜ã€‚</p>

<ul>
  <li>å¯ä»¥å°†ä¸€ä¸ªç»§æ‰¿æ¥çš„åªè¯»å±æ€§é‡å†™ä¸ºä¸€ä¸ªè¯»å†™å±æ€§ï¼Œåªéœ€è¦åœ¨é‡å†™ç‰ˆæœ¬çš„å±æ€§é‡Œæä¾› getter å’Œ setter å³å¯ï¼›</li>
  <li>ä½†æ˜¯ï¼Œä¸å¯ä»¥å°†ä¸€ä¸ªç»§æ‰¿æ¥çš„è¯»å†™å±æ€§é‡å†™ä¸ºä¸€ä¸ªåªè¯»å±æ€§ï¼›</li>
  <li>æä¾›å®šåˆ¶çš„ getterï¼ˆæˆ– setterï¼‰æ¥é‡å†™ä»»æ„ç»§æ‰¿æ¥çš„å±æ€§ï¼Œæ— è®ºç»§æ‰¿æ¥çš„å±æ€§æ˜¯å­˜å‚¨å‹çš„è¿˜æ˜¯è®¡ç®—å‹çš„å±æ€§ï¼›</li>
  <li>å­ç±»å¹¶ä¸çŸ¥é“ç»§æ‰¿æ¥çš„å±æ€§æ˜¯å­˜å‚¨å‹çš„è¿˜æ˜¯è®¡ç®—å‹çš„ï¼Œå®ƒåªçŸ¥é“ç»§æ‰¿æ¥çš„å±æ€§ä¼šæœ‰ä¸€ä¸ªåå­—å’Œç±»å‹ï¼›</li>
  <li>åœ¨é‡å†™ä¸€ä¸ªå±æ€§æ—¶ï¼Œå¿…éœ€å°†å®ƒçš„åå­—å’Œç±»å‹éƒ½å†™å‡ºæ¥ã€‚è¿™æ ·æ‰èƒ½ä½¿ç¼–è¯‘å™¨å»æ£€æŸ¥ä½ é‡å†™çš„å±æ€§æ˜¯ä¸è¶…ç±»ä¸­åŒååŒç±»å‹çš„å±æ€§ç›¸åŒ¹é…çš„ï¼›</li>
</ul>

<p>æ³¨æ„
å¦‚æœåœ¨é‡å†™å±æ€§ä¸­æä¾›äº†setterï¼Œé‚£ä¹ˆä¹Ÿä¸€å®šè¦æä¾›getterã€‚å¦‚æœä¸æƒ³åœ¨é‡å†™ç‰ˆæœ¬ä¸­çš„getteré‡Œä¿®æ”¹ç»§æ‰¿æ¥çš„å±æ€§å€¼ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡super.somePropertyæ¥è¿”å›ç»§æ‰¿æ¥çš„å€¼ï¼Œå…¶ä¸­somePropertyæ˜¯è¦é‡å†™çš„å±æ€§çš„åå­—ã€‚</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">Car</span><span class="p">:</span> <span class="kt">Vehicle</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">gear</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">override</span> <span class="k">var</span> <span class="nv">description</span><span class="p">:</span> <span class="kt">String</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">super</span><span class="o">.</span><span class="n">description</span> <span class="o">+</span> <span class="s">" in gear </span><span class="se">\(</span><span class="n">gear</span><span class="se">)</span><span class="s">"</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// é‡å†™çš„descriptionå±æ€§é¦–å…ˆè¦è°ƒç”¨super.descriptionè¿”å›Vehicleç±»çš„descriptionå±æ€§ã€‚ä¹‹åï¼ŒCarç±»ç‰ˆæœ¬çš„descriptionåœ¨æœ«å°¾å¢åŠ äº†ä¸€äº›é¢å¤–çš„æ–‡æœ¬æ¥æä¾›å…³äºå½“å‰æ¡£ä½çš„ä¿¡æ¯ã€‚</span>
</code></pre>
</div>

<p>4ã€é‡å†™å±æ€§è§‚å¯Ÿå™¨</p>

<p>å¯ä»¥é€šè¿‡é‡å†™å±æ€§ä¸ºä¸€ä¸ªç»§æ‰¿æ¥çš„å±æ€§æ·»åŠ å±æ€§è§‚å¯Ÿå™¨ã€‚å½“ç»§æ‰¿æ¥çš„å±æ€§å€¼å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå°±ä¼šè¢«é€šçŸ¥åˆ°ï¼Œæ— è®ºé‚£ä¸ªå±æ€§åŸæœ¬æ˜¯å¦‚ä½•å®ç°çš„ã€‚</p>

<p>æ³¨æ„ï¼šä¸å¯ä»¥ä¸ºç»§æ‰¿æ¥çš„å¸¸é‡å­˜å‚¨å‹å±æ€§æˆ–ç»§æ‰¿æ¥çš„åªè¯»è®¡ç®—å‹å±æ€§æ·»åŠ å±æ€§è§‚å¯Ÿå™¨ã€‚è¿™äº›å±æ€§çš„å€¼æ˜¯ä¸å¯ä»¥è¢«è®¾ç½®çš„ï¼Œæ‰€ä»¥ï¼Œä¸ºå®ƒä»¬æä¾›willSetæˆ–didSetå®ç°æ˜¯ä¸æ°å½“ã€‚
æ­¤å¤–è¿˜è¦æ³¨æ„ï¼Œä¸å¯ä»¥åŒæ—¶æä¾›é‡å†™çš„ setter å’Œé‡å†™çš„å±æ€§è§‚å¯Ÿå™¨ã€‚å¦‚æœæƒ³è§‚å¯Ÿå±æ€§å€¼çš„å˜åŒ–ï¼Œå¹¶ä¸”å·²ç»ä¸ºé‚£ä¸ªå±æ€§æä¾›äº†å®šåˆ¶çš„ setterï¼Œé‚£ä¹ˆåœ¨ setter ä¸­å°±å¯ä»¥è§‚å¯Ÿåˆ°ä»»ä½•å€¼å˜åŒ–äº†ã€‚</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="c1">// ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªæ–°ç±»å«AutomaticCarï¼Œå®ƒæ˜¯Carçš„å­ç±»ã€‚AutomaticCarè¡¨ç¤ºè‡ªåŠ¨æŒ¡æ±½è½¦ï¼Œå®ƒå¯ä»¥æ ¹æ®å½“å‰çš„é€Ÿåº¦è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„æŒ¡ä½:</span>
<span class="kd">class</span> <span class="kt">AutomaticCar</span><span class="p">:</span> <span class="kt">Car</span> <span class="p">{</span>
    <span class="k">override</span> <span class="k">var</span> <span class="nv">currentSpeed</span><span class="p">:</span> <span class="kt">Double</span> <span class="p">{</span>
        <span class="k">didSet</span> <span class="p">{</span>
            <span class="n">gear</span> <span class="o">=</span> <span class="kt">Int</span><span class="p">(</span><span class="n">currentSpeed</span> <span class="o">/</span> <span class="mf">10.0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="cm">/*
å½“ä½ è®¾ç½®AutomaticCarçš„currentSpeedå±æ€§ï¼Œå±æ€§çš„didSetè§‚å¯Ÿå™¨å°±ä¼šè‡ªåŠ¨åœ°è®¾ç½®gearå±æ€§ï¼Œä¸ºæ–°çš„é€Ÿåº¦é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„æŒ¡ä½ã€‚å…·ä½“æ¥è¯´å°±æ˜¯ï¼Œå±æ€§è§‚å¯Ÿå™¨å°†æ–°çš„é€Ÿåº¦å€¼é™¤ä»¥10ï¼Œç„¶åå‘ä¸‹å–å¾—æœ€æ¥è¿‘çš„æ•´æ•°å€¼ï¼Œæœ€ååŠ 1æ¥å¾—åˆ°æ¡£ä½gearçš„å€¼ã€‚ä¾‹å¦‚ï¼Œé€Ÿåº¦ä¸º35.0æ—¶ï¼ŒæŒ¡ä½ä¸º4ï¼š
*/</span>

<span class="k">let</span> <span class="nv">automatic</span> <span class="o">=</span> <span class="kt">AutomaticCar</span><span class="p">()</span>
<span class="n">automatic</span><span class="o">.</span><span class="n">currentSpeed</span> <span class="o">=</span> <span class="mf">35.0</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"AutomaticCar: </span><span class="se">\(</span><span class="n">automatic</span><span class="o">.</span><span class="n">description</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="c1">// æ‰“å° "AutomaticCar: traveling at 35.0 miles per hour in gear 4"</span>
</code></pre>
</div>

<h3 id="section-4">é˜²æ­¢é‡å†™</h3>

<p>å¯ä»¥é€šè¿‡æŠŠæ–¹æ³•ï¼Œå±æ€§æˆ–ä¸‹æ ‡æ ‡è®°ä¸ºfinalæ¥é˜²æ­¢å®ƒä»¬è¢«é‡å†™ï¼Œåªéœ€è¦åœ¨å£°æ˜å…³é”®å­—å‰åŠ ä¸Šfinalä¿®é¥°ç¬¦å³å¯ï¼ˆä¾‹å¦‚ï¼šfinal varï¼Œfinal funcï¼Œfinal class funcï¼Œä»¥åŠfinal subscriptï¼‰ã€‚</p>

<p>å¦‚æœé‡å†™äº†å¸¦æœ‰finalæ ‡è®°çš„æ–¹æ³•ï¼Œå±æ€§æˆ–ä¸‹æ ‡ï¼Œåœ¨ç¼–è¯‘æ—¶ä¼šæŠ¥é”™ã€‚åœ¨ç±»æ‰©å±•ä¸­çš„æ–¹æ³•ï¼Œå±æ€§æˆ–ä¸‹æ ‡ä¹Ÿå¯ä»¥åœ¨æ‰©å±•çš„å®šä¹‰é‡Œæ ‡è®°ä¸º final çš„ã€‚</p>

<p>å¯ä»¥é€šè¿‡åœ¨å…³é”®å­—classå‰æ·»åŠ finalä¿®é¥°ç¬¦ï¼ˆfinal classï¼‰æ¥å°†æ•´ä¸ªç±»æ ‡è®°ä¸º final çš„ã€‚è¿™æ ·çš„ç±»æ˜¯ä¸å¯è¢«ç»§æ‰¿çš„ï¼Œè¯•å›¾ç»§æ‰¿è¿™æ ·çš„ç±»ä¼šå¯¼è‡´ç¼–è¯‘æŠ¥é”™ã€‚</p>


                </div>
                <div class="read-all">
                    <a  href="/2016/12/10/swift_IX_Methods_Subscripts_Inheritance/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2016/12/08/swift_VIII_Enumerations_Classes_Structures_Properties/">Swift3.0_VIII_æšä¸¾ã€ç±»ã€ç»“æ„ä½“ã€å±æ€§</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2016-12-08
                    </div>
                    <div class="label-card">
                        <i class="fa fa-user"></i>3è¡Œä»£ç 
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">â€¢</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#Swift3.0" title="Category: Swift3.0" rel="category">Swift3.0</a>
    
  

  <!-- <span class="point">â€¢</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">â€¢</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#Swift3.0" title="Tag: Swift3.0" rel="tag">Swift3.0</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#section" id="markdown-toc-section">æšä¸¾</a>    <ul>
      <li><a href="#section-1" id="markdown-toc-section-1">æšä¸¾è¯­æ³•ï¼š</a></li>
      <li><a href="#section-2" id="markdown-toc-section-2">åŸå§‹å€¼</a></li>
      <li><a href="#section-3" id="markdown-toc-section-3">é€’å½’æšä¸¾</a></li>
    </ul>
  </li>
  <li><a href="#section-4" id="markdown-toc-section-4">ç±»å’Œç»“æ„ä½“</a>    <ul>
      <li><a href="#section-5" id="markdown-toc-section-5">ç±»å’Œç»“æ„ä½“çš„å¯¹æ¯”</a></li>
      <li><a href="#section-6" id="markdown-toc-section-6">ç»“æ„å’Œæšä¸¾æ˜¯å€¼ç±»å‹</a></li>
      <li><a href="#section-7" id="markdown-toc-section-7">ç±»æ˜¯å¼•ç”¨ç±»å‹</a></li>
      <li><a href="#section-8" id="markdown-toc-section-8">æ’ç­‰è¿ç®—ç¬¦</a></li>
      <li><a href="#section-9" id="markdown-toc-section-9">æŒ‡é’ˆ</a></li>
      <li><a href="#section-10" id="markdown-toc-section-10">é€‰æ‹©ç±»è¿˜æ˜¯ç»“æ„ä½“</a></li>
      <li><a href="#section-11" id="markdown-toc-section-11">å­—ç¬¦ä¸²ã€æ•°ç»„ã€å’Œå­—å…¸ç±»å‹çš„èµ‹å€¼ä¸å¤åˆ¶</a></li>
    </ul>
  </li>
  <li><a href="#properties" id="markdown-toc-properties">å±æ€§ï¼šProperties</a>    <ul>
      <li><a href="#stored-properties" id="markdown-toc-stored-properties">å‚¨å­˜å±æ€§ Stored Properties</a></li>
      <li><a href="#computed-properties" id="markdown-toc-computed-properties">è®¡ç®—å±æ€§ Computed Properties</a></li>
      <li><a href="#property-observers" id="markdown-toc-property-observers">å±æ€§è§‚å¯Ÿå™¨ Property Observers</a></li>
      <li><a href="#global-and-local-variables" id="markdown-toc-global-and-local-variables">å…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡ Global and Local Variables</a></li>
      <li><a href="#type-properties" id="markdown-toc-type-properties">ç±»å‹å±æ€§ Type Properties</a></li>
    </ul>
  </li>
</ul>

<p>æšä¸¾ä¸ºä¸€ç»„ç›¸å…³çš„å€¼å®šä¹‰äº†ä¸€ä¸ªå…±åŒçš„ç±»å‹ï¼Œä½¿ä½ å¯ä»¥åœ¨ä½ çš„ä»£ç ä¸­ä»¥ç±»å‹å®‰å…¨çš„æ–¹å¼æ¥ä½¿ç”¨è¿™äº›å€¼ã€‚</p>

<p>åœ¨ Swift ä¸­ï¼Œæšä¸¾ç±»å‹æ˜¯ä¸€ç­‰ï¼ˆfirst-classï¼‰ç±»å‹ã€‚å®ƒä»¬é‡‡ç”¨äº†å¾ˆå¤šåœ¨ä¼ ç»Ÿä¸Šåªè¢«ç±»ï¼ˆclassï¼‰æ‰€æ”¯æŒçš„ç‰¹æ€§ï¼Œä¾‹å¦‚è®¡ç®—å±æ€§ï¼ˆcomputed propertiesï¼‰ï¼Œç”¨äºæä¾›æšä¸¾å€¼çš„é™„åŠ ä¿¡æ¯ï¼Œå®ä¾‹æ–¹æ³•ï¼ˆinstance methodsï¼‰ï¼Œç”¨äºæä¾›å’Œæšä¸¾å€¼ç›¸å…³è”çš„åŠŸèƒ½ã€‚æšä¸¾ä¹Ÿå¯ä»¥å®šä¹‰æ„é€ å‡½æ•°ï¼ˆinitializersï¼‰æ¥æä¾›ä¸€ä¸ªåˆå§‹å€¼ï¼›å¯ä»¥åœ¨åŸå§‹å®ç°çš„åŸºç¡€ä¸Šæ‰©å±•å®ƒä»¬çš„åŠŸèƒ½ï¼›è¿˜å¯ä»¥éµå¾ªåè®®ï¼ˆprotocolsï¼‰æ¥æä¾›æ ‡å‡†çš„åŠŸèƒ½ã€‚</p>

<h1 id="section">æšä¸¾</h1>

<h3 id="section-1">æšä¸¾è¯­æ³•ï¼š</h3>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">enum</span> <span class="kt">SomeEnumeration</span> <span class="p">{</span>
    <span class="c1">// enumeration definition goes here</span>
<span class="p">}</span>
</code></pre>
</div>

<p>æŒ‡å—é’ˆæ¡ˆä¾‹ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">enum</span> <span class="kt">CompassPoint</span> <span class="p">{</span>
    <span class="k">case</span> <span class="n">north</span>
    <span class="k">case</span> <span class="n">south</span>
    <span class="k">case</span> <span class="n">east</span>
    <span class="k">case</span> <span class="n">west</span>
<span class="p">}</span>
</code></pre>
</div>

<p>æ³¨æ„
ä¸ C å’Œ Objective-C ä¸åŒï¼ŒSwift çš„æšä¸¾æˆå‘˜åœ¨è¢«åˆ›å»ºæ—¶ä¸ä¼šè¢«èµ‹äºˆä¸€ä¸ªé»˜è®¤çš„æ•´å‹å€¼ã€‚åœ¨ä¸Šé¢çš„CompassPointä¾‹å­ä¸­ï¼Œnorthï¼Œsouthï¼Œeastå’Œwestä¸ä¼šè¢«éšå¼åœ°èµ‹å€¼ä¸º0ï¼Œ1ï¼Œ2å’Œ3ã€‚ç›¸åï¼Œè¿™äº›æšä¸¾æˆå‘˜æœ¬èº«å°±æ˜¯å®Œå¤‡çš„å€¼ï¼Œè¿™äº›å€¼çš„ç±»å‹æ˜¯å·²ç»æ˜ç¡®å®šä¹‰å¥½çš„CompassPointç±»å‹ã€‚</p>

<p>å¤šä¸ªæˆå‘˜å€¼å¯ä»¥å‡ºç°åœ¨åŒä¸€è¡Œä¸Šï¼Œç”¨é€—å·éš”å¼€ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">enum</span> <span class="kt">Planet</span> <span class="p">{</span>
    <span class="k">case</span> <span class="n">mercury</span><span class="p">,</span> <span class="n">venus</span><span class="p">,</span> <span class="n">earth</span><span class="p">,</span> <span class="n">mars</span><span class="p">,</span> <span class="n">jupiter</span><span class="p">,</span> <span class="n">saturn</span><span class="p">,</span> <span class="n">uranus</span><span class="p">,</span> <span class="n">neptune</span>
<span class="p">}</span>
</code></pre>
</div>

<p>å¯ä»¥è¿™æ ·ä½¿ç”¨ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">var</span> <span class="nv">directionToHead</span> <span class="o">=</span> <span class="kt">CompassPoint</span><span class="o">.</span><span class="n">west</span>
</code></pre>
</div>

<p>å½“directionToHeadçš„ç±»å‹å·²çŸ¥æ—¶ï¼Œå†æ¬¡ä¸ºå…¶èµ‹å€¼å¯ä»¥ä½¿ç”¨æ›´ç®€çŸ­çš„ç‚¹è¯­æ³•ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="n">directionToHead</span> <span class="o">=</span> <span class="o">.</span><span class="n">east</span>
</code></pre>
</div>

<p>ä½¿ç”¨ Switch è¯­å¥åŒ¹é…æšä¸¾å€¼</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="n">directionToHead</span> <span class="o">=</span> <span class="o">.</span><span class="n">south</span>
<span class="k">switch</span> <span class="n">directionToHead</span> <span class="p">{</span>
<span class="k">case</span> <span class="o">.</span><span class="nv">north</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Lots of planets have a north"</span><span class="p">)</span>
<span class="k">case</span> <span class="o">.</span><span class="nv">south</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Watch out for penguins"</span><span class="p">)</span>
<span class="k">case</span> <span class="o">.</span><span class="nv">east</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Where the sun rises"</span><span class="p">)</span>
<span class="k">case</span> <span class="o">.</span><span class="nv">west</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Where the skies are blue"</span><span class="p">)</span>
<span class="k">default</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Not a safe place for humans"</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1">// Prints "Watch out for penguins"</span>
</code></pre>
</div>

<p>å½“ä¸éœ€è¦åŒ¹é…æ¯ä¸ªæšä¸¾æˆå‘˜çš„æ—¶å€™ï¼Œä½ å¯ä»¥æä¾›ä¸€ä¸ªdefaultåˆ†æ”¯æ¥æ¶µç›–æ‰€æœ‰æœªæ˜ç¡®å¤„ç†çš„æšä¸¾æˆå‘˜ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">somePlanet</span> <span class="o">=</span> <span class="kt">Planet</span><span class="o">.</span><span class="n">earth</span>
<span class="k">switch</span> <span class="n">somePlanet</span> <span class="p">{</span>
<span class="k">case</span> <span class="o">.</span><span class="nv">earth</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Mostly harmless"</span><span class="p">)</span>
<span class="k">default</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Not a safe place for humans"</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1">// æ‰“å° "Mostly harmlessâ€</span>
</code></pre>
</div>

<p>åœ¨ Swift ä¸­ï¼Œä½¿ç”¨å¦‚ä¸‹æ–¹å¼å®šä¹‰è¡¨ç¤ºä¸¤ç§å•†å“æ¡å½¢ç (æ¡å½¢ç ã€QRç )çš„æšä¸¾ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">enum</span> <span class="kt">Barcode</span> <span class="p">{</span>
    <span class="k">case</span> <span class="nf">upc</span><span class="p">(</span><span class="kt">Int</span><span class="p">,</span> <span class="kt">Int</span><span class="p">,</span> <span class="kt">Int</span><span class="p">,</span> <span class="kt">Int</span><span class="p">)</span>
    <span class="k">case</span> <span class="nf">qrCode</span><span class="p">(</span><span class="kt">String</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1">// â€œå®šä¹‰ä¸€ä¸ªåä¸ºBarcodeçš„æšä¸¾ç±»å‹ï¼Œå®ƒçš„ä¸€ä¸ªæˆå‘˜å€¼æ˜¯å…·æœ‰(Intï¼ŒIntï¼ŒIntï¼ŒInt)ç±»å‹å…³è”å€¼çš„upcï¼Œå¦ä¸€ä¸ªæˆå‘˜å€¼æ˜¯å…·æœ‰Stringç±»å‹å…³è”å€¼çš„qrCodeã€‚â€</span>
</code></pre>
</div>

<p>ç„¶åå¯ä»¥ä½¿ç”¨ä»»æ„ä¸€ç§æ¡å½¢ç ç±»å‹åˆ›å»ºæ–°çš„æ¡å½¢ç ï¼Œä¾‹å¦‚ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">var</span> <span class="nv">productBarcode</span> <span class="o">=</span> <span class="kt">Barcode</span><span class="o">.</span><span class="nf">upc</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">85909</span><span class="p">,</span> <span class="mi">51226</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="c1">// åˆ›å»ºäº†ä¸€ä¸ªåä¸ºproductBarcodeçš„å˜é‡ï¼Œå¹¶å°†Barcode.upcèµ‹å€¼ç»™å®ƒï¼Œå…³è”çš„å…ƒç»„å€¼ä¸º(8, 85909, 51226, 3)ã€‚</span>

<span class="c1">// åŒä¸€ä¸ªå•†å“å¯ä»¥è¢«åˆ†é…ä¸€ä¸ªä¸åŒç±»å‹çš„æ¡å½¢ç ï¼Œä¾‹å¦‚ï¼š</span>
<span class="n">productBarcode</span> <span class="o">=</span> <span class="o">.</span><span class="nf">qrCode</span><span class="p">(</span><span class="s">"ABCDEFGHIJKLMNOP"</span><span class="p">)</span>

<span class="k">switch</span> <span class="n">productBarcode</span> <span class="p">{</span>
<span class="k">case</span> <span class="o">.</span><span class="nf">upc</span><span class="p">(</span><span class="k">let</span> <span class="nv">numberSystem</span><span class="p">,</span> <span class="k">let</span> <span class="nv">manufacturer</span><span class="p">,</span> <span class="k">let</span> <span class="nv">product</span><span class="p">,</span> <span class="k">let</span> <span class="nv">check</span><span class="p">):</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"UPC: </span><span class="se">\(</span><span class="n">numberSystem</span><span class="se">)</span><span class="s">, </span><span class="se">\(</span><span class="n">manufacturer</span><span class="se">)</span><span class="s">, </span><span class="se">\(</span><span class="n">product</span><span class="se">)</span><span class="s">, </span><span class="se">\(</span><span class="n">check</span><span class="se">)</span><span class="s">."</span><span class="p">)</span>
<span class="k">case</span> <span class="o">.</span><span class="nf">qrCode</span><span class="p">(</span><span class="k">let</span> <span class="nv">productCode</span><span class="p">):</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"QR code: </span><span class="se">\(</span><span class="n">productCode</span><span class="se">)</span><span class="s">."</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1">// Prints "QR code: ABCDEFGHIJKLMNOP."</span>

<span class="c1">// å¦‚æœä¸€ä¸ªæšä¸¾æˆå‘˜çš„æ‰€æœ‰å…³è”å€¼éƒ½è¢«æå–ä¸ºå¸¸é‡ï¼Œæˆ–è€…éƒ½è¢«æå–ä¸ºå˜é‡ï¼Œä¸ºäº†ç®€æ´ï¼Œä½ å¯ä»¥åªåœ¨æˆå‘˜åç§°å‰æ ‡æ³¨ä¸€ä¸ªletæˆ–è€…varï¼š</span>
<span class="k">switch</span> <span class="n">productBarcode</span> <span class="p">{</span>
<span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">upc</span><span class="p">(</span><span class="n">numberSystem</span><span class="p">,</span> <span class="n">manufacturer</span><span class="p">,</span> <span class="n">product</span><span class="p">,</span> <span class="n">check</span><span class="p">):</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"UPC: </span><span class="se">\(</span><span class="n">numberSystem</span><span class="se">)</span><span class="s">, </span><span class="se">\(</span><span class="n">manufacturer</span><span class="se">)</span><span class="s">, </span><span class="se">\(</span><span class="n">product</span><span class="se">)</span><span class="s">, </span><span class="se">\(</span><span class="n">check</span><span class="se">)</span><span class="s">."</span><span class="p">)</span>
<span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">qrCode</span><span class="p">(</span><span class="n">productCode</span><span class="p">):</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"QR code: </span><span class="se">\(</span><span class="n">productCode</span><span class="se">)</span><span class="s">."</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1">// è¾“å‡º "QR code: ABCDEFGHIJKLMNOP."</span>
</code></pre>
</div>

<h3 id="section-2">åŸå§‹å€¼</h3>

<p>æšä¸¾æˆå‘˜å¯ä»¥è¢«é»˜è®¤å€¼ï¼ˆç§°ä¸ºåŸå§‹å€¼ï¼‰é¢„å¡«å……ï¼Œè¿™äº›åŸå§‹å€¼çš„ç±»å‹å¿…é¡»ç›¸åŒã€‚</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">enum</span> <span class="kt">ASCIIControlCharacter</span><span class="p">:</span> <span class="kt">Character</span> <span class="p">{</span>
    <span class="k">case</span> <span class="n">tab</span> <span class="o">=</span> <span class="s">"</span><span class="se">\t</span><span class="s">"</span>
    <span class="k">case</span> <span class="n">lineFeed</span> <span class="o">=</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span>
    <span class="k">case</span> <span class="n">carriageReturn</span> <span class="o">=</span> <span class="s">"</span><span class="se">\r</span><span class="s">"</span>
<span class="p">}</span>
<span class="c1">// æšä¸¾ç±»å‹ASCIIControlCharacterçš„åŸå§‹å€¼ç±»å‹è¢«å®šä¹‰ä¸ºCharacterï¼Œå¹¶è®¾ç½®äº†ä¸€äº›æ¯”è¾ƒå¸¸è§çš„ ASCII æ§åˆ¶å­—ç¬¦</span>
</code></pre>
</div>

<p>åŸå§‹å€¼çš„éšå¼èµ‹å€¼</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">enum</span> <span class="kt">Planet</span><span class="p">:</span> <span class="kt">Int</span> <span class="p">{</span>
    <span class="k">case</span> <span class="n">mercury</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">venus</span><span class="p">,</span> <span class="n">earth</span><span class="p">,</span> <span class="n">mars</span><span class="p">,</span> <span class="n">jupiter</span><span class="p">,</span> <span class="n">saturn</span><span class="p">,</span> <span class="n">uranus</span><span class="p">,</span> <span class="n">neptune</span>
<span class="p">}</span>
<span class="c1">//  venus == 2  earth ==3...</span>
</code></pre>
</div>

<p>ä½¿ç”¨æšä¸¾æˆå‘˜çš„rawValueå±æ€§å¯ä»¥è®¿é—®è¯¥æšä¸¾æˆå‘˜çš„åŸå§‹å€¼ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">earthsOrder</span> <span class="o">=</span> <span class="kt">Planet</span><span class="o">.</span><span class="n">earth</span><span class="o">.</span><span class="n">rawValue</span>
<span class="c1">// earthsOrder is 3</span>
 
<span class="k">let</span> <span class="nv">sunsetDirection</span> <span class="o">=</span> <span class="kt">CompassPoint</span><span class="o">.</span><span class="n">west</span><span class="o">.</span><span class="n">rawValue</span>
<span class="c1">// sunsetDirection is "west"</span>
</code></pre>
</div>

<p>ä½¿ç”¨åŸå§‹å€¼åˆå§‹åŒ–æšä¸¾å®ä¾‹</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">possiblePlanet</span> <span class="o">=</span> <span class="kt">Planet</span><span class="p">(</span><span class="nv">rawValue</span><span class="p">:</span> <span class="mi">7</span><span class="p">)</span>
<span class="c1">// possiblePlanet is of type Planet? and equals Planet.uranus</span>
<span class="c1">// possiblePlanetæ˜¯Planet?ç±»å‹ï¼Œæˆ–è€…è¯´â€œå¯é€‰çš„Planetâ€ã€‚</span>
</code></pre>
</div>

<p>åŸå§‹å€¼æ„é€ å™¨æ˜¯ä¸€ä¸ªå¯å¤±è´¥æ„é€ å™¨ï¼Œå› ä¸ºå¹¶ä¸æ˜¯æ¯ä¸€ä¸ªåŸå§‹å€¼éƒ½æœ‰ä¸ä¹‹å¯¹åº”çš„æšä¸¾æˆå‘˜</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="c1">// å¦‚æœä½ è¯•å›¾å¯»æ‰¾ä¸€ä¸ªä½ç½®ä¸º11çš„è¡Œæ˜Ÿï¼Œé€šè¿‡åŸå§‹å€¼æ„é€ å™¨è¿”å›çš„å¯é€‰Planetå€¼å°†æ˜¯nilï¼š</span>

<span class="k">let</span> <span class="nv">positionToFind</span> <span class="o">=</span> <span class="mi">11</span>
<span class="k">if</span> <span class="k">let</span> <span class="nv">somePlanet</span> <span class="o">=</span> <span class="kt">Planet</span><span class="p">(</span><span class="nv">rawValue</span><span class="p">:</span> <span class="n">positionToFind</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">switch</span> <span class="n">somePlanet</span> <span class="p">{</span>
    <span class="k">case</span> <span class="o">.</span><span class="nv">earth</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Mostly harmless"</span><span class="p">)</span>
    <span class="k">default</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Not a safe place for humans"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"There isn't a planet at position </span><span class="se">\(</span><span class="n">positionToFind</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1">// Prints "There isn't a planet at position 11"</span>
</code></pre>
</div>

<h3 id="section-3">é€’å½’æšä¸¾</h3>

<p>é€’å½’æšä¸¾æ˜¯ä¸€ç§æšä¸¾ç±»å‹ï¼Œå®ƒæœ‰ä¸€ä¸ªæˆ–å¤šä¸ªæšä¸¾æˆå‘˜ä½¿ç”¨è¯¥æšä¸¾ç±»å‹çš„å®ä¾‹ä½œä¸ºå…³è”å€¼ã€‚ä½¿ç”¨é€’å½’æšä¸¾æ—¶ï¼Œç¼–è¯‘å™¨ä¼šæ’å…¥ä¸€ä¸ªé—´æ¥å±‚ã€‚ä½ å¯ä»¥åœ¨æšä¸¾æˆå‘˜å‰åŠ ä¸Šindirectæ¥è¡¨ç¤ºè¯¥æˆå‘˜å¯é€’å½’ã€‚</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="c1">// åœ¨æšä¸¾æˆå‘˜å‰åŠ ä¸Šindirectæ¥è¡¨ç¤ºè¯¥æˆå‘˜å¯é€’å½’ã€‚</span>
<span class="kd">enum</span> <span class="kt">ArithmeticExpression</span> <span class="p">{</span>
    <span class="k">case</span> <span class="nf">number</span><span class="p">(</span><span class="kt">Int</span><span class="p">)</span>
    <span class="kd">indirect</span> <span class="k">case</span> <span class="nf">addition</span><span class="p">(</span><span class="kt">ArithmeticExpression</span><span class="p">,</span> <span class="kt">ArithmeticExpression</span><span class="p">)</span>
    <span class="kd">indirect</span> <span class="k">case</span> <span class="nf">multiplication</span><span class="p">(</span><span class="kt">ArithmeticExpression</span><span class="p">,</span> <span class="kt">ArithmeticExpression</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// åœ¨æšä¸¾ç±»å‹å¼€å¤´åŠ ä¸Šindirectå…³é”®å­—æ¥è¡¨æ˜å®ƒçš„æ‰€æœ‰æˆå‘˜éƒ½æ˜¯å¯é€’å½’çš„ï¼š</span>
<span class="kd">indirect</span> <span class="kd">enum</span> <span class="kt">ArithmeticExpression</span> <span class="p">{</span>
    <span class="k">case</span> <span class="nf">number</span><span class="p">(</span><span class="kt">Int</span><span class="p">)</span>
    <span class="k">case</span> <span class="nf">addition</span><span class="p">(</span><span class="kt">ArithmeticExpression</span><span class="p">,</span> <span class="kt">ArithmeticExpression</span><span class="p">)</span>
    <span class="k">case</span> <span class="nf">multiplication</span><span class="p">(</span><span class="kt">ArithmeticExpression</span><span class="p">,</span> <span class="kt">ArithmeticExpression</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// åº”ç”¨ï¼š</span>
<span class="k">let</span> <span class="nv">five</span> <span class="o">=</span> <span class="kt">ArithmeticExpression</span><span class="o">.</span><span class="nf">number</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">four</span> <span class="o">=</span> <span class="kt">ArithmeticExpression</span><span class="o">.</span><span class="nf">number</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">sum</span> <span class="o">=</span> <span class="kt">ArithmeticExpression</span><span class="o">.</span><span class="nf">addition</span><span class="p">(</span><span class="n">five</span><span class="p">,</span> <span class="n">four</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">product</span> <span class="o">=</span> <span class="kt">ArithmeticExpression</span><span class="o">.</span><span class="nf">multiplication</span><span class="p">(</span><span class="n">sum</span><span class="p">,</span> <span class="kt">ArithmeticExpression</span><span class="o">.</span><span class="nf">number</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>

<span class="c1">// è¦æ“ä½œå…·æœ‰é€’å½’æ€§è´¨çš„æ•°æ®ç»“æ„ï¼Œä½¿ç”¨é€’å½’å‡½æ•°æ˜¯ä¸€ç§ç›´æˆªäº†å½“çš„æ–¹å¼</span>
<span class="kd">func</span> <span class="nf">evaluate</span><span class="p">(</span><span class="n">_</span> <span class="nv">expression</span><span class="p">:</span> <span class="kt">ArithmeticExpression</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
    <span class="k">switch</span> <span class="n">expression</span> <span class="p">{</span>
    <span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">number</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">value</span>
    <span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">addition</span><span class="p">(</span><span class="k">left</span><span class="p">,</span> <span class="k">right</span><span class="p">):</span>
        <span class="k">return</span> <span class="nf">evaluate</span><span class="p">(</span><span class="k">left</span><span class="p">)</span> <span class="o">+</span> <span class="nf">evaluate</span><span class="p">(</span><span class="k">right</span><span class="p">)</span>
    <span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">multiplication</span><span class="p">(</span><span class="k">left</span><span class="p">,</span> <span class="k">right</span><span class="p">):</span>
        <span class="k">return</span> <span class="nf">evaluate</span><span class="p">(</span><span class="k">left</span><span class="p">)</span> <span class="o">*</span> <span class="nf">evaluate</span><span class="p">(</span><span class="k">right</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nf">print</span><span class="p">(</span><span class="nf">evaluate</span><span class="p">(</span><span class="n">product</span><span class="p">))</span>
<span class="c1">// æ‰“å° "18"</span>
</code></pre>
</div>

<h1 id="section-4">ç±»å’Œç»“æ„ä½“</h1>

<p>ä¸å…¶ä»–ç¼–ç¨‹è¯­è¨€æ‰€ä¸åŒçš„æ˜¯ï¼ŒSwift å¹¶ä¸è¦æ±‚ä¸ºè‡ªå®šä¹‰ç±»å’Œç»“æ„å»åˆ›å»ºç‹¬ç«‹çš„æ¥å£å’Œå®ç°æ–‡ä»¶ã€‚åªéœ€è¦åœ¨å•ä¸€æ–‡ä»¶ä¸­å®šä¹‰ä¸€ä¸ªç±»æˆ–è€…ç»“æ„ä½“ï¼Œç³»ç»Ÿå°†ä¼šè‡ªåŠ¨ç”Ÿæˆé¢å‘å…¶å®ƒä»£ç çš„å¤–éƒ¨æ¥å£ã€‚</p>

<h3 id="section-5">ç±»å’Œç»“æ„ä½“çš„å¯¹æ¯”</h3>

<p>1ã€å…±åŒç‚¹ï¼š</p>

<ul>
  <li>å®šä¹‰è¦å­˜å‚¨å€¼çš„å±æ€§</li>
  <li>å®šä¹‰æ–¹æ³•ä»¥æä¾›åŠŸèƒ½</li>
  <li>å®šä¹‰ä¸‹æ ‡ï¼Œä»¥ä½¿ç”¨ä¸‹æ ‡è¯­æ³•è®¿é—®å…¶å€¼</li>
  <li>å®šä¹‰åˆå§‹åŒ–ç¨‹åºä»¥è®¾ç½®å…¶åˆå§‹çŠ¶æ€</li>
  <li>æ‰©å±•å…¶åŠŸèƒ½è¶…å‡ºé»˜è®¤å®ç°</li>
  <li>ç¬¦åˆåè®®ä»¥æä¾›æŸç§ç±»å‹çš„æ ‡å‡†åŠŸèƒ½</li>
</ul>

<p>2ã€ç±»ç‹¬æœ‰åŠŸèƒ½ï¼š</p>

<ul>
  <li>ç»§æ‰¿ä½¿ä¸€ä¸ªç±»èƒ½å¤Ÿç»§æ‰¿å¦ä¸€ä¸ªç±»çš„ç‰¹æ€§ã€‚</li>
  <li>ç±»å‹è½¬æ¢ä½¿æ‚¨èƒ½å¤Ÿåœ¨è¿è¡Œæ—¶æ£€æŸ¥å’Œè§£é‡Šç±»å®ä¾‹çš„ç±»å‹ã€‚</li>
  <li>Deinitializersä½¿ä¸€ä¸ªç±»çš„å®ä¾‹é‡Šæ”¾å®ƒåˆ†é…çš„ä»»ä½•èµ„æºã€‚</li>
  <li>å¼•ç”¨è®¡æ•°å…è®¸å¯¹ç±»å®ä¾‹çš„å¤šä¸ªå¼•ç”¨ã€‚</li>
</ul>

<p>æ³¨æ„ï¼šç»“æ„åœ¨codeä¸­ä¼ é€’å¹¶ä¸ä¼šä½¿ç”¨å¼•ç”¨è®¡æ•°ï¼šStructures are always copied when they are passed around in your code, and do not use reference counting.</p>

<p>ä¸åŒä¹‹å¤„ï¼š</p>

<ul>
  <li>ä¸ç»“æ„ä¸åŒï¼Œç±»å®ä¾‹ä¸æ¥æ”¶é»˜è®¤çš„æˆå‘˜åˆå§‹åŒ–</li>
</ul>

<p>3ã€å®šä¹‰ï¼š</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">SomeClass</span> <span class="p">{</span>
    <span class="c1">// class ç±»å®šä¹‰</span>
<span class="p">}</span>
<span class="kd">struct</span> <span class="kt">SomeStructure</span> <span class="p">{</span>
    <span class="c1">// structure  ç»“æ„ä½“å®šä¹‰</span>
<span class="p">}</span>
</code></pre>
</div>
<p>ä¾‹å¦‚ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">Resolution</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">width</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">var</span> <span class="nv">height</span> <span class="o">=</span> <span class="mi">0</span>
<span class="p">}</span>
<span class="kd">class</span> <span class="kt">VideoMode</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">resolution</span> <span class="o">=</span> <span class="kt">Resolution</span><span class="p">()</span>
    <span class="k">var</span> <span class="nv">interlaced</span> <span class="o">=</span> <span class="kc">false</span>
    <span class="k">var</span> <span class="nv">frameRate</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="k">var</span> <span class="nv">name</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span>
<span class="p">}</span>
</code></pre>
</div>

<p>4ã€å®ä¾‹ï¼š</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">someResolution</span> <span class="o">=</span> <span class="kt">Resolution</span><span class="p">()</span> <span class="c1">// ç»“æ„ä½“å®ä¾‹</span>
<span class="k">let</span> <span class="nv">someVideoMode</span> <span class="o">=</span> <span class="kt">VideoMode</span><span class="p">()</span>  <span class="c1">// ç±»çš„å®ä¾‹</span>
</code></pre>
</div>

<p>5ã€å±æ€§ï¼š</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="c1">// ç‚¹è¯­æ³•è®¿é—®:</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"The width of someResolution is </span><span class="se">\(</span><span class="n">someResolution</span><span class="o">.</span><span class="n">width</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="c1">// Prints "The width of someResolution is 0"</span>

<span class="c1">// è®¿é—®å­å±æ€§ï¼š</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"The width of someVideoMode is </span><span class="se">\(</span><span class="n">someVideoMode</span><span class="o">.</span><span class="n">resolution</span><span class="o">.</span><span class="n">width</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="c1">// Prints "The width of someVideoMode is 0"</span>

<span class="c1">// ç‚¹è¯­æ³•èµ‹å€¼</span>
<span class="c1">// ä¸OCä¸åŒï¼ŒSwiftå…è®¸ç›´æ¥è®¾ç½®ç»“æ„å±æ€§çš„å­å±æ€§</span>
<span class="n">someVideoMode</span><span class="o">.</span><span class="n">resolution</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="mi">1280</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"The width of someVideoMode is now </span><span class="se">\(</span><span class="n">someVideoMode</span><span class="o">.</span><span class="n">resolution</span><span class="o">.</span><span class="n">width</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="c1">// Prints "The width of someVideoMode is now 1280"</span>
</code></pre>
</div>

<p>6ã€ç»“æ„ä½“æˆå‘˜æ„é€ å™¨ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="c1">// ä¸ç»“æ„ä¸åŒï¼Œç±»å®ä¾‹ä¸æ¥æ”¶é»˜è®¤çš„æˆå‘˜åˆå§‹åŒ–</span>
<span class="k">let</span> <span class="nv">vga</span> <span class="o">=</span> <span class="kt">Resolution</span><span class="p">(</span><span class="nv">width</span><span class="p">:</span> <span class="mi">640</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span> <span class="mi">480</span><span class="p">)</span>
</code></pre>
</div>

<h3 id="section-6">ç»“æ„å’Œæšä¸¾æ˜¯å€¼ç±»å‹</h3>
<ul>
  <li>é»˜è®¤æƒ…å†µä¸‹ï¼Œå€¼ç±»å‹çš„å±æ€§ä¸èƒ½åœ¨å®ƒçš„å®ä¾‹æ–¹æ³•ä¸­è¢«ä¿®æ”¹ï¼›</li>
  <li>å€¼ç±»å‹è¢«èµ‹äºˆç»™ä¸€ä¸ªå˜é‡ã€å¸¸é‡æˆ–è€…è¢«ä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œå…¶å€¼ä¼šè¢«æ‹·è´ï¼›</li>
  <li>åœ¨ Swift ä¸­ï¼Œæ‰€æœ‰çš„ç»“æ„ä½“å’Œæšä¸¾ç±»å‹éƒ½æ˜¯å€¼ç±»å‹ã€‚è¿™æ„å‘³ç€å®ƒä»¬çš„å®ä¾‹ï¼Œä»¥åŠå®ä¾‹ä¸­æ‰€åŒ…å«çš„ä»»ä½•å€¼ç±»å‹å±æ€§ï¼Œåœ¨ä»£ç ä¸­ä¼ é€’çš„æ—¶å€™éƒ½ä¼šè¢«å¤åˆ¶ï¼›</li>
  <li>åœ¨ Swift ä¸­ï¼Œæ‰€æœ‰çš„åŸºæœ¬ç±»å‹ï¼šæ•´æ•°ï¼ˆIntegerï¼‰ã€æµ®ç‚¹æ•°ï¼ˆfloating-pointï¼‰ã€å¸ƒå°”å€¼ï¼ˆBooleanï¼‰ã€å­—ç¬¦ä¸²ï¼ˆstring)ã€æ•°ç»„ï¼ˆarrayï¼‰å’Œå­—å…¸ï¼ˆdictionaryï¼‰ï¼Œéƒ½æ˜¯å€¼ç±»å‹ï¼Œå¹¶ä¸”åœ¨åº•å±‚éƒ½æ˜¯ä»¥ç»“æ„ä½“çš„å½¢å¼æ‰€å®ç°ï¼›</li>
</ul>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">hd</span> <span class="o">=</span> <span class="kt">Resolution</span><span class="p">(</span><span class="nv">width</span><span class="p">:</span> <span class="mi">1920</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span> <span class="mi">1080</span><span class="p">)</span>
<span class="c1">// å°†hdèµ‹äºˆcinameæ—¶ï¼Œå®é™…ä¸Šæ˜¯å°†hdå‚¨å­˜çš„å€¼copyç»™cinameï¼Œå­˜åœ¨cinameå®ä¾‹ä¸­ã€‚ç»“æœå°±æ˜¯ä¸¤ä¸ªå®Œå…¨ç‹¬ç«‹çš„å®ä¾‹æ°å·§åŒ…å«ç›¸åŒçš„æ•°å€¼ã€‚</span>
<span class="k">var</span> <span class="nv">cinema</span> <span class="o">=</span> <span class="n">hd</span>
<span class="n">cinema</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="mi">2048</span>
</code></pre>
</div>
<p>æšä¸¾ä¹Ÿéµå®ˆç›¸åŒçš„è§„åˆ™</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">enum</span> <span class="kt">CompassPoint</span> <span class="p">{</span>
    <span class="k">case</span> <span class="n">north</span><span class="p">,</span> <span class="n">south</span><span class="p">,</span> <span class="n">east</span><span class="p">,</span> <span class="n">west</span>
<span class="p">}</span>
<span class="k">var</span> <span class="nv">currentDirection</span> <span class="o">=</span> <span class="kt">CompassPoint</span><span class="o">.</span><span class="n">west</span>
<span class="k">let</span> <span class="nv">rememberedDirection</span> <span class="o">=</span> <span class="n">currentDirection</span>
<span class="n">currentDirection</span> <span class="o">=</span> <span class="o">.</span><span class="n">east</span>
<span class="k">if</span> <span class="n">rememberedDirection</span> <span class="o">==</span> <span class="o">.</span><span class="n">west</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"The remembered direction is still .west"</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1">// Prints "The remembered direction is still .west"</span>
</code></pre>
</div>

<h3 id="section-7">ç±»æ˜¯å¼•ç”¨ç±»å‹</h3>

<p>ä¸å€¼ç±»å‹ä¸åŒï¼Œå¼•ç”¨ç±»å‹åœ¨è¢«èµ‹äºˆåˆ°ä¸€ä¸ªå˜é‡ã€å¸¸é‡æˆ–è€…è¢«ä¼ é€’åˆ°ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå…¶å€¼ä¸ä¼šè¢«æ‹·è´ã€‚å› æ­¤ï¼Œå¼•ç”¨çš„æ˜¯å·²å­˜åœ¨çš„å®ä¾‹æœ¬èº«è€Œä¸æ˜¯å…¶æ‹·è´</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">tenEighty</span> <span class="o">=</span> <span class="kt">VideoMode</span><span class="p">()</span>
<span class="n">tenEighty</span><span class="o">.</span><span class="n">resolution</span> <span class="o">=</span> <span class="n">hd</span>
<span class="n">tenEighty</span><span class="o">.</span><span class="n">interlaced</span> <span class="o">=</span> <span class="kc">true</span>
<span class="n">tenEighty</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">"1080i"</span>
<span class="n">tenEighty</span><span class="o">.</span><span class="n">frameRate</span> <span class="o">=</span> <span class="mf">25.0</span>

<span class="k">let</span> <span class="nv">alsoTenEighty</span> <span class="o">=</span> <span class="n">tenEighty</span>
<span class="n">alsoTenEighty</span><span class="o">.</span><span class="n">frameRate</span> <span class="o">=</span> <span class="mf">30.0</span>

<span class="nf">print</span><span class="p">(</span><span class="s">"The frameRate property of tenEighty is now </span><span class="se">\(</span><span class="n">tenEighty</span><span class="o">.</span><span class="n">frameRate</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="c1">// Prints "The frameRate property of tenEighty is now 30.0"</span>

<span class="c1">// å› ä¸ºç±»æ˜¯å¼•ç”¨ç±»å‹ï¼Œæ‰€ä»¥tenEightå’ŒalsoTenEightå®é™…ä¸Šå¼•ç”¨çš„æ˜¯ç›¸åŒçš„VideoModeå®ä¾‹ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒä»¬æ˜¯åŒä¸€ä¸ªå®ä¾‹çš„ä¸¤ç§å«æ³•ã€‚</span>
</code></pre>
</div>

<p>æ³¨æ„ï¼štenEightyå’ŒalsoTenEightyè¢«å£°æ˜ä¸ºå¸¸é‡è€Œä¸æ˜¯å˜é‡ã€‚ä»–ä»¬å­˜çš„æ˜¯æŒ‡é’ˆï¼Œåªè¦æŒ‡é’ˆä¸æ”¹å˜å°±okï¼ŒæŒ‡é’ˆæŒ‡å‘çš„å®ä¾‹çš„å±æ€§æ˜¯å¯ä»¥æ”¹å˜çš„ã€‚</p>

<h3 id="section-8">æ’ç­‰è¿ç®—ç¬¦</h3>
<p>å› ä¸ºç±»æ˜¯å¼•ç”¨ç±»å‹ï¼Œæœ‰å¯èƒ½æœ‰å¤šä¸ªå¸¸é‡å’Œå˜é‡åœ¨å¹•ååŒæ—¶å¼•ç”¨åŒä¸€ä¸ªç±»å®ä¾‹ã€‚ï¼ˆå¯¹äºç»“æ„ä½“å’Œæšä¸¾æ¥è¯´ï¼Œè¿™å¹¶ä¸æˆç«‹ã€‚å› ä¸ºå®ƒä»¬ä½œä¸ºå€¼ç±»å‹ï¼Œåœ¨è¢«èµ‹äºˆåˆ°å¸¸é‡ã€å˜é‡æˆ–è€…ä¼ é€’åˆ°å‡½æ•°æ—¶ï¼Œå…¶å€¼æ€»æ˜¯ä¼šè¢«æ‹·è´ã€‚ï¼‰</p>

<p>å¦‚æœèƒ½å¤Ÿåˆ¤å®šä¸¤ä¸ªå¸¸é‡æˆ–è€…å˜é‡æ˜¯å¦å¼•ç”¨åŒä¸€ä¸ªç±»å®ä¾‹å°†ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚ä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼ŒSwift å†…å»ºäº†ä¸¤ä¸ªæ’ç­‰è¿ç®—ç¬¦ï¼š</p>

<ul>
  <li>ç­‰ä»·äºï¼ˆ===ï¼‰  â€œç­‰ä»·äºâ€è¡¨ç¤ºä¸¤ä¸ªç±»ç±»å‹ï¼ˆclass typeï¼‰çš„å¸¸é‡æˆ–è€…å˜é‡å¼•ç”¨åŒä¸€ä¸ªç±»å®ä¾‹ã€‚</li>
  <li>ä¸ç­‰ä»·äºï¼ˆ!==ï¼‰</li>
  <li>ä»¥ä¸Šå’Œ=ï¼Œ!=æ˜¯ä¸åŒçš„ï¼Œæ³¨æ„åŒºåˆ†</li>
</ul>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">if</span> <span class="n">tenEighty</span> <span class="o">===</span> <span class="n">alsoTenEighty</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"tenEighty and alsoTenEighty refer to the same VideoMode instance."</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1">// Prints "tenEighty and alsoTenEighty refer to the same VideoMode instance."</span>
</code></pre>
</div>
<h3 id="section-9">æŒ‡é’ˆ</h3>

<ul>
  <li>Swiftå¼±åŒ–äº†æŒ‡é’ˆçš„æ¦‚å¿µï¼Œå…¶å®è¿™é‡Œçš„å¼•ç”¨ç±»å‹ï¼Œå°±æ˜¯æŒ‡é’ˆçš„ä½“ç°ã€‚</li>
  <li>æ³¨æ„Swiftä¸­çš„æŒ‡é’ˆï¼Œä¸Cä¸­çš„æŒ‡é’ˆç±»ä¼¼ï¼Œä½†å¹¶ä¸ç›´æ¥æŒ‡å‘æŸä¸ªå†…å­˜åœ°å€ï¼Œä¸è¦æ±‚ç”¨*æ¥è¡¨æ˜åˆ›å»ºçš„æ˜¯ä¸€ä¸ªå¼•ç”¨</li>
</ul>

<h3 id="section-10">é€‰æ‹©ç±»è¿˜æ˜¯ç»“æ„ä½“</h3>

<ul>
  <li>ç»“æ„ä½“å®ä¾‹æ€»æ˜¯é€šè¿‡å€¼ä¼ é€’ï¼Œç±»å®ä¾‹æ€»æ˜¯é€šè¿‡å¼•ç”¨ä¼ é€’ã€‚è¿™æ„å‘³ä¸¤è€…é€‚ç”¨ä¸åŒçš„ä»»åŠ¡</li>
</ul>

<p>æ„å»ºç»“æ„ä½“çš„æ¡ä»¶ï¼š</p>
<ul>
  <li>è¯¥æ•°æ®ç»“æ„çš„ä¸»è¦ç›®çš„æ˜¯ç”¨æ¥å°è£…å°‘é‡ç›¸å…³ç®€å•æ•°æ®å€¼ã€‚</li>
  <li>æœ‰ç†ç”±é¢„è®¡è¯¥æ•°æ®ç»“æ„çš„å®ä¾‹åœ¨è¢«èµ‹å€¼æˆ–ä¼ é€’æ—¶ï¼Œå°è£…çš„æ•°æ®å°†ä¼šè¢«æ‹·è´è€Œä¸æ˜¯è¢«å¼•ç”¨ã€‚</li>
  <li>è¯¥æ•°æ®ç»“æ„ä¸­å‚¨å­˜çš„å€¼ç±»å‹å±æ€§ï¼Œä¹Ÿåº”è¯¥è¢«æ‹·è´ï¼Œè€Œä¸æ˜¯è¢«å¼•ç”¨ã€‚</li>
  <li>è¯¥æ•°æ®ç»“æ„ä¸éœ€è¦å»ç»§æ‰¿å¦ä¸€ä¸ªæ—¢æœ‰ç±»å‹çš„å±æ€§æˆ–è€…è¡Œä¸ºã€‚
æˆ–è€…ï¼š</li>
  <li>å‡ ä½•å½¢çŠ¶çš„å¤§å°ï¼Œå°è£…ä¸€ä¸ªwidthå±æ€§å’Œheightå±æ€§ï¼Œä¸¤è€…å‡ä¸ºDoubleç±»å‹ã€‚</li>
  <li>ä¸€å®šèŒƒå›´å†…çš„è·¯å¾„ï¼Œå°è£…ä¸€ä¸ªstartå±æ€§å’Œlengthå±æ€§ï¼Œä¸¤è€…å‡ä¸ºIntç±»å‹ã€‚</li>
  <li>ä¸‰ç»´åæ ‡ç³»å†…ä¸€ç‚¹ï¼Œå°è£…xï¼Œyå’Œzå±æ€§ï¼Œä¸‰è€…å‡ä¸ºDoubleç±»å‹ã€‚</li>
</ul>

<p>åœ¨æ‰€æœ‰å…¶å®ƒæ¡ˆä¾‹ä¸­ï¼Œå®šä¹‰ä¸€ä¸ªç±»ï¼Œç”Ÿæˆä¸€ä¸ªå®ƒçš„å®ä¾‹ï¼Œå¹¶é€šè¿‡å¼•ç”¨æ¥ç®¡ç†å’Œä¼ é€’ã€‚å®é™…ä¸­ï¼Œè¿™æ„å‘³ç€ç»å¤§éƒ¨åˆ†çš„è‡ªå®šä¹‰æ•°æ®æ„é€ éƒ½åº”è¯¥æ˜¯ç±»ï¼Œè€Œéç»“æ„ä½“ã€‚</p>

<h3 id="section-11">å­—ç¬¦ä¸²ã€æ•°ç»„ã€å’Œå­—å…¸ç±»å‹çš„èµ‹å€¼ä¸å¤åˆ¶</h3>

<ul>
  <li>
    <p>Swift ä¸­ï¼Œè®¸å¤šåŸºæœ¬ç±»å‹ï¼Œè¯¸å¦‚Stringï¼ŒArrayå’ŒDictionaryç±»å‹å‡ä»¥ç»“æ„ä½“çš„å½¢å¼å®ç°ã€‚è¿™æ„å‘³ç€è¢«èµ‹å€¼ç»™æ–°çš„å¸¸é‡æˆ–å˜é‡ï¼Œæˆ–è€…è¢«ä¼ å…¥å‡½æ•°æˆ–æ–¹æ³•ä¸­æ—¶ï¼Œå®ƒä»¬çš„å€¼ä¼šè¢«æ‹·è´ã€‚</p>
  </li>
  <li>
    <p>Objective-C ä¸­NSStringï¼ŒNSArrayå’ŒNSDictionaryç±»å‹å‡ä»¥ç±»çš„å½¢å¼å®ç°ï¼Œè€Œå¹¶éç»“æ„ä½“ã€‚å®ƒä»¬åœ¨è¢«èµ‹å€¼æˆ–è€…è¢«ä¼ å…¥å‡½æ•°æˆ–æ–¹æ³•æ—¶ï¼Œä¸ä¼šå‘ç”Ÿå€¼æ‹·è´ï¼Œè€Œæ˜¯ä¼ é€’ç°æœ‰å®ä¾‹çš„å¼•ç”¨ã€‚</p>
  </li>
</ul>

<p>æ³¨æ„ï¼š
ä»¥ä¸Šæ˜¯å¯¹å­—ç¬¦ä¸²ã€æ•°ç»„ã€å­—å…¸çš„â€œæ‹·è´â€è¡Œä¸ºçš„æè¿°ã€‚åœ¨ä½ çš„ä»£ç ä¸­ï¼Œæ‹·è´è¡Œä¸ºçœ‹èµ·æ¥ä¼¼ä¹æ€»ä¼šå‘ç”Ÿã€‚ç„¶è€Œï¼ŒSwift åœ¨å¹•ååªåœ¨ç»å¯¹å¿…è¦æ—¶æ‰æ‰§è¡Œå®é™…çš„æ‹·è´ã€‚Swift ç®¡ç†æ‰€æœ‰çš„å€¼æ‹·è´ä»¥ç¡®ä¿æ€§èƒ½æœ€ä¼˜åŒ–ï¼Œæ‰€ä»¥ä½ æ²¡å¿…è¦å»å›é¿èµ‹å€¼æ¥ä¿è¯æ€§èƒ½æœ€ä¼˜åŒ–ã€‚</p>

<h1 id="properties">å±æ€§ï¼šProperties</h1>

<ul>
  <li>å±æ€§ï¼šå°†å€¼è·Ÿç‰¹å®šçš„ç±»ã€ç»“æ„æˆ–æšä¸¾å…³è”ï¼›</li>
  <li>å­˜å‚¨å±æ€§ï¼šå­˜å‚¨å¸¸é‡æˆ–å˜é‡ä½œä¸ºå®ä¾‹çš„ä¸€éƒ¨åˆ†ã€‚å­˜å‚¨å±æ€§åªèƒ½ç”¨äºç±»å’Œç»“æ„ä½“ï¼›</li>
  <li>è®¡ç®—å±æ€§ï¼šè®¡ç®—ä¸€ä¸ªå€¼ã€‚è®¡ç®—å±æ€§å¯ä»¥ç”¨äºç±»ã€ç»“æ„ä½“å’Œæšä¸¾ï¼›</li>
  <li>ç±»å‹å±æ€§ï¼šå±æ€§ä¹Ÿå¯ä»¥ç›´æ¥ä½œç”¨äºç±»å‹æœ¬èº«ï¼Œè¿™ç§å±æ€§ç§°ä¸ºç±»å‹å±æ€§ï¼›</li>
  <li>å±æ€§è§‚å¯Ÿå™¨ï¼šç›‘æ§å±æ€§å€¼çš„å˜åŒ–ï¼Œä»¥æ­¤æ¥è§¦å‘ä¸€ä¸ªè‡ªå®šä¹‰çš„æ“ä½œï¼›</li>
  <li>å±æ€§è§‚å¯Ÿå™¨å¯ä»¥æ·»åŠ åˆ°è‡ªå·±å®šä¹‰çš„å­˜å‚¨å±æ€§ä¸Šï¼Œä¹Ÿå¯ä»¥æ·»åŠ åˆ°ä»çˆ¶ç±»ç»§æ‰¿çš„å±æ€§ä¸Šã€‚</li>
  <li>å¸¸é‡å±æ€§åœ¨æ„é€ è¿‡ç¨‹å®Œæˆä¹‹å‰å¿…é¡»è¦æœ‰åˆå§‹å€¼ï¼Œå˜é‡å±æ€§åˆ™æ— ã€‚</li>
</ul>

<h3 id="stored-properties">å‚¨å­˜å±æ€§ Stored Properties</h3>

<p>ç®€å•æ¥è¯´ï¼Œä¸€ä¸ªå­˜å‚¨å±æ€§å°±æ˜¯å­˜å‚¨åœ¨ç‰¹å®šç±»æˆ–ç»“æ„ä½“å®ä¾‹é‡Œçš„ä¸€ä¸ªå¸¸é‡æˆ–å˜é‡ã€‚å­˜å‚¨å±æ€§å¯ä»¥æ˜¯å˜é‡å­˜å‚¨å±æ€§ï¼ˆç”¨å…³é”®å­—varå®šä¹‰ï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯å¸¸é‡å­˜å‚¨å±æ€§ï¼ˆç”¨å…³é”®å­—letå®šä¹‰ï¼‰ã€‚</p>

<p>1ã€åœ¨å®šä¹‰å±æ€§çš„æ—¶å€™æŒ‡å®šé»˜è®¤å€¼:é»˜è®¤æ„é€ å™¨</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">ShoppingListItem</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">name</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span>
    <span class="k">var</span> <span class="nv">quantity</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">var</span> <span class="nv">purchased</span> <span class="o">=</span> <span class="kc">false</span>
<span class="p">}</span>
<span class="k">var</span> <span class="nv">item</span> <span class="o">=</span> <span class="kt">ShoppingListItem</span><span class="p">()</span>
</code></pre>
</div>

<p>2ã€åœ¨æ„é€ è¿‡ç¨‹ä¸­è®¾ç½®æˆ–è€…ä¿®æ”¹å‚¨å­˜å±æ€§çš„å€¼ï¼Œç”šè‡³æ˜¯å¸¸é‡çš„å‚¨å­˜å±æ€§çš„å€¼ï¼š</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">SurveyQuestion</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">text</span><span class="p">:</span> <span class="kt">String</span>
    <span class="k">var</span> <span class="nv">response</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span>
    <span class="nf">init</span><span class="p">(</span><span class="nv">text</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">text</span>
    <span class="p">}</span>
    <span class="kd">func</span> <span class="nf">ask</span><span class="p">()</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// ä¿®æ”¹å¸¸é‡å±æ€§çš„å€¼ï¼š</span>
<span class="k">let</span> <span class="nv">beetsQuestion</span> <span class="o">=</span> <span class="kt">SurveyQuestion</span><span class="p">(</span><span class="nv">text</span><span class="p">:</span> <span class="s">"How about beets?"</span><span class="p">)</span>
<span class="n">beetsQuestion</span><span class="o">.</span><span class="nf">ask</span><span class="p">()</span>
<span class="c1">// æ‰“å° "How about beets?"</span>
<span class="n">beetsQuestion</span><span class="o">.</span><span class="n">response</span> <span class="o">=</span> <span class="s">"I also like beets. (But not with cheese.)"</span>
</code></pre>
</div>

<p>3ã€å¸¸é‡ç»“æ„ä½“çš„å‚¨å­˜å±æ€§ï¼š</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="c1">// å±æ€§</span>
<span class="kd">struct</span> <span class="kt">FixedLengthRange</span> <span class="p">{</span>
    <span class="c1">// å˜é‡å±æ€§</span>
    <span class="k">var</span> <span class="nv">firstValue</span><span class="p">:</span> <span class="kt">Int</span>
    <span class="c1">// å¸¸é‡å±æ€§</span>
    <span class="k">let</span> <span class="nv">length</span><span class="p">:</span> <span class="kt">Int</span>
<span class="p">}</span>
<span class="c1">// ä½¿ç”¨é»˜è®¤æ„é€ å™¨ï¼š</span>
<span class="k">var</span> <span class="nv">rangeOfThreeItems</span> <span class="o">=</span> <span class="kt">FixedLengthRange</span><span class="p">(</span><span class="nv">firstValue</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">length</span><span class="p">:</span> <span class="mi">3</span><span class="p">)</span>
<span class="c1">// ä¿®æ”¹å˜é‡å±æ€§</span>
<span class="n">rangeOfThreeItems</span><span class="o">.</span><span class="n">firstValue</span> <span class="o">=</span> <span class="mi">6</span>
<span class="c1">// ä¸èƒ½ä¿®æ”¹å¸¸é‡å±æ€§ï¼Œerror</span>
<span class="n">rangeOfThreeItems</span><span class="o">.</span><span class="n">length</span> <span class="o">=</span> <span class="mi">10</span>

<span class="c1">// å¸¸é‡ç»“æ„ä½“:å˜é‡å±æ€§ä¸å¯ä»¥ä¿®æ”¹</span>
<span class="c1">// å¦‚æœåˆ›å»ºäº†ä¸€ä¸ªç»“æ„ä½“çš„å®ä¾‹å¹¶å°†å…¶èµ‹å€¼ç»™ä¸€ä¸ªå¸¸é‡ï¼Œåˆ™æ— æ³•ä¿®æ”¹è¯¥å®ä¾‹çš„ä»»ä½•å±æ€§ï¼Œå³ä½¿æœ‰å±æ€§è¢«å£°æ˜ä¸ºå˜é‡ä¹Ÿä¸è¡Œï¼š</span>
<span class="k">let</span> <span class="nv">hd</span> <span class="o">=</span> <span class="n">rangeOfThreeItems</span>
<span class="n">hd</span><span class="o">.</span><span class="n">firstValue</span> <span class="o">=</span> <span class="mi">2048</span> 
<span class="c1">// this will report an error, even though firstValue is a variable property</span>


</code></pre>
</div>

<p>æ€»ç»“ï¼š</p>
<ul>
  <li>ç»“æ„ä½“æ˜¯å€¼ç±»å‹ï¼›å½“å™¨å£°æ˜ä¸ºå¸¸é‡çš„æ—¶å€™ï¼Œå…¶æ‰€æœ‰å±æ€§ï¼Œçš†æ˜¯å¸¸é‡ï¼Œçš†ä¸å¯ä¿®æ”¹ï¼›</li>
  <li>ç±»åˆ™ä¸åŒï¼Œä»–æ˜¯å¼•ç”¨ç±»å‹ï¼Œå³ä¾¿æ˜¯å®šä¹‰ä¸ºå¸¸é‡ï¼Œä¹Ÿä¸å½±å“ä¿®æ”¹å±æ€§ï¼›</li>
  <li>å˜é‡ç»“æ„ä½“ä¸­çš„å¸¸é‡å±æ€§ï¼Œä¸èƒ½è¢«ä¿®æ”¹ï¼Œå˜é‡å±æ€§å¯ä»¥ä¿®æ”¹ï¼›</li>
  <li>å¸¸é‡ç»“æ„ä½“ä¸­çš„å¸¸å˜é‡å±æ€§çš†ä¸å¯ä¿®æ”¹ï¼›</li>
</ul>

<p>4ã€å»¶æ—¶å‚¨å­˜å±æ€§</p>

<p>å»¶è¿Ÿå­˜å‚¨å±æ€§æ˜¯æŒ‡å½“ç¬¬ä¸€æ¬¡è¢«è°ƒç”¨çš„æ—¶å€™æ‰ä¼šè®¡ç®—å…¶åˆå§‹å€¼çš„å±æ€§ã€‚</p>

<ul>
  <li>åœ¨å±æ€§å£°æ˜å‰ä½¿ç”¨lazyæ¥æ ‡ç¤ºä¸€ä¸ªå»¶è¿Ÿå­˜å‚¨å±æ€§ï¼›</li>
  <li>å¿…é¡»å°†å»¶è¿Ÿå­˜å‚¨å±æ€§å£°æ˜æˆå˜é‡ï¼ˆvarï¼‰ï¼Œå› ä¸ºå±æ€§çš„åˆå§‹å€¼å¯èƒ½åœ¨å®ä¾‹æ„é€ å®Œæˆä¹‹åæ‰ä¼šå¾—åˆ°ã€‚è€Œå¸¸é‡å±æ€§åœ¨æ„é€ è¿‡ç¨‹å®Œæˆä¹‹å‰å¿…é¡»è¦æœ‰åˆå§‹å€¼ï¼Œå› æ­¤æ— æ³•å£°æ˜æˆå»¶è¿Ÿå±æ€§ã€‚</li>
</ul>

<p>æ¡ˆä¾‹ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="c1">// DataImporter æ˜¯ä¸€ä¸ªè´Ÿè´£å°†å¤–éƒ¨æ–‡ä»¶ä¸­çš„æ•°æ®å¯¼å…¥çš„ç±»ã€‚è¿™ä¸ªç±»çš„åˆå§‹åŒ–ä¼šæ¶ˆè€—ä¸å°‘æ—¶é—´ã€‚</span>
<span class="kd">class</span> <span class="kt">DataImporter</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">fileName</span> <span class="o">=</span> <span class="s">"data.txt"</span>
    <span class="c1">// è¿™é‡Œä¼šæä¾›æ•°æ®å¯¼å…¥åŠŸèƒ½</span>
<span class="p">}</span>
<span class="kd">class</span> <span class="kt">DataManager</span> <span class="p">{</span>
    <span class="kd">lazy</span> <span class="k">var</span> <span class="nv">importer</span> <span class="o">=</span> <span class="kt">DataImporter</span><span class="p">()</span>
    <span class="c1">// dataå±æ€§åˆå§‹å€¼æ˜¯ä¸€ä¸ªç©ºçš„å­—ç¬¦ä¸²ï¼ˆStringï¼‰æ•°ç»„</span>
    <span class="k">var</span> <span class="nv">data</span> <span class="o">=</span> <span class="p">[</span><span class="kt">String</span><span class="p">]()</span>
    <span class="c1">// è¿™é‡Œä¼šæä¾›æ•°æ®ç®¡ç†åŠŸèƒ½</span>
<span class="p">}</span>
<span class="k">let</span> <span class="nv">manager</span> <span class="o">=</span> <span class="kt">DataManager</span><span class="p">()</span>
<span class="n">manager</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="s">"Some data"</span><span class="p">)</span>
<span class="n">manager</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="s">"Some more data"</span><span class="p">)</span>
<span class="c1">// the DataImporter instance for the importer property has not yet been created</span>

<span class="c1">// åªæœ‰ä½¿ç”¨çš„æ—¶å€™æ‰ä¼šåˆ›å»º</span>
<span class="nf">print</span><span class="p">(</span><span class="n">manager</span><span class="o">.</span><span class="n">importer</span><span class="o">.</span><span class="n">fileName</span><span class="p">)</span>
<span class="c1">// Prints "data.txt"</span>
</code></pre>
</div>

<p>æ³¨æ„ï¼šå¦‚æœä¸€ä¸ªè¢«æ ‡è®°ä¸ºlazyçš„å±æ€§åœ¨æ²¡æœ‰åˆå§‹åŒ–æ—¶å°±åŒæ—¶è¢«å¤šä¸ªçº¿ç¨‹è®¿é—®ï¼Œåˆ™æ— æ³•ä¿è¯è¯¥å±æ€§åªä¼šè¢«åˆå§‹åŒ–ä¸€æ¬¡ã€‚</p>

<p>5ã€å­˜å‚¨å±æ€§å’Œå®ä¾‹å˜é‡</p>

<p>OCä¸ºç±»å®ä¾‹å­˜å‚¨å€¼å’Œå¼•ç”¨æä¾›ä¸¤ç§æ–¹æ³•ï¼Œé™¤äº†å±æ€§ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨å®ä¾‹å˜é‡ä½œä¸ºå±æ€§å€¼çš„åç«¯å­˜å‚¨ã€‚</p>

<p>Swiftç¼–ç¨‹è¯­è¨€ä¸­æŠŠè¿™äº›ç†è®ºç»Ÿä¸€ç”¨å±æ€§æ¥å®ç°ã€‚Swiftä¸­çš„å±æ€§æ²¡æœ‰å¯¹åº”çš„å®ä¾‹å˜é‡ï¼Œå±æ€§çš„åç«¯å­˜å‚¨ä¹Ÿæ— æ³•ç›´æ¥è®¿é—®ã€‚è¿™å°±é¿å…äº†ä¸åŒåœºæ™¯ä¸‹è®¿é—®æ–¹å¼çš„å›°æ‰°ï¼ŒåŒæ—¶ä¹Ÿå°†å±æ€§çš„å®šä¹‰ç®€åŒ–æˆä¸€ä¸ªè¯­å¥ã€‚å±æ€§çš„å…¨éƒ¨ä¿¡æ¯â€”â€”åŒ…æ‹¬å‘½åã€ç±»å‹å’Œå†…å­˜ç®¡ç†ç‰¹å¾â€”â€”éƒ½åœ¨å”¯ä¸€ä¸€ä¸ªåœ°æ–¹ï¼ˆç±»å‹å®šä¹‰ä¸­ï¼‰å®šä¹‰ã€‚</p>

<h3 id="computed-properties">è®¡ç®—å±æ€§ Computed Properties</h3>

<p>é™¤å­˜å‚¨å±æ€§å¤–ï¼Œç±»ã€ç»“æ„ä½“å’Œæšä¸¾å¯ä»¥å®šä¹‰è®¡ç®—å±æ€§ã€‚è®¡ç®—å±æ€§ä¸ç›´æ¥å­˜å‚¨å€¼ï¼Œè€Œæ˜¯æä¾›ä¸€ä¸ªgetter å’Œä¸€ä¸ªå¯é€‰çš„setterï¼Œæ¥é—´æ¥è·å–å’Œè®¾ç½®å…¶ä»–å±æ€§æˆ–å˜é‡çš„å€¼ã€‚</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="c1">// Point å°è£…äº†ä¸€ä¸ª (x, y) çš„åæ ‡</span>
<span class="kd">struct</span> <span class="kt">Point</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">x</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="p">}</span>

<span class="c1">// Size å°è£…äº†ä¸€ä¸ª width å’Œä¸€ä¸ª height</span>
<span class="kd">struct</span> <span class="kt">Size</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">width</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="p">}</span>

<span class="c1">// Rect è¡¨ç¤ºä¸€ä¸ªæœ‰åŸç‚¹å’Œå°ºå¯¸çš„çŸ©å½¢</span>
<span class="kd">struct</span> <span class="kt">Rect</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">origin</span> <span class="o">=</span> <span class="kt">Point</span><span class="p">()</span>
    <span class="k">var</span> <span class="nv">size</span> <span class="o">=</span> <span class="kt">Size</span><span class="p">()</span>
<span class="c1">// ä¸€ä¸ªçŸ©å½¢çš„ä¸­å¿ƒç‚¹å¯ä»¥ä»åŸç‚¹ï¼ˆoriginï¼‰å’Œå¤§å°ï¼ˆsizeï¼‰ç®—å‡ºï¼Œæ‰€ä»¥ä¸éœ€è¦å°†å®ƒä»¥æ˜¾å¼å£°æ˜çš„ Pointæ¥ä¿å­˜</span>
    <span class="k">var</span> <span class="nv">center</span><span class="p">:</span> <span class="kt">Point</span> <span class="p">{</span>
        <span class="k">get</span> <span class="p">{</span>
            <span class="k">let</span> <span class="nv">centerX</span> <span class="o">=</span> <span class="n">origin</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="p">(</span><span class="n">size</span><span class="o">.</span><span class="n">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
            <span class="k">let</span> <span class="nv">centerY</span> <span class="o">=</span> <span class="n">origin</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="p">(</span><span class="n">size</span><span class="o">.</span><span class="n">height</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
            <span class="k">return</span> <span class="kt">Point</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="n">centerX</span><span class="p">,</span> <span class="nv">y</span><span class="p">:</span> <span class="n">centerY</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="nf">set</span><span class="p">(</span><span class="n">newCenter</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">origin</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">newCenter</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="p">(</span><span class="n">size</span><span class="o">.</span><span class="n">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
            <span class="n">origin</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">newCenter</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="p">(</span><span class="n">size</span><span class="o">.</span><span class="n">height</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">var</span> <span class="nv">square</span> <span class="o">=</span> <span class="kt">Rect</span><span class="p">(</span><span class="nv">origin</span><span class="p">:</span> <span class="kt">Point</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="nv">y</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">),</span>
                  <span class="nv">size</span><span class="p">:</span> <span class="kt">Size</span><span class="p">(</span><span class="nv">width</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">))</span>
<span class="k">let</span> <span class="nv">initialSquareCenter</span> <span class="o">=</span> <span class="n">square</span><span class="o">.</span><span class="n">center</span>
<span class="n">square</span><span class="o">.</span><span class="n">center</span> <span class="o">=</span> <span class="kt">Point</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="mf">15.0</span><span class="p">,</span> <span class="nv">y</span><span class="p">:</span> <span class="mf">15.0</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"square.origin is now at (</span><span class="se">\(</span><span class="n">square</span><span class="o">.</span><span class="n">origin</span><span class="o">.</span><span class="n">x</span><span class="se">)</span><span class="s">, </span><span class="se">\(</span><span class="n">square</span><span class="o">.</span><span class="n">origin</span><span class="o">.</span><span class="n">y</span><span class="se">)</span><span class="s">)"</span><span class="p">)</span>
<span class="c1">// Prints "square.origin is now at (10.0, 10.0)"</span>
</code></pre>
</div>

<p><img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/computedProperties_2x.png" alt="" /></p>

<p>2ã€ç®€åŒ–setterå£°æ˜
å¦‚æœè®¡ç®—å±æ€§çš„ setter æ²¡æœ‰å®šä¹‰è¡¨ç¤ºæ–°å€¼çš„å‚æ•°åï¼Œåˆ™å¯ä»¥ä½¿ç”¨é»˜è®¤åç§° newValueã€‚ä¸‹é¢æ˜¯ä½¿ç”¨äº†ç®€åŒ– setter å£°æ˜çš„ Rect ç»“æ„ä½“ä»£ç ï¼š</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">AlternativeRect</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">origin</span> <span class="o">=</span> <span class="kt">Point</span><span class="p">()</span>
    <span class="k">var</span> <span class="nv">size</span> <span class="o">=</span> <span class="kt">Size</span><span class="p">()</span>
    <span class="k">var</span> <span class="nv">center</span><span class="p">:</span> <span class="kt">Point</span> <span class="p">{</span>
        <span class="k">get</span> <span class="p">{</span>
            <span class="k">let</span> <span class="nv">centerX</span> <span class="o">=</span> <span class="n">origin</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="p">(</span><span class="n">size</span><span class="o">.</span><span class="n">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
            <span class="k">let</span> <span class="nv">centerY</span> <span class="o">=</span> <span class="n">origin</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="p">(</span><span class="n">size</span><span class="o">.</span><span class="n">height</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
            <span class="k">return</span> <span class="kt">Point</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="n">centerX</span><span class="p">,</span> <span class="nv">y</span><span class="p">:</span> <span class="n">centerY</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="k">set</span> <span class="p">{</span>
            <span class="n">origin</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">newValue</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="p">(</span><span class="n">size</span><span class="o">.</span><span class="n">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
            <span class="n">origin</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">newValue</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="p">(</span><span class="n">size</span><span class="o">.</span><span class="n">height</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>3ã€åªè¯»å±æ€§</p>

<p>åªæœ‰getteræ²¡æœ‰setterçš„è®¡ç®—å±æ€§å°±æ˜¯åªè¯»è®¡ç®—å±æ€§ã€‚</p>

<ul>
  <li>åªè¯»è®¡ç®—å±æ€§æ€»æ˜¯è¿”å›ä¸€ä¸ªå€¼ï¼Œå¯ä»¥é€šè¿‡ç‚¹è¿ç®—ç¬¦è®¿é—®ï¼Œä½†ä¸èƒ½è®¾ç½®æ–°çš„å€¼ã€‚</li>
  <li>å¿…é¡»ä½¿ç”¨varå…³é”®å­—å®šä¹‰è®¡ç®—å±æ€§ï¼ŒåŒ…æ‹¬åªè¯»è®¡ç®—å±æ€§ï¼Œå› ä¸ºå®ƒä»¬çš„å€¼ä¸æ˜¯å›ºå®šçš„ã€‚</li>
  <li>letå…³é”®å­—åªç”¨æ¥å£°æ˜å¸¸é‡å±æ€§ï¼Œè¡¨ç¤ºåˆå§‹åŒ–åå†ä¹Ÿæ— æ³•ä¿®æ”¹çš„å€¼ã€‚</li>
</ul>

<p>åªè¯»è®¡ç®—å±æ€§çš„å£°æ˜å¯ä»¥å»æ‰ get å…³é”®å­—å’ŒèŠ±æ‹¬å·ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">Cuboid</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">width</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">depth</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="k">var</span> <span class="nv">volume</span><span class="p">:</span> <span class="kt">Double</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">width</span> <span class="o">*</span> <span class="n">height</span> <span class="o">*</span> <span class="n">depth</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">let</span> <span class="nv">fourByFiveByTwo</span> <span class="o">=</span> <span class="kt">Cuboid</span><span class="p">(</span><span class="nv">width</span><span class="p">:</span> <span class="mf">4.0</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span> <span class="mf">5.0</span><span class="p">,</span> <span class="nv">depth</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"the volume of fourByFiveByTwo is </span><span class="se">\(</span><span class="n">fourByFiveByTwo</span><span class="o">.</span><span class="n">volume</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="c1">// Prints "the volume of fourByFiveByTwo is 40.0"</span>
<span class="cm">/*
ç»“æ„ä½“è¿˜æœ‰ä¸€ä¸ªåä¸º volume çš„åªè¯»è®¡ç®—å±æ€§ç”¨æ¥è¿”å›ç«‹æ–¹ä½“çš„ä½“ç§¯ã€‚ä¸º volume æä¾› setter æ¯«æ— æ„ä¹‰ï¼Œå› ä¸ºæ— æ³•ç¡®å®šå¦‚ä½•ä¿®æ”¹ widthã€height å’Œ depth ä¸‰è€…çš„å€¼æ¥åŒ¹é…æ–°çš„ volumeã€‚ç„¶è€Œï¼ŒCuboid æä¾›ä¸€ä¸ªåªè¯»è®¡ç®—å±æ€§æ¥è®©å¤–éƒ¨ç”¨æˆ·ç›´æ¥è·å–ä½“ç§¯æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚*/</span>
</code></pre>
</div>

<h3 id="property-observers">å±æ€§è§‚å¯Ÿå™¨ Property Observers</h3>

<p>å±æ€§è§‚å¯Ÿå™¨ç›‘æ§å’Œå“åº”å±æ€§å€¼çš„å˜åŒ–ï¼Œæ¯æ¬¡å±æ€§è¢«è®¾ç½®å€¼çš„æ—¶å€™éƒ½ä¼šè°ƒç”¨å±æ€§è§‚å¯Ÿå™¨ï¼Œå³ä½¿æ–°å€¼å’Œå½“å‰å€¼ç›¸åŒçš„æ—¶å€™ä¹Ÿä¸ä¾‹å¤–ã€‚</p>

<ul>
  <li>å¯ä»¥ä¸ºé™¤äº†å»¶è¿Ÿå­˜å‚¨å±æ€§ä¹‹å¤–çš„å…¶ä»–å­˜å‚¨å±æ€§æ·»åŠ å±æ€§è§‚å¯Ÿå™¨;</li>
  <li>ä¹Ÿå¯ä»¥é€šè¿‡é‡å†™å±æ€§çš„æ–¹å¼ä¸ºç»§æ‰¿çš„å±æ€§ï¼ˆåŒ…æ‹¬å­˜å‚¨å±æ€§å’Œè®¡ç®—å±æ€§ï¼‰æ·»åŠ å±æ€§è§‚å¯Ÿå™¨</li>
  <li>ä½ ä¸å¿…ä¸ºéé‡å†™çš„è®¡ç®—å±æ€§æ·»åŠ å±æ€§è§‚å¯Ÿå™¨ï¼Œå› ä¸ºå¯ä»¥é€šè¿‡å®ƒçš„ setter ç›´æ¥ç›‘æ§å’Œå“åº”å€¼çš„å˜åŒ–</li>
</ul>

<p>å¯ä»¥ä¸ºå±æ€§æ·»åŠ å¦‚ä¸‹çš„ä¸€ä¸ªæˆ–å…¨éƒ¨è§‚å¯Ÿå™¨ï¼š</p>
<ul>
  <li>
    <p>willSet åœ¨æ–°çš„å€¼è¢«è®¾ç½®ä¹‹å‰è°ƒç”¨:willSet è§‚å¯Ÿå™¨ä¼šå°†æ–°çš„å±æ€§å€¼ä½œä¸ºå¸¸é‡å‚æ•°ä¼ å…¥ï¼Œåœ¨ willSet çš„å®ç°ä»£ç ä¸­å¯ä»¥ä¸ºè¿™ä¸ªå‚æ•°æŒ‡å®šä¸€ä¸ªåç§°ï¼Œå¦‚æœä¸æŒ‡å®šåˆ™å‚æ•°ä»ç„¶å¯ç”¨ï¼Œè¿™æ—¶ä½¿ç”¨é»˜è®¤åç§° newValue è¡¨ç¤ºã€‚</p>
  </li>
  <li>
    <p>didSet åœ¨æ–°çš„å€¼è¢«è®¾ç½®ä¹‹åç«‹å³è°ƒç”¨:didSet è§‚å¯Ÿå™¨ä¼šå°†æ—§çš„å±æ€§å€¼ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œå¯ä»¥ä¸ºè¯¥å‚æ•°å‘½åæˆ–è€…ä½¿ç”¨é»˜è®¤å‚æ•°å oldValueã€‚å¦‚æœåœ¨ didSet æ–¹æ³•ä¸­å†æ¬¡å¯¹è¯¥å±æ€§èµ‹å€¼ï¼Œé‚£ä¹ˆæ–°å€¼ä¼šè¦†ç›–æ—§çš„å€¼ã€‚</p>
  </li>
  <li>çˆ¶ç±»çš„å±æ€§åœ¨å­ç±»çš„æ„é€ å™¨ä¸­è¢«èµ‹å€¼æ—¶ï¼Œå®ƒåœ¨çˆ¶ç±»ä¸­çš„ willSet å’Œ didSet è§‚å¯Ÿå™¨ä¼šè¢«è°ƒç”¨ï¼Œéšåæ‰ä¼šè°ƒç”¨å­ç±»çš„è§‚å¯Ÿå™¨</li>
  <li>åœ¨çˆ¶ç±»åˆå§‹åŒ–æ–¹æ³•è°ƒç”¨ä¹‹å‰ï¼Œå­ç±»ç»™å±æ€§èµ‹å€¼æ—¶ï¼Œè§‚å¯Ÿå™¨ä¸ä¼šè¢«è°ƒç”¨</li>
  <li>é»˜è®¤å€¼ oldValue è¡¨ç¤ºæ—§å€¼çš„å‚æ•°åã€‚</li>
</ul>

<p>æ¡ˆä¾‹ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">StepCounter</span> <span class="p">{</span>
<span class="c1">// å®šä¹‰äº†ä¸€ä¸ª Int ç±»å‹çš„å±æ€§ totalStepsï¼Œå®ƒæ˜¯ä¸€ä¸ªå­˜å‚¨å±æ€§ï¼ŒåŒ…å« willSet å’Œ didSet è§‚å¯Ÿå™¨ã€‚</span>
    <span class="k">var</span> <span class="nv">totalSteps</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">{</span>
        <span class="nf">willSet</span><span class="p">(</span><span class="n">newTotalSteps</span><span class="p">)</span> <span class="p">{</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"About to set totalSteps to </span><span class="se">\(</span><span class="n">newTotalSteps</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="k">didSet</span> <span class="p">{</span>
            <span class="k">if</span> <span class="n">totalSteps</span> <span class="o">&gt;</span> <span class="n">oldValue</span>  <span class="p">{</span>
                <span class="nf">print</span><span class="p">(</span><span class="s">"Added </span><span class="se">\(</span><span class="n">totalSteps</span> <span class="o">-</span> <span class="n">oldValue</span><span class="se">)</span><span class="s"> steps"</span><span class="p">)</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">let</span> <span class="nv">stepCounter</span> <span class="o">=</span> <span class="kt">StepCounter</span><span class="p">()</span>
<span class="c1">// å½“ totalSteps è¢«è®¾ç½®æ–°å€¼çš„æ—¶å€™ï¼Œå®ƒçš„ willSet å’Œ didSet è§‚å¯Ÿå™¨éƒ½ä¼šè¢«è°ƒç”¨ï¼Œå³ä½¿æ–°å€¼å’Œå½“å‰å€¼å®Œå…¨ç›¸åŒæ—¶ä¹Ÿä¼šè¢«è°ƒç”¨ã€‚</span>

<span class="n">stepCounter</span><span class="o">.</span><span class="n">totalSteps</span> <span class="o">=</span> <span class="mi">200</span>
<span class="c1">// About to set totalSteps to 200</span>
<span class="c1">// Added 200 steps</span>
<span class="n">stepCounter</span><span class="o">.</span><span class="n">totalSteps</span> <span class="o">=</span> <span class="mi">360</span>
<span class="c1">// About to set totalSteps to 360</span>
<span class="c1">// Added 160 steps</span>
<span class="n">stepCounter</span><span class="o">.</span><span class="n">totalSteps</span> <span class="o">=</span> <span class="mi">896</span>
<span class="c1">// About to set totalSteps to 896</span>
<span class="c1">// Added 536 steps</span>
</code></pre>
</div>

<p>æ³¨æ„ï¼šå¦‚æœå°†å±æ€§é€šè¿‡ in-out æ–¹å¼ä¼ å…¥å‡½æ•°ï¼ŒwillSet å’Œ didSet ä¹Ÿä¼šè°ƒç”¨ã€‚è¿™æ˜¯å› ä¸º in-out å‚æ•°é‡‡ç”¨äº†æ‹·å…¥æ‹·å‡ºæ¨¡å¼ï¼šå³åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨çš„æ˜¯å‚æ•°çš„ copyï¼Œå‡½æ•°ç»“æŸåï¼Œåˆå¯¹å‚æ•°é‡æ–°èµ‹å€¼ã€‚</p>

<h3 id="global-and-local-variables">å…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡ Global and Local Variables</h3>

<p>è®¡ç®—å±æ€§å’Œå±æ€§è§‚å¯Ÿå™¨æ‰€æè¿°çš„åŠŸèƒ½ä¹Ÿå¯ä»¥ç”¨äºå…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡ã€‚å…¨å±€å˜é‡æ˜¯åœ¨å‡½æ•°ã€æ–¹æ³•ã€é—­åŒ…æˆ–ä»»ä½•ç±»å‹ä¹‹å¤–å®šä¹‰çš„å˜é‡ã€‚å±€éƒ¨å˜é‡æ˜¯åœ¨å‡½æ•°ã€æ–¹æ³•æˆ–é—­åŒ…å†…éƒ¨å®šä¹‰çš„å˜é‡ã€‚</p>

<ul>
  <li>å…¨å±€æˆ–å±€éƒ¨å˜é‡éƒ½å±äºå­˜å‚¨å‹å˜é‡ï¼Œè·Ÿå­˜å‚¨å±æ€§ç±»ä¼¼ï¼Œå®ƒä¸ºç‰¹å®šç±»å‹çš„å€¼æä¾›å­˜å‚¨ç©ºé—´ï¼Œå¹¶å…è®¸è¯»å–å’Œå†™å…¥ã€‚</li>
  <li>åœ¨å…¨å±€æˆ–å±€éƒ¨èŒƒå›´éƒ½å¯ä»¥å®šä¹‰è®¡ç®—å‹å˜é‡å’Œä¸ºå­˜å‚¨å‹å˜é‡å®šä¹‰è§‚å¯Ÿå™¨ã€‚è®¡ç®—å‹å˜é‡è·Ÿè®¡ç®—å±æ€§ä¸€æ ·ï¼Œè¿”å›ä¸€ä¸ªè®¡ç®—ç»“æœè€Œä¸æ˜¯å­˜å‚¨å€¼ï¼Œå£°æ˜æ ¼å¼ä¹Ÿå®Œå…¨ä¸€æ ·ã€‚</li>
  <li>å…¨å±€çš„å¸¸é‡æˆ–å˜é‡éƒ½æ˜¯å»¶è¿Ÿè®¡ç®—çš„ï¼Œè·Ÿå»¶è¿Ÿå­˜å‚¨å±æ€§ç›¸ä¼¼ï¼Œ</li>
  <li>å…¨å±€çš„å¸¸é‡æˆ–å˜é‡ä¸éœ€è¦æ ‡è®°lazyä¿®é¥°ç¬¦ã€‚</li>
  <li>å±€éƒ¨èŒƒå›´çš„å¸¸é‡æˆ–å˜é‡ä»ä¸å»¶è¿Ÿè®¡ç®—ã€‚</li>
</ul>

<h3 id="type-properties">ç±»å‹å±æ€§ Type Properties</h3>

<p>ç±»å‹å±æ€§ç”¨äºå®šä¹‰æŸä¸ªç±»å‹æ‰€æœ‰å®ä¾‹å…±äº«çš„æ•°æ®ï¼Œæ¯”å¦‚æ‰€æœ‰å®ä¾‹éƒ½èƒ½ç”¨çš„ä¸€ä¸ªå¸¸é‡ï¼ˆå°±åƒ C è¯­è¨€ä¸­çš„é™æ€å¸¸é‡ï¼‰ï¼Œæˆ–è€…æ‰€æœ‰å®ä¾‹éƒ½èƒ½è®¿é—®çš„ä¸€ä¸ªå˜é‡ï¼ˆå°±åƒ C è¯­è¨€ä¸­çš„é™æ€å˜é‡ï¼‰ã€‚</p>

<ul>
  <li>å®ä¾‹å±æ€§å±äºä¸€ä¸ªç‰¹å®šç±»å‹çš„å®ä¾‹ï¼Œæ¯åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œå®ä¾‹éƒ½æ‹¥æœ‰å±äºè‡ªå·±çš„ä¸€å¥—å±æ€§å€¼ï¼Œå®ä¾‹ä¹‹é—´çš„å±æ€§ç›¸äº’ç‹¬ç«‹ã€‚</li>
  <li>ä¹Ÿå¯ä»¥ä¸ºç±»å‹æœ¬èº«å®šä¹‰å±æ€§ï¼Œæ— è®ºåˆ›å»ºäº†å¤šå°‘ä¸ªè¯¥ç±»å‹çš„å®ä¾‹ï¼Œè¿™äº›å±æ€§éƒ½åªæœ‰å”¯ä¸€ä¸€ä»½ã€‚è¿™ç§å±æ€§å°±æ˜¯ç±»å‹å±æ€§ã€‚</li>
  <li>å­˜å‚¨å‹ç±»å‹å±æ€§å¯ä»¥æ˜¯å˜é‡æˆ–å¸¸é‡ï¼Œè®¡ç®—å‹ç±»å‹å±æ€§è·Ÿå®ä¾‹çš„è®¡ç®—å‹å±æ€§ä¸€æ ·åªèƒ½å®šä¹‰æˆå˜é‡å±æ€§ã€‚</li>
  <li>è·Ÿå®ä¾‹çš„å­˜å‚¨å‹å±æ€§ä¸åŒï¼Œå¿…é¡»ç»™å­˜å‚¨å‹ç±»å‹å±æ€§æŒ‡å®šé»˜è®¤å€¼ï¼Œå› ä¸ºç±»å‹æœ¬èº«æ²¡æœ‰æ„é€ å™¨ï¼Œä¹Ÿå°±æ— æ³•åœ¨åˆå§‹åŒ–è¿‡ç¨‹ä¸­ä½¿ç”¨æ„é€ å™¨ç»™ç±»å‹å±æ€§èµ‹å€¼ã€‚</li>
  <li>å­˜å‚¨å‹ç±»å‹å±æ€§æ˜¯å»¶è¿Ÿåˆå§‹åŒ–çš„ï¼Œå®ƒä»¬åªæœ‰åœ¨ç¬¬ä¸€æ¬¡è¢«è®¿é—®çš„æ—¶å€™æ‰ä¼šè¢«åˆå§‹åŒ–ã€‚å³ä½¿å®ƒä»¬è¢«å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®ï¼Œç³»ç»Ÿä¹Ÿä¿è¯åªä¼šå¯¹å…¶è¿›è¡Œä¸€æ¬¡åˆå§‹åŒ–ï¼Œå¹¶ä¸”ä¸éœ€è¦å¯¹å…¶ä½¿ç”¨ lazy ä¿®é¥°ç¬¦ã€‚</li>
</ul>

<p>1ã€ç±»å‹å±æ€§è¯­æ³•</p>

<p>åœ¨Cæˆ–OCä¸­ï¼Œä¸æŸä¸ªç±»å‹å…³è”çš„é™æ€å¸¸é‡å’Œé™æ€å˜é‡ï¼Œæ˜¯ä½œä¸ºå…¨å±€ï¼ˆglobalï¼‰é™æ€å˜é‡å®šä¹‰çš„ã€‚ä½†æ˜¯åœ¨ Swift ä¸­ï¼Œç±»å‹å±æ€§æ˜¯ä½œä¸ºç±»å‹å®šä¹‰çš„ä¸€éƒ¨åˆ†å†™åœ¨ç±»å‹æœ€å¤–å±‚çš„èŠ±æ‹¬å·å†…ï¼Œå› æ­¤å®ƒçš„ä½œç”¨èŒƒå›´ä¹Ÿå°±åœ¨ç±»å‹æ”¯æŒçš„èŒƒå›´å†…ã€‚</p>

<p>ä½¿ç”¨å…³é”®å­— static æ¥å®šä¹‰ç±»å‹å±æ€§ã€‚åœ¨ä¸ºç±»å®šä¹‰è®¡ç®—å‹ç±»å‹å±æ€§æ—¶ï¼Œå¯ä»¥æ”¹ç”¨å…³é”®å­— class æ¥æ”¯æŒå­ç±»å¯¹çˆ¶ç±»çš„å®ç°è¿›è¡Œé‡å†™ã€‚</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="c1">// ä¸‹é¢çš„ä¾‹å­æ¼”ç¤ºäº†å­˜å‚¨å‹å’Œè®¡ç®—å‹ç±»å‹å±æ€§çš„è¯­æ³•ï¼š</span>
<span class="kd">struct</span> <span class="kt">SomeStructure</span> <span class="p">{</span>
    <span class="kd">static</span> <span class="k">var</span> <span class="nv">storedTypeProperty</span> <span class="o">=</span> <span class="s">"Some value."</span>
    <span class="kd">static</span> <span class="k">var</span> <span class="nv">computedTypeProperty</span><span class="p">:</span> <span class="kt">Int</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kd">enum</span> <span class="kt">SomeEnumeration</span> <span class="p">{</span>
    <span class="kd">static</span> <span class="k">var</span> <span class="nv">storedTypeProperty</span> <span class="o">=</span> <span class="s">"Some value."</span>
    <span class="kd">static</span> <span class="k">var</span> <span class="nv">computedTypeProperty</span><span class="p">:</span> <span class="kt">Int</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">6</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kd">class</span> <span class="kt">SomeClass</span> <span class="p">{</span>
    <span class="kd">static</span> <span class="k">var</span> <span class="nv">storedTypeProperty</span> <span class="o">=</span> <span class="s">"Some value."</span>
    <span class="kd">static</span> <span class="k">var</span> <span class="nv">computedTypeProperty</span><span class="p">:</span> <span class="kt">Int</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">27</span>
    <span class="p">}</span>
    <span class="kd">class</span> <span class="k">var</span> <span class="nv">overrideableComputedTypeProperty</span><span class="p">:</span> <span class="kt">Int</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">107</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>
<p>æ³¨æ„ï¼š
ä¾‹å­ä¸­çš„è®¡ç®—å‹ç±»å‹å±æ€§æ˜¯åªè¯»çš„ï¼Œä½†ä¹Ÿå¯ä»¥å®šä¹‰å¯è¯»å¯å†™çš„è®¡ç®—å‹ç±»å‹å±æ€§ï¼Œè·Ÿè®¡ç®—å‹å®ä¾‹å±æ€§çš„è¯­æ³•ç›¸åŒã€‚</p>

<p>2ã€è·å–å’Œè®¾ç½®ç±»å‹å±æ€§çš„å€¼</p>

<p>è·Ÿå®ä¾‹å±æ€§ä¸€æ ·ï¼Œç±»å‹å±æ€§ä¹Ÿæ˜¯é€šè¿‡ç‚¹è¿ç®—ç¬¦æ¥è®¿é—®ã€‚ä½†æ˜¯ï¼Œç±»å‹å±æ€§æ˜¯é€šè¿‡ç±»å‹æœ¬èº«æ¥è®¿é—®ï¼Œè€Œä¸æ˜¯é€šè¿‡å®ä¾‹ã€‚æ¯”å¦‚ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="nf">print</span><span class="p">(</span><span class="kt">SomeStructure</span><span class="o">.</span><span class="n">storedTypeProperty</span><span class="p">)</span>
<span class="c1">// Prints "Some value."</span>
<span class="kt">SomeStructure</span><span class="o">.</span><span class="n">storedTypeProperty</span> <span class="o">=</span> <span class="s">"Another value."</span>
<span class="nf">print</span><span class="p">(</span><span class="kt">SomeStructure</span><span class="o">.</span><span class="n">storedTypeProperty</span><span class="p">)</span>
<span class="c1">// Prints "Another value."</span>
<span class="nf">print</span><span class="p">(</span><span class="kt">SomeEnumeration</span><span class="o">.</span><span class="n">computedTypeProperty</span><span class="p">)</span>
<span class="c1">// Prints "6"</span>
<span class="nf">print</span><span class="p">(</span><span class="kt">SomeClass</span><span class="o">.</span><span class="n">computedTypeProperty</span><span class="p">)</span>
<span class="c1">// Prints "27"</span>
</code></pre>
</div>

<p>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªç»“æ„ä½“ï¼Œä½¿ç”¨ä¸¤ä¸ªå­˜å‚¨å‹ç±»å‹å±æ€§æ¥è¡¨ç¤ºä¸¤ä¸ªå£°é“çš„éŸ³é‡ï¼Œæ¯ä¸ªå£°é“å…·æœ‰ 0 åˆ° 10 ä¹‹é—´çš„æ•´æ•°éŸ³é‡ã€‚ä¸‹å›¾å±•ç¤ºäº†å¦‚ä½•æŠŠä¸¤ä¸ªå£°é“ç»“åˆæ¥æ¨¡æ‹Ÿç«‹ä½“å£°çš„éŸ³é‡ã€‚å½“å£°é“çš„éŸ³é‡æ˜¯ 0ï¼Œæ²¡æœ‰ä¸€ä¸ªç¯ä¼šäº®ï¼›å½“å£°é“çš„éŸ³é‡æ˜¯ 10ï¼Œæ‰€æœ‰ç¯ç‚¹äº®ã€‚æœ¬å›¾ä¸­ï¼Œå·¦å£°é“çš„éŸ³é‡æ˜¯ 9ï¼Œå³å£°é“çš„éŸ³é‡æ˜¯ 7
<img src="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Art/staticPropertiesVUMeter_2x.png" alt="" /></p>

<p>ä¸Šé¢æ‰€æè¿°çš„å£°é“æ¨¡å‹ä½¿ç”¨ AudioChannel ç»“æ„ä½“çš„å®ä¾‹æ¥è¡¨ç¤ºï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">AudioChannel</span> <span class="p">{</span>
    <span class="c1">// å­˜å‚¨å‹ç±»å‹å±æ€§ï¼šéŸ³é‡çš„æœ€å¤§ä¸Šé™é˜ˆå€¼</span>
    <span class="kd">static</span> <span class="k">let</span> <span class="nv">thresholdLevel</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="c1">// å­˜å‚¨å‹ç±»å‹å±æ€§ï¼šè¡¨ç¤ºæ‰€æœ‰ AudioChannel å®ä¾‹çš„æœ€å¤§éŸ³é‡ï¼Œåˆå§‹å€¼æ˜¯0</span>
    <span class="kd">static</span> <span class="k">var</span> <span class="nv">maxInputLevelForAllChannels</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="c1">// å­˜å‚¨å‹å®ä¾‹å±,åŒ…å« didSet å±æ€§è§‚å¯Ÿå™¨æ¥æ£€æŸ¥æ¯æ¬¡è®¾ç½®åçš„å±æ€§å€¼ã€‚</span>
    <span class="k">var</span> <span class="nv">currentLevel</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">{</span>
        <span class="k">didSet</span> <span class="p">{</span>
            <span class="k">if</span> <span class="n">currentLevel</span> <span class="o">&gt;</span> <span class="kt">AudioChannel</span><span class="o">.</span><span class="n">thresholdLevel</span> <span class="p">{</span>
                <span class="c1">// å°†å½“å‰éŸ³é‡é™åˆ¶åœ¨é˜€å€¼ä¹‹å†…</span>
                <span class="n">currentLevel</span> <span class="o">=</span> <span class="kt">AudioChannel</span><span class="o">.</span><span class="n">thresholdLevel</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="n">currentLevel</span> <span class="o">&gt;</span> <span class="kt">AudioChannel</span><span class="o">.</span><span class="n">maxInputLevelForAllChannels</span> <span class="p">{</span>
                <span class="c1">// å­˜å‚¨å½“å‰éŸ³é‡ä½œä¸ºæ–°çš„æœ€å¤§è¾“å…¥éŸ³é‡</span>
                <span class="kt">AudioChannel</span><span class="o">.</span><span class="n">maxInputLevelForAllChannels</span> <span class="o">=</span> <span class="n">currentLevel</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// å¯ä»¥ä½¿ç”¨ç»“æ„ä½“ AudioChannel åˆ›å»ºä¸¤ä¸ªå£°é“ leftChannel å’ŒrightChannelï¼Œç”¨ä»¥è¡¨ç¤ºç«‹ä½“å£°ç³»ç»Ÿçš„éŸ³é‡ï¼š</span>
<span class="k">var</span> <span class="nv">leftChannel</span> <span class="o">=</span> <span class="kt">AudioChannel</span><span class="p">()</span>
<span class="k">var</span> <span class="nv">rightChannel</span> <span class="o">=</span> <span class="kt">AudioChannel</span><span class="p">()</span>

<span class="c1">// å¦‚æœå°†å·¦å£°é“çš„ currentLevel è®¾ç½®æˆ 7ï¼Œç±»å‹å±æ€§ maxInputLevelForAllChannels ä¹Ÿä¼šæ›´æ–°æˆ 7ï¼š</span>
<span class="n">leftChannel</span><span class="o">.</span><span class="n">currentLevel</span> <span class="o">=</span> <span class="mi">7</span>
<span class="nf">print</span><span class="p">(</span><span class="n">leftChannel</span><span class="o">.</span><span class="n">currentLevel</span><span class="p">)</span>
<span class="c1">// Prints "7"</span>
<span class="nf">print</span><span class="p">(</span><span class="kt">AudioChannel</span><span class="o">.</span><span class="n">maxInputLevelForAllChannels</span><span class="p">)</span>
<span class="c1">// Prints "7"</span>

<span class="c1">// å¦‚æœè¯•å›¾å°†å³å£°é“çš„ currentLevel è®¾ç½®æˆ 11ï¼Œå®ƒä¼šè¢«ä¿®æ­£åˆ°æœ€å¤§å€¼ 10ï¼ŒåŒæ—¶ maxInputLevelForAllChannels çš„å€¼ä¹Ÿä¼šæ›´æ–°åˆ° 10ï¼š</span>
<span class="n">rightChannel</span><span class="o">.</span><span class="n">currentLevel</span> <span class="o">=</span> <span class="mi">11</span>
<span class="nf">print</span><span class="p">(</span><span class="n">rightChannel</span><span class="o">.</span><span class="n">currentLevel</span><span class="p">)</span>
<span class="c1">// Prints "10"</span>
<span class="nf">print</span><span class="p">(</span><span class="kt">AudioChannel</span><span class="o">.</span><span class="n">maxInputLevelForAllChannels</span><span class="p">)</span>
<span class="c1">// Prints "10"</span>
</code></pre>
</div>


                </div>
                <div class="read-all">
                    <a  href="/2016/12/08/swift_VIII_Enumerations_Classes_Structures_Properties/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2016/12/07/swift_VII_Closures/">Swift3.0_VII_é—­åŒ…</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2016-12-07
                    </div>
                    <div class="label-card">
                        <i class="fa fa-user"></i>3è¡Œä»£ç 
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">â€¢</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#Swift3.0" title="Category: Swift3.0" rel="category">Swift3.0</a>
    
  

  <!-- <span class="point">â€¢</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">â€¢</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#Swift3.0" title="Tag: Swift3.0" rel="tag">Swift3.0</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#section" id="markdown-toc-section">å‰è¨€</a>    <ul>
      <li><a href="#section-1" id="markdown-toc-section-1">é—­åŒ…è¡¨è¾¾å¼</a>        <ul>
          <li><a href="#section-2" id="markdown-toc-section-2">é—­åŒ…è¡¨è¾¾å¼è¯­æ³•</a></li>
          <li><a href="#sorted" id="markdown-toc-sorted">sortedå‡½æ•°</a></li>
        </ul>
      </li>
      <li><a href="#trailing-closures" id="markdown-toc-trailing-closures">å°¾éšé—­åŒ…(Trailing Closures)</a></li>
    </ul>
  </li>
</ul>

<h2 id="section">å‰è¨€</h2>

<p><strong>é—­åŒ…ï¼šç‹¬ç«‹çš„ä»£ç å—ï¼Œå¯ä»¥ä¼ é€’åŠå¼•ç”¨ã€‚</strong></p>

<ul>
  <li>é—­åŒ…å¯ä»¥æ•è·å’Œå­˜å‚¨å…¶æ‰€åœ¨ä¸Šä¸‹æ–‡ä¸­ä»»æ„å¸¸é‡å’Œå˜é‡çš„å¼•ç”¨ï¼›</li>
  <li>Swiftä¼šç®¡ç†æ•è·è¿‡ç¨‹ä¸­æ¶‰åŠåˆ°çš„æ‰€æœ‰å†…å­˜ç®¡ç†ï¼›</li>
</ul>

<p>é—­åŒ…çš„å½¢å¼ï¼š</p>
<ul>
  <li>å…¨å±€å‡½æ•°éƒ½æ˜¯é—­åŒ…ï¼Œç‰¹ç‚¹æ˜¯æœ‰å‡½æ•°åä½†æ²¡æœ‰æ•è·ä»»ä½•å€¼ã€‚</li>
  <li>åµŒå¥—å‡½æ•°éƒ½æ˜¯é—­åŒ…ï¼Œç‰¹ç‚¹æ˜¯æœ‰å‡½æ•°åï¼Œå¹¶ä¸”å¯ä»¥åœ¨å®ƒå°é—­çš„å‡½æ•°ä¸­æ•è·å€¼ã€‚</li>
  <li>é—­åŒ…è¡¨è¾¾å¼éƒ½æ˜¯é—­åŒ…ï¼Œç‰¹ç‚¹æ˜¯æ²¡æœ‰å‡½æ•°åï¼Œå¯ä»¥ä½¿ç”¨è½»é‡çš„è¯­æ³•åœ¨å®ƒæ‰€å›´ç»•çš„ä¸Šä¸‹æ–‡ä¸­æ•è·å€¼ã€‚</li>
</ul>

<p>è¯­æ³•ä¼˜åŒ–ï¼š</p>
<ul>
  <li>æ ¹æ®ä¸Šä¸‹æ–‡æ¨ç†å‚æ•°åŠè¿”å›å€¼ç±»å‹</li>
  <li>éšå¼è¿”å›å•è¡¨è¾¾å¼é—­åŒ…ï¼Œå³å•è¡¨è¾¾å¼é—­åŒ…å¯ä»¥çœç•¥ return å…³é”®å­—</li>
  <li>å‚æ•°åç§°ç¼©å†™</li>
  <li>å°¾éšé—­åŒ…è¯­æ³•</li>
</ul>

<h3 id="section-1">é—­åŒ…è¡¨è¾¾å¼</h3>

<p>é—­åŒ…è¡¨è¾¾å¼æ˜¯ä¸€ç§ç¼–å†™å†…è”é—­åŒ…çš„æ–¹å¼ï¼Œå®ƒç®€æ´ã€ç´§å‡‘ã€‚é—­åŒ…è¡¨è¾¾å¼æä¾›äº†æ•°ç§è¯­ä¹‰ä¼˜åŒ–ï¼Œä¸ºçš„æ˜¯ä»¥æœ€ç®€å•çš„å½¢å¼ç¼–ç¨‹è€Œä¸éœ€è¦å¤§é‡çš„å£°æ˜æˆ–æ„å›¾ã€‚ä»¥ä¸‹ä»¥åŒä¸€ä¸ªsortå‡½æ•°è¿›è¡Œå‡ æ¬¡æ”¹è¿›ï¼Œæ¯æ¬¡å‡½æ•°éƒ½æ›´åŠ ç®€æ´ï¼Œä»¥æ­¤è¯´æ˜é—­åŒ…è¡¨è¾¾å¼çš„ä¼˜åŒ–</p>

<h5 id="section-2">é—­åŒ…è¡¨è¾¾å¼è¯­æ³•</h5>
<p>é—­åˆè¡¨è¾¾å¼è¯­æ³•å…·æœ‰ä»¥ä¸‹ä¸€èˆ¬æ„é€ å½¢å¼ï¼š</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="p">{</span> <span class="p">(</span><span class="n">parameters</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">return</span> <span class="n">type</span> <span class="k">in</span>
    <span class="n">statements</span>
<span class="p">}</span>
</code></pre>
</div>
<p>é—­åŒ…è¡¨è¾¾å¼è¯­æ³•å¯ä»¥ä½¿ç”¨å¸¸é‡å‚æ•°ã€å˜é‡å‚æ•°å’Œ inout ç±»å‹ä½œä¸ºå‚æ•°ï¼Œä½†çš†ä¸å¯æä¾›é»˜è®¤å€¼ã€‚</p>

<h5 id="sorted">sortedå‡½æ•°</h5>

<p>Swiftçš„æ ‡å‡†å‡½æ•°åº“æä¾›äº†ä¸€ä¸ªåä¸ºsortçš„å‡½æ•°,ä»–ç”¨äºè¾“å‡ºç±»å‹æ’åºçš„é—­åŒ…å‡½æ•°ï¼Œç»™å·²çŸ¥ç±»å‹çš„æ•°ç»„æ•°æ®çš„å€¼æ’åº:</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">sorted</span><span class="p">(</span><span class="n">by</span> <span class="nv">areInIncreasingOrder</span><span class="p">:</span> <span class="p">(</span><span class="kt">Element</span><span class="p">,</span> <span class="kt">Element</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span><span class="p">)</span>  <span class="o">-&gt;</span>  <span class="p">[</span><span class="kt">Element</span><span class="p">]</span>

<span class="nv">ä½¿ç”¨</span><span class="p">:</span>
 <span class="k">let</span> <span class="nv">students</span><span class="p">:</span> <span class="kt">Set</span> <span class="o">=</span> <span class="p">[</span><span class="s">"Kofi"</span><span class="p">,</span> <span class="s">"Abena"</span><span class="p">,</span> <span class="s">"Peter"</span><span class="p">,</span> <span class="s">"Kweku"</span><span class="p">,</span> <span class="s">"Akosua"</span><span class="p">]</span>
 <span class="k">let</span> <span class="nv">descendingStudents</span> <span class="o">=</span> <span class="n">students</span><span class="o">.</span><span class="nf">sorted</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="o">&gt;</span><span class="p">)</span>
 <span class="nf">print</span><span class="p">(</span><span class="n">descendingStudents</span><span class="p">)</span> <span class="c1">//1 Prints "["Peter", "Kweku", "Kofi", "Akosua", "Abena"]"</span>
 <span class="nf">print</span><span class="p">(</span><span class="n">students</span><span class="o">.</span><span class="nf">sorted</span><span class="p">())</span> <span class="c1">//2 Prints "["Abena", "Akosua", "Kofi", "Kweku", "Peter"]"</span>
 <span class="nf">print</span><span class="p">(</span><span class="n">students</span><span class="o">.</span><span class="nf">sorted</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="o">&lt;</span><span class="p">))</span> <span class="c1">//3  Prints "["Abena", "Akosua", "Kofi", "Kweku", "Peter"]"</span>

</code></pre>
</div>

<p>1ã€å…ˆçœ‹ä¸€ä¸ªæ’åºçš„ä¾‹å­ï¼š</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">names</span> <span class="o">=</span> <span class="p">[</span><span class="s">"Chris"</span><span class="p">,</span> <span class="s">"Alex"</span><span class="p">,</span> <span class="s">"Ewa"</span><span class="p">,</span> <span class="s">"Barry"</span><span class="p">,</span> <span class="s">"Daniella"</span><span class="p">]</span>
<span class="kd">func</span> <span class="nf">backward</span><span class="p">(</span><span class="n">_</span> <span class="nv">s1</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="n">_</span> <span class="nv">s2</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">s1</span> <span class="o">&gt;</span> <span class="n">s2</span>
<span class="p">}</span>
<span class="k">var</span> <span class="nv">reversedNames</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="nf">sorted</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="n">backward</span><span class="p">)</span>
<span class="c1">// reversedNames is equal to ["Ewa", "Daniella", "Chris", "Barry", "Alex"]</span>

</code></pre>
</div>

<p>2ã€é—­åŒ…è¡¨è¾¾å¼æ¥æ”¹å†™ä¸Šè¾¹çš„ä¾‹å­ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="n">reversed</span> <span class="o">=</span> <span class="nf">sorted</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="p">{</span> <span class="p">(</span><span class="nv">s1</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">s2</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="k">in</span>
<span class="k">return</span> <span class="n">s1</span> <span class="o">&gt;</span> <span class="n">s2</span>
<span class="p">})</span>
</code></pre>
</div>

<p>3ã€å¯ä»¥ç”¨ä¸€è¡Œæ¥è¡¨è¾¾ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="n">reversedNames</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="nf">sorted</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">s1</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">s2</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="k">in</span> <span class="k">return</span> <span class="n">s1</span> <span class="o">&gt;</span> <span class="n">s2</span> <span class="p">}</span> <span class="p">)</span>
</code></pre>
</div>

<p>4ã€Swiftå¯ä»¥æ ¹æ®ä¸Šä¸‹æ–‡æ¨æ–­ç±»å‹ï¼Œå› æ­¤å¯ä»¥çœç•¥String:</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="n">reversedNames</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="nf">sorted</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="p">{</span> <span class="n">s1</span><span class="p">,</span> <span class="n">s2</span> <span class="k">in</span> <span class="k">return</span> <span class="n">s1</span> <span class="o">&gt;</span> <span class="n">s2</span> <span class="p">}</span> <span class="p">)</span>
</code></pre>
</div>

<p>5ã€å•è¡Œè¡¨è¾¾å¼é—­åŒ…å¯ä»¥é€šè¿‡çœç•¥ return å…³é”®å­—æ¥éšå¼è¿”å›å•è¡Œè¡¨è¾¾å¼çš„ç»“æœ</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="n">reversedNames</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="nf">sorted</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="p">{</span> <span class="n">s1</span><span class="p">,</span> <span class="n">s2</span> <span class="k">in</span> <span class="n">s1</span> <span class="o">&gt;</span> <span class="n">s2</span> <span class="p">}</span> <span class="p">)</span>
</code></pre>
</div>

<p>6ã€å‚æ•°åç®€å†™:</p>

<ul>
  <li>Swift è‡ªåŠ¨ä¸ºå†…è”é—­åŒ…æä¾›äº†å‚æ•°åç§°ç®€å†™åŠŸèƒ½ï¼Œ</li>
  <li>å¯ä»¥ç›´æ¥é€šè¿‡ $0,$1,$2ç­‰åå­—æ¥å¼•ç”¨é—­åŒ…çš„å‚æ•°å€¼</li>
  <li>å…³é”®å­—:inã€return å¯ä»¥çœç•¥,æ­¤æ—¶é—­åŒ…è¡¨è¾¾å¼å®Œå…¨ç”±é—­åŒ…å‡½æ•°ä½“æ„æˆ</li>
  <li>ä¸‹è¾¹ä¾‹å­;$0å’Œ$1è¡¨ç¤ºé—­åŒ…ä¸­ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªStringç±»å‹çš„å‚æ•°ã€‚
    <div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="n">reversedNames</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="nf">sorted</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="p">{</span> <span class="nv">$0</span> <span class="o">&gt;</span> <span class="nv">$1</span> <span class="p">}</span> <span class="p">)</span>
</code></pre>
    </div>
  </li>
</ul>

<p>7ã€è¿ç®—ç¬¦å‡½æ•°ï¼š
Swiftä¸ºStringç±»å‹å®šä¹‰äº†å¤§äºç®—å­ï¼ˆ&gt;ï¼‰ï¼Œé€šè¿‡å¤§äºç®—å­ç®€å†™å¦‚ä¸‹</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="n">reversedNames</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="nf">sorted</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="o">&gt;</span><span class="p">)</span>
</code></pre>
</div>

<p>8ã€Trailing é—­åŒ…</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="n">reversedNames</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="nf">sorted</span><span class="p">()</span> <span class="p">{</span> <span class="nv">$0</span> <span class="o">&gt;</span> <span class="nv">$1</span> <span class="p">}</span>
</code></pre>
</div>

<p>æ€»ç»“ï¼Œå¦‚ä¸‹ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">names</span> <span class="o">=</span> <span class="p">[</span><span class="s">"Chris"</span><span class="p">,</span> <span class="s">"Alex"</span><span class="p">,</span> <span class="s">"Ewa"</span><span class="p">,</span> <span class="s">"Barry"</span><span class="p">,</span> <span class="s">"Daniella"</span><span class="p">]</span>
<span class="kd">func</span> <span class="nf">backward</span><span class="p">(</span><span class="n">_</span> <span class="nv">s1</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="n">_</span> <span class="nv">s2</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">s1</span> <span class="o">&gt;</span> <span class="n">s2</span>
<span class="p">}</span>

<span class="k">var</span> <span class="nv">ss1</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="nf">sorted</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="n">backward</span><span class="p">)</span>
<span class="k">var</span> <span class="nv">ss2</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="nf">sorted</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="p">{(</span><span class="nv">s1</span><span class="p">:</span><span class="kt">String</span><span class="p">,</span><span class="nv">s2</span><span class="p">:</span><span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="k">in</span> <span class="k">return</span> <span class="n">s1</span><span class="o">&gt;</span><span class="n">s2</span> <span class="p">})</span>
<span class="k">var</span> <span class="nv">ss3</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="nf">sorted</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="p">{</span> <span class="n">s1</span><span class="p">,</span> <span class="n">s2</span> <span class="k">in</span> <span class="k">return</span> <span class="n">s1</span> <span class="o">&gt;</span> <span class="n">s2</span> <span class="p">}</span> <span class="p">)</span>
<span class="k">var</span> <span class="nv">ss4</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="nf">sorted</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="p">{</span> <span class="n">s1</span><span class="p">,</span> <span class="n">s2</span> <span class="k">in</span> <span class="n">s1</span> <span class="o">&gt;</span> <span class="n">s2</span> <span class="p">}</span> <span class="p">)</span>
<span class="k">var</span> <span class="nv">ss5</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="nf">sorted</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="p">{</span> <span class="nv">$0</span> <span class="o">&gt;</span> <span class="nv">$1</span> <span class="p">}</span> <span class="p">)</span>
<span class="k">var</span> <span class="nv">ss6</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="nf">sorted</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="o">&gt;</span><span class="p">)</span>
<span class="k">var</span> <span class="nv">ss7</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="nf">sorted</span><span class="p">()</span> <span class="p">{</span> <span class="nv">$0</span> <span class="o">&gt;</span> <span class="nv">$1</span> <span class="p">}</span>
<span class="n">ä»¥ä¸Š</span> <span class="n">ss1åˆ°ss7ç»“æœç›¸åŒ</span><span class="err">ï¼Œ</span><span class="n">éƒ½æ˜¯</span> <span class="p">[</span><span class="s">"Ewa"</span><span class="p">,</span> <span class="s">"Daniella"</span><span class="p">,</span> <span class="s">"Chris"</span><span class="p">,</span> <span class="s">"Barry"</span><span class="p">,</span> <span class="s">"Alex"</span><span class="p">]</span>
</code></pre>
</div>

<h3 id="trailing-closures">å°¾éšé—­åŒ…(Trailing Closures)</h3>

<p>å¦‚æœéœ€è¦å°†ä¸€ä¸ªå¾ˆé•¿çš„é—­åŒ…è¡¨è¾¾å¼ä½œä¸ºæœ€åä¸€ä¸ªå‚æ•°ä¼ é€’ç»™å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨trailingé—­åŒ…æ¥æ›¿ä»£ã€‚Trailing é—­åŒ…æ˜¯ä¸€ä¸ªä¹¦å†™åœ¨å‡½æ•°æ‹¬å·ä¹‹å¤–(ä¹‹å)çš„é—­åŒ…è¡¨è¾¾å¼ï¼Œå‡½æ•°æ”¯æŒå°†å…¶ä½œä¸ºæœ€åä¸€ä¸ªå‚æ•°è°ƒç”¨ã€‚</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">someFunctionThatTakesAClosure</span><span class="p">(</span><span class="nv">closure</span><span class="p">:</span> <span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// function body goes here</span>
<span class="p">}</span>
<span class="c1">// Here's how you call this function without using a trailing closure:</span>
<span class="nf">someFunctionThatTakesAClosure</span><span class="p">(</span><span class="nv">closure</span><span class="p">:</span> <span class="p">{</span>
    <span class="c1">// closure's body goes here</span>
<span class="p">})</span>
<span class="c1">// Here's how you call this function with a trailing closure instead:</span>
<span class="nf">someFunctionThatTakesAClosure</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// trailing closure's body goes here</span>
<span class="p">}</span>
</code></pre>
</div>

<p>ä¸Šè¿°çš„sortå‡½æ•°å¯ä»¥æ”¹å†™ä¸ºï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="n">reversedNames</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="nf">sorted</span><span class="p">()</span> <span class="p">{</span> <span class="nv">$0</span> <span class="o">&gt;</span> <span class="nv">$1</span> <span class="p">}</span>
</code></pre>
</div>

<p>å¦‚æœä¸€ä¸ªå°é—­è¡¨è¾¾å¼æ˜¯ä½œä¸ºå‡½æ•°æˆ–æ–¹æ³•å”¯ä¸€çš„å‚æ•°,å¯ä»¥å¿½ç•¥()</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="n">reversedNames</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="n">sorted</span> <span class="p">{</span> <span class="nv">$0</span> <span class="o">&gt;</span> <span class="nv">$1</span> <span class="p">}</span>
</code></pre>
</div>

<p>å½“é—­åŒ…éå¸¸é•¿ä»¥è‡³äºä¸èƒ½åœ¨ä¸€è¡Œä¸­è¿›è¡Œä¹¦å†™æ—¶ï¼Œå°¾éšé—­åŒ…å˜å¾—éå¸¸æœ‰ç”¨ã€‚</p>

<p>ä¸¾ä¾‹æ¥è¯´ï¼ŒSwiftçš„Arrayç±»å‹æœ‰ä¸€ä¸ªmapæ–¹æ³•ï¼Œå…¶è·å–ä¸€ä¸ªé—­åŒ…è¡¨è¾¾å¼ä½œä¸ºå…¶å”¯ä¸€å‚æ•°ã€‚ æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ è°ƒç”¨ä¸€æ¬¡è¯¥é—­åŒ…å‡½æ•°ï¼Œå¹¶è¿”å›è¯¥å…ƒç´ æ‰€æ˜ å°„çš„å€¼(ä¹Ÿå¯ä»¥æ˜¯ä¸åŒç±»å‹çš„å€¼)ã€‚ å…·ä½“çš„æ˜ å°„æ–¹å¼å’Œè¿”å›å€¼ç±»å‹ç”±é—­åŒ…æ¥æŒ‡å®šã€‚</p>

<p>å½“æä¾›ç»™æ•°ç»„é—­åŒ…å‡½æ•°åï¼Œmapæ–¹æ³•å°†è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œæ•°ç»„ä¸­åŒ…å«äº†ä¸åŸæ•°ç»„ä¸€ä¸€å¯¹åº”çš„æ˜ å°„åçš„å€¼ï¼Œ
ä¸‹ä¾‹ä»‹ç»äº†å¦‚ä½•åœ¨mapæ–¹æ³•ä¸­ä½¿ç”¨å°¾éšé—­åŒ…å°†Intç±»å‹æ•°ç»„[16,58,510]è½¬æ¢ä¸ºåŒ…å«å¯¹åº”Stringç±»å‹çš„æ•°ç»„[â€œOneSixâ€, â€œFiveEightâ€, â€œFiveOneZeroâ€]:</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">digitNames</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">0</span><span class="p">:</span> <span class="s">"Zero"</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s">"One"</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s">"Two"</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s">"Three"</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="s">"Four"</span><span class="p">,</span>
    <span class="mi">5</span><span class="p">:</span> <span class="s">"Five"</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span> <span class="s">"Six"</span><span class="p">,</span> <span class="mi">7</span><span class="p">:</span> <span class="s">"Seven"</span><span class="p">,</span> <span class="mi">8</span><span class="p">:</span> <span class="s">"Eight"</span><span class="p">,</span> <span class="mi">9</span><span class="p">:</span> <span class="s">"Nine"</span>
<span class="p">]</span>
<span class="k">let</span> <span class="nv">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">16</span><span class="p">,</span> <span class="mi">58</span><span class="p">,</span> <span class="mi">510</span><span class="p">]</span>
</code></pre>
</div>

<p>é€šè¿‡è°ƒç”¨numbers.mapæ¥è°ƒç”¨æ˜ å°„åçš„Stringæ•°ç»„
ä½¿ç”¨å¦‚ä¸‹ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">strings</span> <span class="o">=</span> <span class="n">numbers</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span>
    <span class="p">(</span><span class="n">number</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">String</span> <span class="k">in</span>
    <span class="k">var</span> <span class="nv">number</span> <span class="o">=</span> <span class="n">number</span>
    <span class="k">var</span> <span class="nv">output</span> <span class="o">=</span> <span class="s">""</span>
    <span class="k">repeat</span> <span class="p">{</span>
        <span class="n">output</span> <span class="o">=</span> <span class="n">digitNames</span><span class="p">[</span><span class="n">number</span> <span class="o">%</span> <span class="mi">10</span><span class="p">]</span><span class="o">!</span> <span class="o">+</span> <span class="n">output</span>
        <span class="n">number</span> <span class="o">/=</span> <span class="mi">10</span>
    <span class="p">}</span> <span class="k">while</span> <span class="n">number</span> <span class="o">&gt;</span> <span class="mi">0</span>
    <span class="k">return</span> <span class="n">output</span>
<span class="p">}</span>
<span class="c1">// strings is inferred to be of type [String]</span>
<span class="c1">// its value is ["OneSix", "FiveEight", "FiveOneZero"]</span>
</code></pre>
</div>
<p>æ³¨æ„ï¼š å­—å…¸digitNamesä¸‹æ ‡åè·Ÿç€ä¸€ä¸ªå¹å· (!)ï¼Œå› ä¸ºå­—å…¸ä¸‹æ ‡è¿”å›ä¸€ä¸ªå¯é€‰å€¼ (optional value)ï¼Œè¡¨æ˜å³ä½¿è¯¥ keyä¸å­˜åœ¨ä¹Ÿä¸ä¼šæŸ¥æ‰¾å¤±è´¥ã€‚ åœ¨ä¸Šä¾‹ä¸­ï¼Œå®ƒä¿è¯äº†number % 10å¯ä»¥æ€»æ˜¯ä½œä¸ºä¸€ä¸ª digitNameså­—å…¸çš„æœ‰æ•ˆä¸‹æ ‡keyã€‚ å› æ­¤å¹å·å¯ä»¥ç”¨äºè§£æå­˜å‚¨åœ¨å¯é€‰ä¸‹æ ‡é¡¹ä¸­çš„Stringç±»å‹å€¼ã€‚</p>


                </div>
                <div class="read-all">
                    <a  href="/2016/12/07/swift_VII_Closures/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2016/12/05/swift_VI_Functions/">Swift3.0_VI_å‡½æ•°</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2016-12-05
                    </div>
                    <div class="label-card">
                        <i class="fa fa-user"></i>3è¡Œä»£ç 
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">â€¢</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#Swift3.0" title="Category: Swift3.0" rel="category">Swift3.0</a>
    
  

  <!-- <span class="point">â€¢</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">â€¢</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#Swift3.0" title="Tag: Swift3.0" rel="tag">Swift3.0</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#defining-and-calling-functions" id="markdown-toc-defining-and-calling-functions">Defining and Calling Functionsï¼šå®šä¹‰å’Œè°ƒç”¨</a></li>
  <li><a href="#function-parameters-and-return-values" id="markdown-toc-function-parameters-and-return-values">Function Parameters and Return Values:åŠŸèƒ½å‚æ•°å’Œè¿”å›å€¼</a></li>
  <li><a href="#function-argument-labels-and-parameter-names" id="markdown-toc-function-argument-labels-and-parameter-names">Function Argument Labels and Parameter Names:å‚æ•°æ ‡ç­¾å’Œå‚æ•°åç§°</a></li>
  <li><a href="#function-types" id="markdown-toc-function-types">Function Typesï¼šå‡½æ•°åŠŸèƒ½</a>    <ul>
      <li><a href="#section" id="markdown-toc-section">åŠŸèƒ½ç±»å‹ä½œä¸ºå‚æ•°ç±»å‹</a></li>
      <li><a href="#section-1" id="markdown-toc-section-1">åŠŸèƒ½ç±»å‹ä½œä¸ºè¿”å›ç±»å‹</a></li>
    </ul>
  </li>
  <li><a href="#nested-functions" id="markdown-toc-nested-functions">Nested Functionsï¼šåµŒå¥—å‡½æ•°</a></li>
</ul>

<h3 id="defining-and-calling-functions">Defining and Calling Functionsï¼šå®šä¹‰å’Œè°ƒç”¨</h3>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="c1">// å…³é”®å­—func  å‡½æ•°ågreet  å‚æ•°å:å‚æ•°ç±»å‹String  è¿æ¥è¿”å›å€¼:-&gt;  è¿”å›å€¼ç±»å‹String</span>
       <span class="kd">func</span>    <span class="nf">greet</span>     <span class="p">(</span><span class="nv">person</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span>      <span class="o">-&gt;</span>          <span class="kt">String</span>     <span class="p">{</span>
    <span class="k">let</span> <span class="nv">greeting</span> <span class="o">=</span> <span class="s">"Hello, "</span> <span class="o">+</span> <span class="n">person</span> <span class="o">+</span> <span class="s">"!"</span>
    <span class="k">return</span> <span class="n">greeting</span>
<span class="p">}</span>

<span class="nf">print</span><span class="p">(</span><span class="nf">greet</span><span class="p">(</span><span class="nv">person</span><span class="p">:</span> <span class="s">"Anna"</span><span class="p">))</span>
<span class="c1">// Prints "Hello, Anna!"</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">greet</span><span class="p">(</span><span class="nv">person</span><span class="p">:</span> <span class="s">"Brian"</span><span class="p">))</span>
<span class="c1">// Prints "Hello, Brian!"</span>


<span class="kd">func</span> <span class="nf">greetAgain</span><span class="p">(</span><span class="nv">person</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">String</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s">"Hello again, "</span> <span class="o">+</span> <span class="n">person</span> <span class="o">+</span> <span class="s">"!"</span>
<span class="p">}</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">greetAgain</span><span class="p">(</span><span class="nv">person</span><span class="p">:</span> <span class="s">"Anna"</span><span class="p">))</span>
<span class="c1">// Prints "Hello again, Anna!"</span>
</code></pre>
</div>

<h3 id="function-parameters-and-return-values">Function Parameters and Return Values:åŠŸèƒ½å‚æ•°å’Œè¿”å›å€¼</h3>

<p><strong>ä¸å¸¦å‚æ•°çš„å‡½æ•°ï¼š</strong></p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">sayHelloWorld</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">String</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s">"hello, world"</span>
<span class="p">}</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">sayHelloWorld</span><span class="p">())</span>
<span class="c1">// Prints "hello, world"</span>
</code></pre>
</div>

<p><strong>å¤šå‚æ•°ï¼š</strong></p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">greet</span><span class="p">(</span><span class="nv">person</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">alreadyGreeted</span><span class="p">:</span> <span class="kt">Bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">String</span> <span class="p">{</span>
    <span class="k">if</span> <span class="n">alreadyGreeted</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nf">greetAgain</span><span class="p">(</span><span class="nv">person</span><span class="p">:</span> <span class="n">person</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nf">greet</span><span class="p">(</span><span class="nv">person</span><span class="p">:</span> <span class="n">person</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">greet</span><span class="p">(</span><span class="nv">person</span><span class="p">:</span> <span class="s">"Tim"</span><span class="p">,</span> <span class="nv">alreadyGreeted</span><span class="p">:</span> <span class="kc">true</span><span class="p">))</span>
<span class="c1">// Prints "Hello again, Tim!"</span>
</code></pre>
</div>

<p><strong>æ— è¿”å›å€¼ï¼š</strong></p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">greet</span><span class="p">(</span><span class="nv">person</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Hello, </span><span class="se">\(</span><span class="n">person</span><span class="se">)</span><span class="s">!"</span><span class="p">)</span>
<span class="p">}</span>
<span class="nf">greet</span><span class="p">(</span><span class="nv">person</span><span class="p">:</span> <span class="s">"Dave"</span><span class="p">)</span>
<span class="c1">// Prints "Hello, Dave!"</span>
</code></pre>
</div>

<p><strong>è°ƒç”¨æ—¶å¿½ç•¥è¿”å›å€¼ï¼š</strong></p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">printAndCount</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">string</span><span class="o">.</span><span class="n">characters</span><span class="o">.</span><span class="n">count</span>
<span class="p">}</span>
<span class="kd">func</span> <span class="nf">printWithoutCounting</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">_</span> <span class="o">=</span> <span class="nf">printAndCount</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="n">string</span><span class="p">)</span>
<span class="p">}</span>
<span class="nf">printAndCount</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"hello, world"</span><span class="p">)</span>
<span class="c1">// prints "hello, world" and returns a value of 12</span>
<span class="nf">printWithoutCounting</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"hello, world"</span><span class="p">)</span>
<span class="c1">// prints "hello, world" but does not return a value</span>
</code></pre>
</div>

<p><strong>è¿”å›å…ƒç»„</strong></p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">minMax</span><span class="p">(</span><span class="nv">array</span><span class="p">:</span> <span class="p">[</span><span class="kt">Int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="nv">min</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="nv">max</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">currentMin</span> <span class="o">=</span> <span class="n">array</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">var</span> <span class="nv">currentMax</span> <span class="o">=</span> <span class="n">array</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">value</span> <span class="k">in</span> <span class="n">array</span><span class="p">[</span><span class="mi">1</span><span class="o">..&lt;</span><span class="n">array</span><span class="o">.</span><span class="n">count</span><span class="p">]</span> <span class="p">{</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="n">currentMin</span> <span class="p">{</span>
            <span class="n">currentMin</span> <span class="o">=</span> <span class="n">value</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="n">value</span> <span class="o">&gt;</span> <span class="n">currentMax</span> <span class="p">{</span>
            <span class="n">currentMax</span> <span class="o">=</span> <span class="n">value</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nf">return</span> <span class="p">(</span><span class="n">currentMin</span><span class="p">,</span> <span class="n">currentMax</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">let</span> <span class="nv">bounds</span> <span class="o">=</span> <span class="nf">minMax</span><span class="p">(</span><span class="nv">array</span><span class="p">:</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">109</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">71</span><span class="p">])</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"min is </span><span class="se">\(</span><span class="n">bounds</span><span class="o">.</span><span class="n">min</span><span class="se">)</span><span class="s"> and max is </span><span class="se">\(</span><span class="n">bounds</span><span class="o">.</span><span class="n">max</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
</code></pre>
</div>

<p><strong>è¿”å›å¯é€‰çš„å…ƒç»„ç±»å‹</strong></p>

<p>(Int, Int)? ä¸(Int?, Int?)ä¸åŒï¼Œå‰è€…æ˜¯å¯é€‰çš„å…ƒç»„ï¼Œåè€…æ˜¯å…ƒç»„å†…å…ƒç´ å¯é€‰çš„ã€‚</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">minMax</span><span class="p">(</span><span class="nv">array</span><span class="p">:</span> <span class="p">[</span><span class="kt">Int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="nv">min</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="nv">max</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)?</span> <span class="p">{</span>
    <span class="c1">// å¦‚æœarrayä¸ºnilï¼Œåè¾¹ä¼šè¿è¡Œæ—¶é”™è¯¯ï¼Œæ‰€ä»¥è¦åˆ¤æ–­ï¼š</span>
    <span class="k">if</span> <span class="n">array</span><span class="o">.</span><span class="n">isEmpty</span> <span class="p">{</span> <span class="k">return</span> <span class="kc">nil</span> <span class="p">}</span>
    <span class="k">var</span> <span class="nv">currentMin</span> <span class="o">=</span> <span class="n">array</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">var</span> <span class="nv">currentMax</span> <span class="o">=</span> <span class="n">array</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">value</span> <span class="k">in</span> <span class="n">array</span><span class="p">[</span><span class="mi">1</span><span class="o">..&lt;</span><span class="n">array</span><span class="o">.</span><span class="n">count</span><span class="p">]</span> <span class="p">{</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="n">currentMin</span> <span class="p">{</span>
            <span class="n">currentMin</span> <span class="o">=</span> <span class="n">value</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="n">value</span> <span class="o">&gt;</span> <span class="n">currentMax</span> <span class="p">{</span>
            <span class="n">currentMax</span> <span class="o">=</span> <span class="n">value</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nf">return</span> <span class="p">(</span><span class="n">currentMin</span><span class="p">,</span> <span class="n">currentMax</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// æ­¤æ—¶boundsæ˜¯å¯é€‰å…ƒç»„ï¼Œé€šè¿‡å¯é€‰ç»‘å®šæ¥å–å€¼</span>
<span class="k">if</span> <span class="k">let</span> <span class="nv">bounds</span> <span class="o">=</span> <span class="nf">minMax</span><span class="p">(</span><span class="nv">array</span><span class="p">:</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">109</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">71</span><span class="p">])</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"min is </span><span class="se">\(</span><span class="n">bounds</span><span class="o">.</span><span class="n">min</span><span class="se">)</span><span class="s"> and max is </span><span class="se">\(</span><span class="n">bounds</span><span class="o">.</span><span class="n">max</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1">// Prints "min is -6 and max is 109"</span>
</code></pre>
</div>

<h3 id="function-argument-labels-and-parameter-names">Function Argument Labels and Parameter Names:å‚æ•°æ ‡ç­¾å’Œå‚æ•°åç§°</h3>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">someFunction</span><span class="p">(</span><span class="nv">firstParameterName</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="nv">secondParameterName</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// In the function body, firstParameterName and secondParameterName</span>
    <span class="c1">// refer to the argument values for the first and second parameters.</span>
<span class="p">}</span>
<span class="nf">someFunction</span><span class="p">(</span><span class="nv">firstParameterName</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nv">secondParameterName</span><span class="p">:</span> <span class="mi">2</span><span class="p">)</span>
</code></pre>
</div>

<p><strong>æŒ‡å®šå‚æ•°æ ‡ç­¾</strong></p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">greet</span><span class="p">(</span><span class="nv">person</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="n">from</span> <span class="nv">hometown</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">String</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s">"Hello </span><span class="se">\(</span><span class="n">person</span><span class="se">)</span><span class="s">!  Glad you could visit from </span><span class="se">\(</span><span class="n">hometown</span><span class="se">)</span><span class="s">."</span>
<span class="p">}</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">greet</span><span class="p">(</span><span class="nv">person</span><span class="p">:</span> <span class="s">"Bill"</span><span class="p">,</span> <span class="nv">from</span><span class="p">:</span> <span class="s">"Cupertino"</span><span class="p">))</span>
<span class="c1">// Prints "Hello Bill!  Glad you could visit from Cupertino."</span>
</code></pre>
</div>

<p><strong>çœç•¥å‚æ•°æ ‡ç­¾</strong>
åŠ ä¸‹åˆ’çº¿å³å¯ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">someFunction</span><span class="p">(</span><span class="n">_</span> <span class="nv">firstParameterName</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="nv">secondParameterName</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// In the function body, firstParameterName and secondParameterName</span>
    <span class="c1">// refer to the argument values for the first and second parameters.</span>
<span class="p">}</span>
<span class="nf">someFunction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nv">secondParameterName</span><span class="p">:</span> <span class="mi">2</span><span class="p">)</span>
</code></pre>
</div>

<p><strong>é»˜è®¤å‚æ•°å€¼</strong></p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">someFunction</span><span class="p">(</span><span class="nv">parameterWithoutDefault</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="nv">parameterWithDefault</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// If you omit the second argument when calling this function, then</span>
    <span class="c1">// the value of parameterWithDefault is 12 inside the function body.</span>
<span class="p">}</span>
<span class="nf">someFunction</span><span class="p">(</span><span class="nv">parameterWithoutDefault</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nv">parameterWithDefault</span><span class="p">:</span> <span class="mi">6</span><span class="p">)</span> <span class="c1">// parameterWithDefault is 6</span>
<span class="nf">someFunction</span><span class="p">(</span><span class="nv">parameterWithoutDefault</span><span class="p">:</span> <span class="mi">4</span><span class="p">)</span> <span class="c1">// parameterWithDefault is 12</span>
</code></pre>
</div>

<p><strong>å¯å˜å‚æ•°</strong></p>

<p>æ³¨æ„ï¼šå‡½æ•°æœ€å¤šåªæœ‰ä¸€ä¸ªå¯å˜å‚æ•°ã€‚</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">arithmeticMean</span><span class="p">(</span><span class="n">_</span> <span class="nv">numbers</span><span class="p">:</span> <span class="kt">Double</span><span class="o">...</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Double</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">total</span><span class="p">:</span> <span class="kt">Double</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">number</span> <span class="k">in</span> <span class="n">numbers</span> <span class="p">{</span>
        <span class="n">total</span> <span class="o">+=</span> <span class="n">number</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">total</span> <span class="o">/</span> <span class="kt">Double</span><span class="p">(</span><span class="n">numbers</span><span class="o">.</span><span class="n">count</span><span class="p">)</span>
<span class="p">}</span>
<span class="nf">arithmeticMean</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="c1">// returns 3.0, which is the arithmetic mean of these five numbers</span>
<span class="nf">arithmeticMean</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mf">8.25</span><span class="p">,</span> <span class="mf">18.75</span><span class="p">)</span>
<span class="c1">// returns 10.0, which is the arithmetic mean of these three numbers</span>
</code></pre>
</div>

<p><strong>IN-OUTå‚æ•°</strong></p>

<ul>
  <li>è¾“å…¥è¾“å‡ºå‚æ•°ï¼šåœ¨å‚æ•°å®šä¹‰å‰åŠ inout å…³é”®å­—æ¥å®šä¹‰ã€‚</li>
  <li>ä¸€ä¸ªè¾“å…¥è¾“å‡ºå‚æ•°æœ‰ä¼ å…¥å‡½æ•°çš„å€¼ï¼Œè¿™ä¸ªå€¼è¢«å‡½æ•°ä¿®æ”¹ï¼Œç„¶åè¢«ä¼ å‡ºå‡½æ•°ï¼Œæ›¿æ¢åŸæ¥çš„å€¼ã€‚</li>
  <li>åªèƒ½å°†å˜é‡ä½œä¸ºè¾“å…¥è¾“å‡ºå‚æ•°ã€‚å½“ä¼ å…¥çš„å‚æ•°ä½œä¸ºè¾“å…¥è¾“å‡ºå‚æ•°æ—¶ï¼Œéœ€è¦åœ¨å‚æ•°å‰åŠ &amp;ç¬¦ï¼Œè¡¨ç¤ºè¿™ä¸ªå€¼å¯ä»¥è¢«å‡½æ•°ä¿®æ”¹ã€‚</li>
</ul>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">swapTwoInts</span><span class="p">(</span><span class="n">_</span> <span class="nv">a</span><span class="p">:</span> <span class="k">inout</span> <span class="kt">Int</span><span class="p">,</span> <span class="n">_</span> <span class="nv">b</span><span class="p">:</span> <span class="k">inout</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">temporaryA</span> <span class="o">=</span> <span class="n">a</span>
    <span class="n">a</span> <span class="o">=</span> <span class="n">b</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">temporaryA</span>
<span class="p">}</span>

<span class="k">var</span> <span class="nv">someInt</span> <span class="o">=</span> <span class="mi">3</span>
<span class="k">var</span> <span class="nv">anotherInt</span> <span class="o">=</span> <span class="mi">107</span>
<span class="nf">swapTwoInts</span><span class="p">(</span><span class="o">&amp;</span><span class="n">someInt</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">anotherInt</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"someInt is now </span><span class="se">\(</span><span class="n">someInt</span><span class="se">)</span><span class="s">, and anotherInt is now </span><span class="se">\(</span><span class="n">anotherInt</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="c1">// Prints "someInt is now 107, and anotherInt is now 3"</span>
</code></pre>
</div>

<h3 id="function-types">Function Typesï¼šå‡½æ•°åŠŸèƒ½</h3>

<p>è¿™ä¸¤ä¸ªå‡½æ•°çš„ç±»å‹æ˜¯ (Int, Int) -&gt; Intï¼Œå¯ä»¥è¯»ä½œâ€œè¿™ä¸ªå‡½æ•°ç±»å‹ï¼Œå®ƒæœ‰ä¸¤ä¸ªIn å‹çš„å‚æ•°å¹¶è¿”å›ä¸€ä¸ª Intå‹çš„å€¼ã€‚â€ã€‚</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">addTwoInts</span><span class="p">(</span><span class="n">_</span> <span class="nv">a</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="n">_</span> <span class="nv">b</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<span class="p">}</span>
<span class="kd">func</span> <span class="nf">multiplyTwoInts</span><span class="p">(</span><span class="n">_</span> <span class="nv">a</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="n">_</span> <span class="nv">b</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span>
<span class="p">}</span>
</code></pre>
</div>

<p>å¦‚ä¸‹ä»£ç å¯ä»¥è§£è¯»ä¸ºï¼šâ€œå®šä¹‰ä¸€ä¸ªå«åšmathFunctionçš„å˜é‡ï¼Œç±»å‹æ˜¯â€˜ä¸€ä¸ªæœ‰ä¸¤ä¸ªIntå‹çš„å‚æ•°å¹¶è¿”å›ä¸€ä¸ª Intå‹çš„å€¼çš„å‡½æ•°â€™ï¼Œå¹¶è®©è¿™ä¸ªæ–°å˜é‡æŒ‡å‘addTwoIntså‡½æ•°â€ã€‚</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">var</span> <span class="nv">mathFunction</span><span class="p">:</span> <span class="p">(</span><span class="kt">Int</span><span class="p">,</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="o">=</span> <span class="n">addTwoInts</span>
</code></pre>
</div>

<p>ç„¶åå¯è°ƒç”¨ï¼š</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="nf">print</span><span class="p">(</span><span class="s">"Result: </span><span class="se">\(</span><span class="nf">mathFunction</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="c1">// Prints "Result: 5"</span>
</code></pre>
</div>

<p>å…·æœ‰ç›¸åŒç±»å‹çš„å˜é‡å¯ä»¥æŒ‡å‘ä¸åŒçš„åŠŸèƒ½ï¼š</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="n">mathFunction</span> <span class="o">=</span> <span class="n">multiplyTwoInts</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"Result: </span><span class="se">\(</span><span class="nf">mathFunction</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="c1">// Prints "Result: 6"</span>
</code></pre>
</div>

<p>å’Œå…¶ä»–ç±»å‹ä¸€æ ·ï¼Œå¯ä»¥æŒ‡å‘å¸¸é‡æˆ–è€…å˜é‡ï¼š</p>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">anotherMathFunction</span> <span class="o">=</span> <span class="n">addTwoInts</span>
<span class="c1">// anotherMathFunction is inferred to be of type (Int, Int) -&gt; Int</span>
</code></pre>
</div>

<h5 id="section">åŠŸèƒ½ç±»å‹ä½œä¸ºå‚æ•°ç±»å‹</h5>

<p>å¯ä»¥ç”¨(Int, Int) -&gt; Intè¿™æ ·çš„å‡½æ•°ç±»å‹ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„å‚æ•°ç±»å‹ã€‚è¿™æ ·ä½ å¯ä»¥å°†å‡½æ•°çš„ä¸€éƒ¨åˆ†å®ç°äº¤ç”±ç»™å‡½æ•°çš„è°ƒç”¨è€…ã€‚</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">multiplyTwoInts</span><span class="p">(</span><span class="n">_</span> <span class="nv">a</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="n">_</span> <span class="nv">b</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span>
<span class="p">}</span>

<span class="n">mathFunction</span> <span class="o">=</span> <span class="n">multiplyTwoInts</span>

<span class="kd">func</span> <span class="nf">addTwoInts</span><span class="p">(</span><span class="n">_</span> <span class="nv">a</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="n">_</span> <span class="nv">b</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">printMathResult</span><span class="p">(</span><span class="n">_</span> <span class="nv">mathFunction</span><span class="p">:</span> <span class="p">(</span><span class="kt">Int</span><span class="p">,</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span><span class="p">,</span> <span class="n">_</span> <span class="nv">a</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="n">_</span> <span class="nv">b</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Result: </span><span class="se">\(</span><span class="nf">mathFunction</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="p">}</span>
<span class="nf">printMathResult</span><span class="p">(</span><span class="n">addTwoInts</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="c1">// Prints "Result: 8"</span>
</code></pre>
</div>

<p>è¿™ä¸ªä¾‹å­å®šä¹‰äº†printMathResultå‡½æ•°ï¼Œå®ƒæœ‰ä¸‰ä¸ªå‚æ•°ï¼šç¬¬ä¸€ä¸ªå‚æ•° mathFunctionï¼Œç±»å‹æ˜¯(Int, Int) -&gt; Intï¼Œå¯ä»¥ä¼ å…¥ä»»ä½•è¿™ç§ç±»å‹çš„å‡½æ•°ï¼›ç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªå‚æ•° a å’Œ bï¼Œå®ƒä»¬çš„ç±»å‹éƒ½æ˜¯ Intï¼Œ<strong>è¿™ä¸¤ä¸ªå€¼ä½œä¸ºå·²ç»™çš„å‡½æ•°çš„è¾“å…¥å€¼</strong></p>

<h5 id="section-1">åŠŸèƒ½ç±»å‹ä½œä¸ºè¿”å›ç±»å‹</h5>
<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="c1">// åŸºç¡€ç§»åŠ¨å‡½æ•°</span>
<span class="kd">func</span> <span class="nf">stepForward</span><span class="p">(</span><span class="n">_</span> <span class="nv">input</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">input</span> <span class="o">+</span> <span class="mi">1</span>
<span class="p">}</span>
<span class="kd">func</span> <span class="nf">stepBackward</span><span class="p">(</span><span class="n">_</span> <span class="nv">input</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">input</span> <span class="o">-</span> <span class="mi">1</span>
<span class="p">}</span>

<span class="c1">// å‡½æ•°ï¼šchooseStepFunction(backward:)ï¼Œå®ƒçš„è¿”å›ç±»å‹ä¸º(Int) -&gt; Int</span>
<span class="kd">func</span> <span class="nf">chooseStepFunction</span><span class="p">(</span><span class="nv">backward</span><span class="p">:</span> <span class="kt">Bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">backward</span> <span class="p">?</span> <span class="nv">stepBackward</span> <span class="p">:</span> <span class="n">stepForward</span>
<span class="p">}</span>

<span class="k">var</span> <span class="nv">currentValue</span> <span class="o">=</span> <span class="mi">3</span>
<span class="c1">// ä¸€ä¸ªæŒ‡å‘å‡½æ•°çš„å¸¸é‡ moveNearerToZero</span>
<span class="k">let</span> <span class="nv">moveNearerToZero</span> <span class="o">=</span> <span class="nf">chooseStepFunction</span><span class="p">(</span><span class="nv">backward</span><span class="p">:</span> <span class="n">currentValue</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="s">"Counting to zero:"</span><span class="p">)</span>

<span class="k">while</span> <span class="n">currentValue</span> <span class="o">!=</span> <span class="mi">0</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"</span><span class="se">\(</span><span class="n">currentValue</span><span class="se">)</span><span class="s">... "</span><span class="p">)</span>
    <span class="n">currentValue</span> <span class="o">=</span> <span class="nf">moveNearerToZero</span><span class="p">(</span><span class="n">currentValue</span><span class="p">)</span>
<span class="p">}</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"zero!"</span><span class="p">)</span>
<span class="c1">// 3...</span>
<span class="c1">// 2...</span>
<span class="c1">// 1...</span>
<span class="c1">// zero!</span>
</code></pre>
</div>

<h3 id="nested-functions">Nested Functionsï¼šåµŒå¥—å‡½æ•°</h3>

<p>é‡å†™ä¸Šè¾¹çš„å½’é›¶å‡½æ•°ï¼š</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">chooseStepFunction</span><span class="p">(</span><span class="nv">backward</span><span class="p">:</span> <span class="kt">Bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">stepForward</span><span class="p">(</span><span class="nv">input</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span> <span class="k">return</span> <span class="n">input</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">}</span>
    <span class="kd">func</span> <span class="nf">stepBackward</span><span class="p">(</span><span class="nv">input</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span> <span class="k">return</span> <span class="n">input</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">}</span>
    <span class="k">return</span> <span class="n">backward</span> <span class="p">?</span> <span class="nv">stepBackward</span> <span class="p">:</span> <span class="n">stepForward</span>
<span class="p">}</span>
<span class="k">var</span> <span class="nv">currentValue</span> <span class="o">=</span> <span class="o">-</span><span class="mi">4</span>
<span class="k">let</span> <span class="nv">moveNearerToZero</span> <span class="o">=</span> <span class="nf">chooseStepFunction</span><span class="p">(</span><span class="nv">backward</span><span class="p">:</span> <span class="n">currentValue</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
<span class="c1">// moveNearerToZero now refers to the nested stepForward() function</span>
<span class="k">while</span> <span class="n">currentValue</span> <span class="o">!=</span> <span class="mi">0</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"</span><span class="se">\(</span><span class="n">currentValue</span><span class="se">)</span><span class="s">... "</span><span class="p">)</span>
    <span class="n">currentValue</span> <span class="o">=</span> <span class="nf">moveNearerToZero</span><span class="p">(</span><span class="n">currentValue</span><span class="p">)</span>
<span class="p">}</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"zero!"</span><span class="p">)</span>
<span class="c1">// -4...</span>
<span class="c1">// -3...</span>
<span class="c1">// -2...</span>
<span class="c1">// -1...</span>
<span class="c1">// zero!</span>
</code></pre>
</div>

                </div>
                <div class="read-all">
                    <a  href="/2016/12/05/swift_VI_Functions/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
        </ul>



        <!-- Pagination links -->
        <div class="pagination">
          
            <span class="previous disable"><i class="fa fa-angle-double-left"></i></span>
            <span class="previous disable"><i class="fa fa-angle-left"></i></span>
          
          <span class="page_number ">1/6</span>
          
            <a href="/page2" class="next"><i class="fa fa-angle-right"></i></a>
            <a href="/page6" class="next"><i class="fa fa-angle-double-right"></i></a>
          
        </div>
    </div>
    <!-- <button class="anchor"><i class="fa fa-anchor"></i></button> -->
    <div class="right">
        <div class="wrap">
            <div class="side">
                <div>
                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                    æœ€æ–°æ–‡ç« 
                </div>
                <ul class="content-ul" recent>
                    
                        <li><a href="/2017/01/18/SDiffuseMenu/">Swift ç‰ˆ AwesomeMenu çš„æ”¹å†™ä¹‹æ—…:SDiffuseMenu</a></li>
                    
                        <li><a href="/2016/12/11/swift_X_Initialization_Deinitialization/">Swift3.0_X_æ„é€ è¿‡ç¨‹å’Œææ„è¿‡ç¨‹ </a></li>
                    
                        <li><a href="/2016/12/10/swift_IX_Methods_Subscripts_Inheritance/">Swift3.0_IX_æ–¹æ³•ã€ä¸‹æ ‡å’Œç»§æ‰¿ </a></li>
                    
                        <li><a href="/2016/12/08/swift_VIII_Enumerations_Classes_Structures_Properties/">Swift3.0_VIII_æšä¸¾ã€ç±»ã€ç»“æ„ä½“ã€å±æ€§</a></li>
                    
                        <li><a href="/2016/12/07/swift_VII_Closures/">Swift3.0_VII_é—­åŒ…</a></li>
                    
                        <li><a href="/2016/12/05/swift_VI_Functions/">Swift3.0_VI_å‡½æ•°</a></li>
                    
                        <li><a href="/2016/12/03/swift_V_Control-Flow/">Swift3.0_V_æ§åˆ¶æµ</a></li>
                    
                        <li><a href="/2016/12/01/swift_IV_Collection-Types/">Swift3.0_IV_é›†åˆ</a></li>
                    
                        <li><a href="/2016/11/26/swift_III_Strings-and-Characters/">Swift_III_å­—ç¬¦(ä¸²)</a></li>
                    
                        <li><a href="/2016/11/22/swift_II_Basic-Operators/">Swift_II_åŸºæœ¬è¿ç®—ç¬¦</a></li>
                    
                </ul>
            </div>

            <!-- Content -->
            <div class="side ">
                <div>
                    <i class="fa fa-th-list"></i>
                    åˆ†ç±»
                </div>
                <ul class="content-ul" cate>
                    
                    <li>
                        <a href="/category/#apache" class="categories-list-item" cate="apache">
                            <span class="name">
                                apache
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#WKWebView" class="categories-list-item" cate="WKWebView">
                            <span class="name">
                                WKWebView
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#IOSé€†å‘" class="categories-list-item" cate="IOSé€†å‘">
                            <span class="name">
                                IOSé€†å‘
                            </span>
                            <span class="badge">2</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#block" class="categories-list-item" cate="block">
                            <span class="name">
                                block
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#NSURLProtocol" class="categories-list-item" cate="NSURLProtocol">
                            <span class="name">
                                NSURLProtocol
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#ç¼“å­˜" class="categories-list-item" cate="ç¼“å­˜">
                            <span class="name">
                                ç¼“å­˜
                            </span>
                            <span class="badge">2</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#NSURLCache" class="categories-list-item" cate="NSURLCache">
                            <span class="name">
                                NSURLCache
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#SecureCRT" class="categories-list-item" cate="SecureCRT">
                            <span class="name">
                                SecureCRT
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#åšå®¢" class="categories-list-item" cate="åšå®¢">
                            <span class="name">
                                åšå®¢
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#jekyll" class="categories-list-item" cate="jekyll">
                            <span class="name">
                                jekyll
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#OS_X" class="categories-list-item" cate="OS_X">
                            <span class="name">
                                OS_X
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Sublime" class="categories-list-item" cate="Sublime">
                            <span class="name">
                                Sublime
                            </span>
                            <span class="badge">2</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#iOSé€†å‘" class="categories-list-item" cate="iOSé€†å‘">
                            <span class="name">
                                iOSé€†å‘
                            </span>
                            <span class="badge">7</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#IOSåŸºç¡€" class="categories-list-item" cate="IOSåŸºç¡€">
                            <span class="name">
                                IOSåŸºç¡€
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#python" class="categories-list-item" cate="python">
                            <span class="name">
                                python
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Swift" class="categories-list-item" cate="Swift">
                            <span class="name">
                                Swift
                            </span>
                            <span class="badge">3</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Swift3.0" class="categories-list-item" cate="Swift3.0">
                            <span class="name">
                                Swift3.0
                            </span>
                            <span class="badge">8</span>
                        </a>
                    </li>
                    
                </ul>
            </div>
            <!-- å…¶ä»–divæ¡†æ”¾åˆ°è¿™é‡Œ -->
            <div class="side">
                <div>
                    <i class="fa fa-tags"></i>
                    Tags
                </div>
                <div class="tags-cloud">
                    
                    
                    
                    

                    

                    
                      
                      
                      
                      
                      
                      <a href="/tag/#apache" style="font-size: 9pt; color: #999;">apache</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#WKWebViewã€Nativeä¸JSã€ç¼“å­˜ã€NSURLProtocol" style="font-size: 9pt; color: #999;">WKWebViewã€Nativeä¸JSã€ç¼“å­˜ã€NSURLProtocol</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Charles" style="font-size: 9pt; color: #999;">Charles</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Reveal" style="font-size: 9pt; color: #999;">Reveal</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#iOSOpenDev" style="font-size: 9pt; color: #999;">iOSOpenDev</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#block" style="font-size: 9pt; color: #999;">block</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#NSURLProtocol" style="font-size: 9pt; color: #999;">NSURLProtocol</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#ç¼“å­˜" style="font-size: 10.5pt; color: #888;">ç¼“å­˜</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#NSURLCache" style="font-size: 9pt; color: #999;">NSURLCache</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#SecureCRT" style="font-size: 9pt; color: #999;">SecureCRT</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#åšå®¢" style="font-size: 9pt; color: #999;">åšå®¢</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#jekyll" style="font-size: 9pt; color: #999;">jekyll</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#sublime" style="font-size: 9pt; color: #999;">sublime</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#ç¯å¢ƒå˜é‡" style="font-size: 9pt; color: #999;">ç¯å¢ƒå˜é‡</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Sublime" style="font-size: 10.5pt; color: #888;">Sublime</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#iOSé€†å‘" style="font-size: 9pt; color: #999;">iOSé€†å‘</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#class_dump" style="font-size: 9pt; color: #999;">class_dump</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Theos" style="font-size: 10.5pt; color: #888;">Theos</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Logos" style="font-size: 9pt; color: #999;">Logos</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#IOSä»£ç è§„èŒƒ" style="font-size: 9pt; color: #999;">IOSä»£ç è§„èŒƒ</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#IOSåŸºç¡€" style="font-size: 9pt; color: #999;">IOSåŸºç¡€</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#IDAã€iFunBoxã€dyld_decache" style="font-size: 9pt; color: #999;">IDAã€iFunBoxã€dyld_decache</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#iOSé€†å‘å·¥å…·é›†" style="font-size: 9pt; color: #999;">iOSé€†å‘å·¥å…·é›†</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#iOSé€†å‘ç†è®ºåŸºç¡€" style="font-size: 9pt; color: #999;">iOSé€†å‘ç†è®ºåŸºç¡€</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#çˆ¬åŸºé‡‘æ•°æ®" style="font-size: 9pt; color: #999;">çˆ¬åŸºé‡‘æ•°æ®</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#è„šæœ¬" style="font-size: 9pt; color: #999;">è„šæœ¬</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Swift" style="font-size: 11.5pt; color: #666;">Swift</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Swift3.0" style="font-size: 18pt; color: #000;">Swift3.0</a>
                    
                </div>
            </div>

            <!-- <div class="side">
                <div>
                    <i class="fa fa-external-link"></i>
                    Links
                </div>
                <ul  class="content-ul">

                </ul>
            </div> -->
        </div>
    </div>
</div>
<!-- <script src="/js/scroll.min.js " charset="utf-8"></script> -->
<!-- <script src="/js/pageContent.js " charset="utf-8"></script> -->


    <footer class="site-footer">


    <div class="wrapper">

        <p class="description">
             3è¡Œä»£ç çš„æŠ€æœ¯åšå®¢ 
        </p>
        <p class="contact">
            Contact me at:  
            <a href="mailto:mythziven@gmail.com" title="email"><i class="fa fa-envelope-o" aria-hidden="true"></i></a>   -->
<!--            <a href="mailto:mythziven@gmail.com" title="email"><i class="fa fa-envelope-o" aria-hidden="true"></i></a>-->
<!--            <a href="mailto:mythziven@gmail.com" title="email"><i class="fa fa-envelope-o" aria-hidden="true"></i></a>        -->


        </p>
        <p>
            æœ¬ç«™æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡ï¼Œæœ¬ç«™è®¿å®¢æ•°<span id="busuanzi_value_site_uv"></span>äººæ¬¡ï¼Œæœ¬æ–‡æ€»é˜…è¯»é‡<span id="busuanzi_value_page_pv"></span>æ¬¡
        </p>
        <p class="power">
        
            <span>
                Site powered by <a href="https://jekyllrb.com/">Jekyll</a> & <a href="https://pages.github.com/">Github Pages</a>.
            </span>

          <!--   <span>
                Theme designed by <a href="https://github.com/mythkiven">MyKiven</a>.
            </span> -->

        </p>
    </div>
</footer>
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <div class="back-to-top">
    <a href="#top" class="scroll">
        <i class="fa fa-arrow-up" aria-hidden="true"></i>
    </a>
</div>

    <script src=" /js/main.js " charset="utf-8"></script>
    <script src=" /js/scroll.min.js " charset="utf-8"></script>
  </body>

</html>
